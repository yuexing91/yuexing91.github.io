(function(e){function t(t){for(var o,a,c=t[0],l=t[1],u=t[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);s&&s(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/yuexing91.github.io/vuc3-element-form/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;i.push(["e35a","chunk-vendors"]),n()})({"0091":function(e,t,n){"use strict";n("5e07")},"01d9":function(e,t,n){var o={"./FormItem.js":"2421","./GridFormItem.js":"6d2d"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id="01d9"},"0641":function(e,t,n){},"0fe9":function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-row",name:"栅格行",eventTypes:[],type:["row"],slots:[{slot:"default",name:"内容"}],props:{gutter:{label:"间距",editors:"number"},align:{label:"垂直对齐",editors:"select?@items=top|middle|bottom"},justify:{label:"水平排列",editors:"select?start|end|center|space-around|space-between"},tag:{label:"自定义元素标签",editors:"string"}},childLimit:function(e){return"el-col"===e}}},"14f9":function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-form",name:"表单",eventTypes:[{id:"validate",name:"触发校验"}],type:["container","form"],slots:[{slot:"default",name:"内容"}],props:{model:{label:"数据对象",change:function(e,t,n){var o=n.querySelectorAll(".input");o.forEach((function(n){var o=n.getDirective("model");if(o){var r=o.getAttrValue(),i=r.split(".");if(i[0]==t.attrValue){var a=[e.attrValue].concat(i.slice(1)).join(".");n.setAttrValue(o.getAttrName(),a)}}}))}},rules:{label:"验证规则"},inline:{label:"行内表单",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},labelWidth:{label:"标签宽度",editors:"string"},size:{label:"尺寸",editors:"select?@items=medium:大|small:中|mini:小"},labelPosition:{label:"标签位置",editors:"select?@items=left:左|right:右|top:上"},labelSuffix:{label:"标签后缀",editors:"string"},hideRequiredAsterisk:{label:"隐藏必填标记",editors:"boolean"},showMessage:{label:"校验错误信息",editors:"boolean?defaultValue=true"},inlineMessage:{label:"行内校验信息",editors:"boolean?trueText=显示&falseText=隐藏"},statusIcon:{label:"反馈图标",editors:"boolean"},validateOnRuleChange:{label:"规则改变重新校验",editors:"boolean?defaultValue=true"}}}},"1dd2":function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-cascader",name:"级联选择框",type:["input","cascader"],eventTypes:[{id:"change",name:"值改变"},{id:"expand-change",name:"展开节点"},{id:"blur",name:"失去焦点"},{id:"focus",name:"获得焦点"},{id:"visible-change",name:"下拉框出现/隐藏"},{id:"remove-tag",name:"移除Tag"}],slots:[],props:{options:{label:"选项数据源",editors:{type:"array",props:{keyName:"value",isTreeData:!0,fields:[{name:"value",label:"选项值"},{name:"label",label:"选项文本"}]}}},size:{label:"尺寸",editors:"select?@items=medium:大|small:中|mini:小"},placeholder:{label:"占位符",editors:"string"},disabled:{label:"禁用",editors:"boolean"},clearable:{label:"清空按钮",editors:"boolean"},showAllLevels:{label:"完整路径",editors:"boolean?trueText=显示&flaseText=隐藏"},collapseTags:{label:"折叠标签",editors:"boolean"},separator:{label:"分隔符",editors:"string"},filterable:{label:"可搜索",editors:"boolean"},debounce:{label:"防抖延迟",editors:"number"},popperClass:{label:"自定义类名",editors:"string"},popperAppendToBody:{label:"插入至body",editors:"boolean?defaultValue=true"},modelValue:{label:"值",editors:"string"}},vModel:["modelValue"]}},"1fa5":function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-tabs",name:"标签页组",eventTypes:[{id:"tab-click",name:"点击"},{id:"edit",name:"新增或删除"},{id:"tab-add",name:"新增"},{id:"tab-remove",name:"关闭"}],type:["panel","tabs"],slots:[{slot:"default",name:"内容"}],props:{modelValue:{label:"激活标签页名称",editors:"string"},type:{label:"风格",editors:"select?@items=card:默认|border-card:边框"},tabPosition:{label:"位置",editors:"select?@items=top|right|bottom|left",help:"页签位置"},tabBarStyle:{label:"样式",help:"tab bar 的样式"},closable:{label:"可关闭",editors:"boolean"},addable:{label:"可新增",editors:"boolean"},editable:{label:"可编辑",editors:"boolean"},stretch:{label:"宽度自适应",editors:"boolean"},beforeLeave:{label:"切换标签之前"}},vModel:["modelValue"],childLimit:function(e){return"el-tab-pane"===e},editorTools:[{title:"添加标签页",icon:"PlusCircleOutlined",handler:function(e,t){t.appendNode('<el-tab-pane name="新增标签页'.concat(t.children.length+1,'"></el-tab-pane>'))}}]}},2218:function(e,t,n){},2421:function(e,t,n){"use strict";n.r(t);var o='<el-form-item key="formItem">\n      <type.input key="input" allowChildren="true"/>\n    </el-form-item>';t["default"]={id:"FormItem",name:"表单项",template:o,configs:function(e){var t=[{title:"属性",mode:"prop",items:[{nodeKey:"formItem",name:"prop"},{nodeKey:"formItem",name:"label",label:"字段标签"},{nodeKey:"formItem",name:"required"},{nodeKey:"input",name:"autosize"},{nodeKey:"input",name:"min"},{nodeKey:"input",name:"max"},{nodeKey:"input",name:"count"},{nodeKey:"input",name:"allowHalf"},{nodeKey:"input",name:"size"},{nodeKey:"input",name:"valueFormat"},{nodeKey:"input",name:"format"},{nodeKey:"input",name:"clearable"},{nodeKey:"input",name:"placeholder"},{nodeKey:"input",name:"step"},{nodeKey:"input",name:"disabled"},{nodeKey:"formItem",name:"rules"}]},{title:"事件",mode:"event",items:[{nodeKey:"input",id:"change",name:"值变更事件"}]},{title:"样式",mode:"style",items:[{nodeKey:"input",id:"width",name:"宽度",excludeTags:["el-checkbox-group","el-radio-group"]}]}];return t}}},"2f66":function(e,t,n){"use strict";n.r(t);var o=n("ddfa");t["default"]={id:"el-button",name:"按钮",eventTypes:[{id:"click",name:"点击",quick:!0}],slots:[{slot:"default",name:"按钮内容"}],type:["button"],props:{type:{label:"按钮类型",editors:"select?@items=primary|success|warning|danger|info|text"},plain:{label:"朴素按钮",editors:"boolean"},icon:{label:"图标",editors:"string"},size:{label:"尺寸",editors:Object(o["a"])()},round:{label:"圆角按钮",editors:"boolean"},circle:{label:"圆形按钮",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},loading:{label:"载入状态",editors:"boolean"},autofocus:{label:"默认聚焦",editors:"boolean"},autoInsertSpace:{label:"自动空格",editors:"boolean"},nativeType:{label:"原生type",editors:"select?@items=button|submit|reset"}},text:{label:"按钮文本"},childLimit:function(){return!1},vucProxyOption:{textProxy:!1}}},3428:function(e,t,n){"use strict";n.r(t),t["default"]={id:["el-col"],name:"栅格",eventTypes:[],type:["col"],slots:[{slot:"default",name:"默认插槽"}],props:{span:{label:"栅格占位格数",editors:"number"},offset:{label:"间隔",editors:"number"},push:{label:"向右移动",editors:"number"},pull:{label:"向左移动",editors:"number"},xs:{label:"xs",editors:"number"},sm:{label:"sm",editors:"number"},md:{label:"md",editors:"number"},lg:{label:"lg",editors:"number"},xl:{label:"xl",editors:"number"},tag:{label:"自定义元素标签",editors:"string"}},parentLimit:function(e){return"a-row"===e.tag}}},4678:function(e,t,n){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"24217","./ku.js":"24217","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id="4678"},"536c":function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-date-picker",name:"日期选择框",type:["input","date-picker"],eventTypes:[{id:"change",name:"值改变"},{id:"blur",name:"失去焦点"},{id:"focus",name:"获得焦点"},{id:"calendar-change",name:"calendar-change"}],slots:[],props:{modelValue:{label:"值",editors:"string"},type:{label:"类型",editors:"select?@items=year:年|month:月|date:日期|dates:多日期|datetime:时间|week:星期|datetimerange:时间范围|daterange:日期范围|monthrange:月范围"},format:{label:"显示格式化",editors:"string"},valueFormat:{label:"值格式化",editors:"string"},editable:{label:"禁用输入框",editors:"boolean"},clearable:{label:"清除按钮",editors:"boolean"},placeholder:{label:"占位符",editors:"string"},startPlaceholder:{label:"开始日期占位符",editors:"string"},endPlaceholder:{label:"结束日期占位符",editors:"string"},size:{label:"尺寸",editors:"select?@items=medium:大|small:中|mini:小"},rangeSeparator:{label:"范围分隔符",editors:"string"},unlinkPanels:{label:"范围联动",editors:"boolean"},readonly:{label:"只读",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},validateEvent:{label:"触发表单校验",editors:"boolean?defaultValue=true"},shortcuts:{label:"快捷选项"}},vModel:["modelValue"]}},"5e07":function(e,t,n){},6921:function(e,t,n){"use strict";n.r(t),t["default"]={id:["el-option-group"],name:"选项分组",eventTypes:[],props:{label:{label:"组名",editors:"string"},disabled:{label:"禁用",editors:"boolean"}},vucProxyOption:{textProxy:!1},vucEditorOption:{onBeforeSelectNode:!1}}},"6d2d":function(e,t,n){"use strict";n.r(t);var o=n("2421"),r='\n<el-col key="col">\n  <el-form-item key="formItem">\n    <type.input key="input" allowChildren="true"/>\n  </el-form-item>\n</el-col>';t["default"]={id:"GridFormItem",name:"栅格表单项",template:r,configs:function(e){var t=o["default"].configs(e);return t[0].items.splice(2,0,{nodeKey:"col",props:"name=span"}),t}}},"82fd":function(e,t,n){"use strict";n.r(t);var o=n("ddfa");t["default"]={id:["el-select"],name:"下拉框",eventTypes:[{id:"change",name:"值变更"},{id:"select",name:"选中"},{id:"deselect",name:"取消选中"},{id:"focus",name:"获得焦点"},{id:"blur",name:"失去焦点"},{id:"inputKeydown",name:"键盘按下"},{id:"mouseenter",name:"鼠标移入"},{id:"mouseleave",name:"鼠标移出"},{id:"dropdownVisibleChange",name:"展开下拉菜单"},{id:"popupScroll",name:"下拉列表滚动"},{id:"search",name:"搜索时"}],type:["input","select"],slots:[{slot:"placeholder",name:"选择框默认文字"},{slot:"notFoundContent",name:"下拉列表为空时内容"},{slot:"suffixIcon",name:"后缀图标"},{slot:"removeIcon",name:"多选框清除图标"},{slot:"clearIcon",name:"多选框清空图标"},{slot:"menuItemSelectedIcon",name:"选中的条目图标"}],props:{modelValue:{label:"值",editors:"string"},multiple:{label:"多选",editors:"boolean"},multipleLimit:{label:"多选最大值",editors:"number"},size:{label:"尺寸",editors:Object(o["a"])()},placeholder:{label:"占位文本\t",editors:"string"},clearable:{label:"清空按钮",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},collapseTags:{label:"多选折叠标签",editors:"boolean"},filterable:{label:"可筛选",editors:"boolean",help:"使单选模式可搜索"},allowAreate:{label:"允许创建新条目",editors:"boolean"},filterMethod:{label:"自定义筛选方法"},remote:{label:"远程搜索",editors:"boolean"},remoteMethod:{label:"远程搜索函数"},loading:{label:"加载状态",editors:"boolean"},loadingText:{label:"加载中时文字",editors:"string"},noMatchText:{label:"无匹配项文字",editors:"string"},noDataText:{label:"选项为空文字",editors:"string"},reserveKeyword:{label:"保留搜索关键词",editors:"boolean"},defaultFirstOption:{label:"回车选中首项",editors:"boolean"},popperAppendToBody:{label:"插入到body",editors:"boolean?defaultValue=true"}},vModel:["value"],optionEditor:{title:"下拉框选项",tag:"a-select-option",getData:function(e){return{value:e.getAttrValue("value"),label:e.getAttrValue("label")||e.getText()}},setData:function(e,t){e.setAttrValue("value",t.value),e.getBind("label")?e.setAttrValue("label",t.label):e.setText(t.label)}}}},"89f7":function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-rate",name:"评分",type:["input","rate"],eventTypes:[{id:"change",name:"值改变"}],props:{modelValue:{label:"值",editors:"number"},max:{label:"最大分值",editors:"number"},lowThreshold:{label:"低中分分界值",editors:"number"},highThreshold:{label:"高中分分界值",editors:"number"},allowHalf:{label:"允许半选",editors:"boolean"},showText:{label:"显示辅助文字",editors:"boolean"},showScore:{label:"显示当前分数",editors:"boolean"},texts:{label:"辅助文字",editors:"array?type=string"},disabled:{label:"禁用",editors:"boolean"},scoreTemplate:{label:"分数显示模板",editors:"string"}},vModel:["modelValue"]}},"8a33":function(e,t,n){"use strict";n.r(t);n("ddfa");t["default"]={id:"el-auto-complete",name:"自动完成",eventTypes:[{id:"change",name:"值改变"},{id:"select",name:"选中"}],slots:[{slot:"prefix",name:"头部内容"},{slot:"suffix",name:"尾部内容"},{slot:"prepend",name:"前置内容"},{slot:"append",name:"后置内容"}],type:["input","auto-complete"],props:{modelValue:{label:"值",editors:"string"},clearable:{label:"清空按钮",editors:"boolean"},valueKey:{label:"键名",editors:"string"},placement:{label:"菜单弹出位置",editors:"select?@items=top|top-start|top-end|bottom|bottom-start|bottom-end"},fetchSuggestions:{lable:"数据方法"},placeholder:{label:"占位文本\t",editors:"string"},disabled:{label:"禁用",editors:"boolean"},readonly:{label:"只读",editors:"boolean"},debounce:{label:"防抖延时",editors:"number"},icon:{label:"图标组件",editors:"string"}},vModel:["value"]}},"8b3d":function(e,t,n){"use strict";n.r(t);var o=n("ddfa");t["default"]={id:"el-radio-group",name:"单选框组",eventTypes:[{id:"change",name:"值改变"}],type:["input","radio"],props:{modelValue:{label:"值",editors:"string"},disabled:{label:"禁用",editors:"boolean"},size:{label:"尺寸",editors:Object(o["a"])()},textColor:{label:"激活时文本颜色",editors:"string"},fill:{label:"激活时填充颜色",editors:"string"}},optionEditor:{title:"单选框选项",tag:"el-radio",getData:function(e){return{value:e.getAttrValue("value"),label:e.getText()}},setData:function(e,t){e.setAttrValue("value",t.value),e.setText(t.label)}},vModel:["modelValue"],vucProxyOption:{textProxy:!1}}},"8c84":function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-tab-pane",name:"标签页",type:["panel","tab-pane"],slots:[{slot:"default",name:"内容"},{slot:"label",name:"标题"}],props:{name:{label:"key",editors:"string"},label:{label:"标题",editors:"string"},disabled:{label:"禁用",editors:"boolean"},closable:{label:"可关闭",editors:"boolean"},lazy:{label:"延迟渲染",editors:"boolean"}}}},9328:function(e,t,n){"use strict";n.r(t),t["default"]={id:["el-option"],name:"选项",eventTypes:[],props:{value:{label:"值",editors:"string"},label:{label:"值",editors:"string"},disabled:{label:"禁用",editors:"boolean"}},vucProxyOption:{textProxy:!1},vucEditorOption:{onBeforeSelectNode:!1}}},"95e6":function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-switch",name:"开关",eventTypes:[{id:"change",name:"值改变"}],type:["input","switch"],props:{modelValue:{label:"值",editors:"number"},disabled:{label:"禁用",editors:"boolean"},width:{label:"宽度",editors:"string"},activeText:{label:"选中时文本",editors:"string"},inactiveText:{label:"未选中文本",editors:"string"},activeValue:{label:"选中时值",editors:["string","boolean?defaultValue=true","number"]},onActiveValue:{label:"未选中值",editors:["string","boolean","number"]},activeColor:{label:"选中时颜色",editors:"string"},inactiveColor:{label:"未选中颜色",editors:"string"},borderColor:{label:"边框颜色",editors:"string"},loading:{label:"加载中状态",editors:"boolean"},inlinePrompt:{label:"只显示第一个文本",editors:"boolean"},beforeChange:{label:"状态改变之前"}},vModel:["modelValue"],vucProxyOption:{textProxy:!1}}},"9b8a":function(e,t,n){var o={"./AutoComplete.js":"8a33","./Button.js":"2f66","./Card.js":"bf67","./Cascader.js":"1dd2","./CheckGroup.js":"beed","./Checkbox.js":"b485","./Col.js":"3428","./DatePicker.js":"536c","./Form.js":"14f9","./FormItem.js":"b525","./Input.js":"de00","./InputNumber.js":"cf63","./Radio.js":"b182","./RadioButton.js":"a5bc","./RadioGroup.js":"8b3d","./Rate.js":"89f7","./Row.js":"0fe9","./Select.js":"82fd","./SelectOptGroup.js":"6921","./SelectOption.js":"9328","./Slider.js":"fdb9","./Switch.js":"95e6","./TabPane.js":"8c84","./Tabs.js":"1fa5"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id="9b8a"},a5bc:function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-radio-button",name:"单选框按钮",eventTypes:[{id:"change",name:"值改变"}],type:["input","radio","radio-button"],props:{label:{label:"值",editors:["string","number"]},disabled:{label:"禁用",editors:"boolean"},name:{label:"原生name",editors:"string"}},vModel:["modelValue"],vucEditorOption:{onBeforeSelectNode:function(e){return"el-radio-group"!==e.parent.tag}}}},af01:function(e,t,n){},b182:function(e,t,n){"use strict";n.r(t);var o=n("ddfa");t["default"]={id:"el-radio",name:"单选框",eventTypes:[{id:"change",name:"值改变"}],type:["input","radio"],props:{modelValue:{label:"绑定值",editors:["boolean","string","number"]},label:{label:"值",editors:["boolean","string","number"]},disabled:{label:"禁用",editors:"boolean"},border:{label:"边框",editors:"boolean"},size:{label:"尺寸",editors:Object(o["a"])()},name:{label:"原生name",editors:"string"}},vModel:["modelValue"],vucEditorOption:{onBeforeSelectNode:function(e){return"el-radio-group"!==e.parent.tag}},vucProxyOption:{textProxy:!1}}},b485:function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-checkbox",name:"复选框",eventTypes:[{id:"change",name:"值改变"}],type:["input","checkbox"],props:{modelValue:{label:"是否选中",editors:"boolean"},label:{label:"复选框值",editors:"string"},trueLabel:{label:"选择时的值",editors:"string"},falseLabel:{label:"未选时的值",editors:"string"},size:{label:"尺寸",editors:"select?@items=medium:大|small:中|mini:小"},border:{label:"边框",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},checked:{label:"当前是否勾选",editors:"boolean"},indeterminate:{label:"indeterminate",editors:"boolean"}},vModel:["modelValue"],vucEditorOption:{onBeforeSelectNode:function(e){return"el-checkbox-group"!==e.parent.tag}},vucProxyOption:{textProxy:!1}}},b525:function(e,t,n){"use strict";function o(e,t){return l(e)||c(e,t)||i(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done);a=!0)if(i.push(o.value),t&&i.length===t)break}catch(l){c=!0,r=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw r}}return i}}function l(e){if(Array.isArray(e))return e}function u(e,t){return t.isVBind()?e+"[".concat(t.attrValue,"]"):e+"."+t.attrValue}n.r(t),t["default"]={id:"el-form-item",name:"表单项",eventTypes:[],type:["container","form-item"],slots:[{slot:"default",name:"内容"},{slot:"label",name:"标签"},{slot:"error",name:"错误信息"}],props:{prop:{label:"字段名",editors:"string",change:function(e,t,n){var r=n.closest("el-form"),i=n.findChild(".input");if(i&&r){var a=r.getAttrValue(":model");if(a){var c=i.getConfig("vModel",[]),l=o(c,1),s=l[0];if(s){var d="v-model";s&&"modelValue"!=s&&(d+=":"+s);var f="",p=e&&e.attrValue;p&&(f=u(a,e)),i.setAttrValue(d,f)}}}}},label:{label:"标签文本",editors:"string"},labelWidth:{label:"标签宽度",editors:"string"},required:{label:"是否必填",editors:"boolean"},rules:{label:"验证规则",editors:"validator"},error:{label:"错误信息",editors:"string"},showMessage:{label:"校验错误信息",editors:"boolean?defaultValue=true"},inlineMessage:{label:"行内校验信息",editors:"boolean?trueText=显示&falseText=隐藏"},size:{label:"尺寸",editors:"select?@items=medium:大|small:中|mini:小"}}}},beed:function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-checkbox-group",name:"复选框组",eventTypes:[{id:"change",name:"值改变"}],slots:[{slot:"default",name:"默认插槽"}],type:["input","checkbox-group"],props:{modelValue:{label:"值"},size:{label:"尺寸",editors:"select?@items=medium:大|small:中|mini:小"},disabled:{label:"禁用",editors:"boolean"},min:{label:"最小数量",editors:"number"},max:{label:"最大数量",editors:"number"},textColor:{label:"激活颜色",editors:"string"},fill:{label:"激活颜色",editors:"string"}},vModel:["modelValue"],optionEditor:{title:"复选框选项",tag:"el-checkbox",getData:function(e){return{value:e.getAttrValue("value"),label:e.getText()}},setData:function(e,t){e.setAttrValue("value",t.value),e.setText(t.label)}},vucProxyOption:{onBeforeRender:function(e,t){e.dfs((function(e){t.cancelOutline(e)}))}}}},bf67:function(e,t,n){"use strict";n.r(t),t["default"]={id:"el-card",name:"卡片",eventTypes:[{id:"tabChange",name:"页签切换"}],type:["panel","card"],slots:[{slot:"default",name:"卡片内容"},{slot:"header",name:"卡片标题"}],props:{header:{label:"标题",editors:"string",help:"标题"},shadow:{label:"阴影显示时机",editors:"select?@items=always|hover|never"},bodyStyle:{label:"body样式"}}}},cf63:function(e,t,n){"use strict";n.r(t);var o=n("ddfa");t["default"]={id:"el-input-number",name:"数字框",type:["input","input-number"],eventTypes:[{id:"change",name:"值改变"},{id:"blur",name:"失去焦点"},{id:"focus",name:"获得焦点"}],slots:[],props:{modelValue:{label:"值",editors:"string"},placeholder:{label:"占位符",editors:"string"},step:{label:"步长",editors:"number"},stepStrictly:{label:"只能输入 step 的倍数",editors:"boolean"},precision:{label:"数值精度",editors:"number"},size:{label:"尺寸",editors:Object(o["a"])()},controls:{label:"使用控制按钮",editors:"boolean"},controlsPosition:{label:"控制按钮位置",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},max:{label:"最大值",editors:"number"},min:{label:"最小值",editors:"number"}},vModel:["modelValue"]}},ddfa:function(e,t,n){"use strict";function o(){return{name:"选项",type:"select",props:{items:[{value:"medium",label:"大"},{value:"small",label:"中"},{value:"mini",label:"小"}]}}}n.d(t,"a",(function(){return o}))},de00:function(e,t,n){"use strict";n.r(t);var o=n("ddfa");t["default"]={id:"el-input",name:"输入框",type:["input"],eventTypes:[{id:"change",name:"值改变"},{id:"blur",name:"失去焦点"},{id:"focus",name:"获得焦点"},{id:"input",name:"输入"},{id:"clear",name:"清空"}],slots:[{slot:"prefix",name:"头部内容"},{slot:"suffix",name:"尾部内容"},{slot:"prepend",name:"前置内容"},{slot:"append",name:"后置内容"}],props:{modelValue:{label:"值",editors:"string"},size:{label:"尺寸",editors:Object(o["a"])()},type:{label:"类型",editors:"select?@items=text|textarea|password|url|email|date|number|tel"},showWordLimit:{label:"字数统计",editors:"boolean"},showPassword:{label:"切换密码图标",editors:"boolean"},clearable:{label:"清空按钮",editors:"boolean"},placeholder:{label:"占位文本\t",editors:"string"},disabled:{label:"禁用",editors:"boolean"},readonly:{label:"只读",editors:"boolean"},minlength:{label:"最小输入长度",editors:"number"},maxlength:{label:"最大输入长度",editors:"number"},rows:{label:"文本域行数",editors:"number"},autosize:{label:"高度自适应",editors:"boolean"},prefix:{label:"前缀",editors:"string"},suffix:{label:"后缀",editors:"string"},resize:{label:"是否缩放",editors:"select?@items=none|both|horizontal|vertical"},tabindex:{label:"tabindex",editors:["string","number"]},validateEvent:{label:"触发表单校验",editors:"boolean?defaultValue=true"},inputStyle:{label:"输入框样式"},label:{label:"文本",editors:"string"}},vModel:["modelValue"]}},e35a:function(e,t,n){"use strict";n.r(t);var o=n("7a23");function r(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("FormDesigner");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{formExplorerComponents:i.formExplorerComponents},null,8,["formExplorerComponents"])}n("202f"),n("2218"),n("7437"),n("af01");var i=n("e41d"),a=n("9b8a"),c=n("01d9");function l(e){return e.keys().map((function(t){return e(t).default}))}var u=l(a),s=l(c);function d(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("SampleNodePanel"),l=Object(o["resolveComponent"])("FormMode"),u=Object(o["resolveComponent"])("SampleCard"),s=Object(o["resolveComponent"])("PanelView"),d=Object(o["resolveComponent"])("SampleOptionPanel"),f=Object(o["resolveComponent"])("SampleDesigner");return Object(o["openBlock"])(),Object(o["createBlock"])(f,{style:{height:"100%"},editorOptions:n.editorOptions,explorerComponents:i.explorerComponents,"vue-content":n.vueContent},{right:Object(o["withCtx"])((function(e){var t=e.vucAst,n=e.selectNode;return[Object(o["createVNode"])(c,{title:"组件选项",vucAst:t,selectNode:n},null,8,["vucAst","selectNode"]),Object(o["createVNode"])(s,{title:"表单选项"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{title:"常规选项"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{"vuc-ast":t},null,8,["vuc-ast"])]})),_:2},1024)]})),_:2},1024),Object(o["createVNode"])(d,{title:"页面选项"})]})),_:1},8,["editorOptions","explorerComponents","vue-content"])}var f=Object(o["createTextVNode"])("简单模式"),p=Object(o["createTextVNode"])("栅格模式");function m(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("a-select-option"),l=Object(o["resolveComponent"])("a-select"),u=Object(o["resolveComponent"])("VucItem"),s=Object(o["resolveComponent"])("VucPropsPanel");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,{title:"模式"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{value:i.type,"onUpdate:value":t[0]||(t[0]=function(e){return i.type=e}),onChange:a.changeType,style:{width:"100%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{value:"FormItem"},{default:Object(o["withCtx"])((function(){return[f]})),_:1}),Object(o["createVNode"])(c,{value:"GridFormItem"},{default:Object(o["withCtx"])((function(){return[p]})),_:1})]})),_:1},8,["value","onChange"])]})),_:1}),"GridFormItem"==i.type?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,title:"栅格占位格数"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{value:i.span,"onUpdate:value":t[1]||(t[1]=function(e){return i.span=e}),options:i.spanList,onChange:a.changeSpan,style:{width:"100%"}},null,8,["value","options","onChange"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(s,{"vuc-node":a.formNode},null,8,["vuc-node"])],64)}function h(e){return j(e)||y(e)||b(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function y(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function j(e){if(Array.isArray(e))return O(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var g={name:"FormMode",components:{VucPropsPanel:i["PropsPanel"],VucItem:i["Item"]},props:{vucAst:Object},data:function(){for(var e=[],t=1;t<=24;t++)e.push({value:t+""});return{type:"",span:12,spanList:e}},computed:{formNode:function(){return this.vucAst.querySelector("el-form")}},watch:{vucAst:{handler:function(e){var t={FormItem:0,GridFormItem:0},n={};e.combos.forEach((function(e){if(t[e.comboType.id]++,"GridFormItem"===e.comboType.id){var o,r,i=null===(o=e.getNode("col"))||void 0===o||null===(r=o.getBind("span"))||void 0===r?void 0:r.getAttrValue();n[i]=(n[i]||0)+1}}));var o=0;for(var r in n)n[r]>o&&(o=n[r],this.span=r);this.type=t.FormItem>t.GridFormItem?"FormItem":"GridFormItem"},immediate:!0}},methods:{changeType:function(){"FormItem"===this.type?this.changeToFormItem():this.changeToGridFormItem()},changeToFormItem:function(){var e=new WeakMap,t=[],n=[];this.vucAst.combos.forEach((function(o){if("GridFormItem"===o.comboType.id){var r,i=o.rootNode.parent,a=e.get(i);null==a&&(t.push(i),a=[],e.set(i,a)),(r=a).splice.apply(r,[a.length,0].concat(h(o.rootNode.children))),n.push(o.rootNode)}})),t.forEach((function(t){t.insertAfter(e.get(t))})),n.forEach((function(e){return e.remove()})),t.forEach((function(e){e.isEmpty()&&e.remove()}))},changeToGridFormItem:function(){var e=new WeakMap,t=[];this.vucAst.combos.forEach((function(n){if("FormItem"===n.comboType.id){var o=n.rootNode.parent,r=e.get(o);null==r&&(t.push(o),r=[],e.set(o,r)),r.push(n.rootNode)}})),t.forEach((function(t){var n=Object(i["createVucNode"])("<el-row></el-row>"),o=e.get(t);o[0].insertBefore(n);var r=o.map((function(e){var t=Object(i["createVucNode"])('<el-col :span="12"></el-col>');return t.appendNode(e),t}));n.appendNode(r)}))},changeSpan:function(){var e=this;this.vucAst.combos.forEach((function(t){"GridFormItem"===t.comboType.id&&t.getNode("col").setAttrValue(":span",e.span)}))}}},k=n("6b0d"),x=n.n(k);const C=x()(g,[["render",m]]);var N=C,w=N;function S(){var e={title:"基础",children:[{title:"按钮",node:"<el-button>按钮</el-button>"},{title:"div",node:'<div style="min-height: 20px;"></div>'}]},t={title:"布局",children:[{title:"栅格行",node:'<el-row type="flex"></el-row>'},{title:"栅格列",node:'<el-col :span="12"></el-col>'},{title:"卡片",node:'<el-card header="基础信息"></el-card>'},{title:"标签页",node:'<el-tabs model-value="pane1"><el-tab-pane label="标签页1" name="pane1"></el-tab-pane> <el-tab-pane label="标签页2" name="pane2"></el-tab-pane> </el-tabs>'}]},n=[{title:"输入框",tag:"el-input",node:"<el-input></el-input>"},{title:"文本域",tag:"el-textarea",node:'<el-input type="textarea"></el-input>'},{title:"下拉框",tag:"el-select",node:'<el-select><el-option label="1">选项1</el-option><el-option label="2">选项2</el-option></el-select>'},{title:"单选框",tag:"el-radio-group",node:'<el-radio-group><el-radio label="1">选项1</el-radio><el-radio label="2">选项2</el-radio></el-radio-group>'},{title:"复选框",tag:"el-checkbox-group",node:'<el-checkbox-group :model-value="[]"> <el-checkbox label="1">选项1</el-checkbox> <el-checkbox label="2">选项2</el-checkbox> </el-checkbox-group>'},{title:"自动补全框",tag:"el-autocomplete",node:"<el-autocomplete/>"},{title:"级联选择",tag:"el-cascader",node:"<el-cascader/>"},{title:"日期选择框",tag:"el-date-picker",node:'<el-date-picker format="YYYY-MM-DD" valueFormat="YYYY-MM-DD"/>'},{title:"数字输入框",tag:"el-input-number",node:"<el-input-number/>"},{title:"评分",tag:"el-rate",node:"<el-rate/>"},{title:"滑块",tag:"el-slider",node:"<el-slider/>"},{title:"开关",tag:"el-switch",node:"<el-switch/>"}],o={title:"表单",children:[{title:"表单项",node:'<el-form-item label="表单项"></el-form-item>'}].concat(n.map((function(e){return{title:e.title,tag:function(t){var n=t.parentNode,o=t.targetNode;if(n)return"el-row"===n.tag?"el-col":"el-col"===n.tag&&n.isEmpty()||"el-form"===n.tag||"el-col"===n.tag&&n.isEmpty()||"el-form-item"===(null===o||void 0===o?void 0:o.tag)&&!o.isEmpty()?"el-form-item":e.tag},node:function(t){var n=t.parentNode,o=t.targetNode,r=t.dblClick;if(n){var i='<el-col :span="12"><el-form-item label="'.concat(e.title,'">').concat(e.node,"</el-form-item></el-col>");if("el-row"===n.tag)return i;var a='<el-form-item label="'.concat(e.title,'">').concat(e.node,"</el-form-item>");return"el-form"===n.tag||"el-col"===n.tag&&n.isEmpty()||"el-form-item"===(null===o||void 0===o?void 0:o.tag)&&!o.isEmpty()?a:r&&"el-form-item"===n.tag?n.isEmpty()?e.node:a:void 0}}}})))};return[e,t,o]}var V={components:{FormMode:w,SampleCard:i["SampleCard"],SampleNodePanel:i["SampleNodePanel"],SampleOptionPanel:i["SampleOptionPanel"],SampleDesigner:i["SampleDesigner"],PanelView:i["PanelView"]},props:{vueContent:{type:String,default:function(){return'<template> <el-form :model="formData" label-width="120px"></el-form> </template><script> export default {data(){return {formData:{}}}} <\/script>'}},formExplorerComponents:{type:Array,default:function(){return S()}},editorOptions:{type:Object}},data:function(){return{explorerComponents:[]}},watch:{formExplorerComponents:{immediate:!0,handler:function(){this.explorerComponents=this.formExplorerComponents}}}};n("f99b");const E=x()(V,[["render",d]]);var B=E,I=B,P=["onClick"],A=Object(o["createTextVNode"])(" 添加规则 ");function T(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("a-tag"),l=Object(o["resolveComponent"])("CloseOutlined"),u=Object(o["resolveComponent"])("RuleForm"),s=Object(o["resolveComponent"])("a-modal"),d=Object(o["resolveComponent"])("PlusOutlined"),f=Object(o["resolveComponent"])("a-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.rules,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"vuc-valid-item",key:t},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.getSubRule(e),(function(e,n){return Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:t+n},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e),1)]})),_:2},1024)})),128)),Object(o["createElementVNode"])("span",{onClick:function(n){return a.editRule(e,t)},style:{cursor:"pointer",color:"#ff4d4f"}},Object(o["toDisplayString"])(e.message),9,P),Object(o["createVNode"])(l,{class:"vuc-valid-close-btn",onClick:function(t){return a.removeRule(e)},style:{}},null,8,["onClick"])])})),128)),Object(o["createVNode"])(s,{visible:i.modalState,"onUpdate:visible":t[0]||(t[0]=function(e){return i.modalState=e}),title:"规则维护",width:"700px",onOk:a.saveRule},{default:Object(o["withCtx"])((function(){return[i.rule?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,rule:i.rule},null,8,["rule"])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["visible","onOk"]),Object(o["createVNode"])(f,{onClick:a.addRule,type:"dashed",block:"",size:"small",style:{"margin-top":"8px"}},{icon:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d)]})),default:Object(o["withCtx"])((function(){return[A]})),_:1},8,["onClick"])])}var _=n("47ce"),D=n("a878"),M=n("8de4"),F=Object(o["createTextVNode"])("改变值"),$=Object(o["createTextVNode"])("失去焦点"),L=Object(o["createTextVNode"])("必填"),R=Object(o["createTextVNode"])("类型"),U=Object(o["createTextVNode"])("范围"),z=Object(o["createTextVNode"])(" - "),q=Object(o["createTextVNode"])("长度"),K=Object(o["createTextVNode"])("正则");function H(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("a-input"),l=Object(o["resolveComponent"])("a-form-item"),u=Object(o["resolveComponent"])("a-select-option"),s=Object(o["resolveComponent"])("a-select"),d=Object(o["resolveComponent"])("a-checkbox"),f=Object(o["resolveComponent"])("a-switch"),p=Object(o["resolveComponent"])("a-input-number"),m=Object(o["resolveComponent"])("VucCodeEditor"),h=Object(o["resolveComponent"])("a-form");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{"label-width":{style:{width:"100px"}},"wrapper-col":{flex:1}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{label:"错误信息"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{value:n.rule.message,"onUpdate:value":t[0]||(t[0]=function(e){return n.rule.message=e}),allowClear:"",placeholder:"请输入错误信息"},null,8,["value"])]})),_:1}),Object(o["createVNode"])(l,{label:"验证时机"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{value:n.rule.trigger,"onUpdate:value":t[1]||(t[1]=function(e){return n.rule.trigger=e}),allowClear:"",style:{width:"170px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{value:"change"},{default:Object(o["withCtx"])((function(){return[F]})),_:1}),Object(o["createVNode"])(u,{value:"blur"},{default:Object(o["withCtx"])((function(){return[$]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(o["createVNode"])(l,null,{label:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{checked:n.rule.state.required,"onUpdate:checked":t[2]||(t[2]=function(e){return n.rule.state.required=e})},{default:Object(o["withCtx"])((function(){return[L]})),_:1},8,["checked"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{checked:n.rule.required,"onUpdate:checked":t[3]||(t[3]=function(e){return n.rule.required=e}),"checked-children":"是","un-checked-children":"否"},null,8,["checked"])]})),_:1}),Object(o["createVNode"])(l,null,{label:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{checked:n.rule.state.type,"onUpdate:checked":t[4]||(t[4]=function(e){return n.rule.state.type=e})},{default:Object(o["withCtx"])((function(){return[R]})),_:1},8,["checked"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{value:n.rule.type,"onUpdate:value":t[5]||(t[5]=function(e){return n.rule.type=e}),style:{width:"170px"},clearable:""},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.types,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:t,value:t},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(o["createVNode"])(l,null,{label:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{checked:n.rule.state.range,"onUpdate:checked":t[6]||(t[6]=function(e){return n.rule.state.range=e})},{default:Object(o["withCtx"])((function(){return[U]})),_:1},8,["checked"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{value:n.rule.min,"onUpdate:value":t[7]||(t[7]=function(e){return n.rule.min=e})},null,8,["value"]),z,Object(o["createVNode"])(p,{value:n.rule.max,"onUpdate:value":t[8]||(t[8]=function(e){return n.rule.max=e})},null,8,["value"])]})),_:1}),Object(o["createVNode"])(l,null,{label:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{checked:n.rule.state.len,"onUpdate:checked":t[9]||(t[9]=function(e){return n.rule.state.len=e})},{default:Object(o["withCtx"])((function(){return[q]})),_:1},8,["checked"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{value:n.rule.len,"onUpdate:value":t[10]||(t[10]=function(e){return n.rule.len=e})},null,8,["value"])]})),_:1}),Object(o["createVNode"])(l,null,{label:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{checked:n.rule.state.pattern,"onUpdate:checked":t[11]||(t[11]=function(e){return n.rule.state.pattern=e})},{default:Object(o["withCtx"])((function(){return[K]})),_:1},8,["checked"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{value:n.rule.pattern,"onUpdate:value":t[12]||(t[12]=function(e){return n.rule.pattern=e}),inline:"",style:{width:"100%"}},null,8,["value"])]})),_:1})]})),_:1})}var W={string:"文本",number:"数字",url:"url",email:"email",integer:"整数",float:"浮点数",array:"数组",enum:"枚举",boolean:"布尔",object:"对象",method:"函数",regexp:"正则",date:"日期",hex:"16进制"},G={type:function(e){return W[e.type]},required:function(e){return"必填"},range:function(e){return"范围(".concat(e.min,"-").concat(e.max,")")},len:function(e){return"长度(".concat(e.len,")")},pattern:function(e){return"正则"}};function Y(e){return"number"==typeof e}var X={type:function(e){return!!e.type},required:function(e){return!!e.required},range:function(e){return Y(e.min)||Y(e.max)},len:function(e){return Y(e.len)},pattern:function(e){return!!e.pattern}};function J(e){for(var t in X){var n=X[t];e.state=e.state||{},e.state[t]=n(e)}return e}function Z(e){var t=[];for(var n in e.state){var o=e.state[n];o&&t.push(G[n](e))}return t}var Q={name:"RuleForm",components:{VucCodeEditor:i["CodeEditor"]},props:{rule:Object},data:function(){return{types:W}},mounted:function(){var e=this,t={min:"range",max:"range",len:"len",type:"type",required:"required",pattern:"pattern"},n=function(n){var o=t[n];e.$watch("rule.".concat(n),(function(){e.rule.state[o]=!0}))};for(var o in t)n(o)}};const ee=x()(Q,[["render",H]]);var te=ee,ne={inject:["$designer"],props:{value:String,type:{type:String,default:"form-item"}},components:{RuleForm:te,PlusOutlined:_["a"],CloseOutlined:D["a"]},data:function(){return{modalState:!1,rules:[],rule:null}},watch:{value:{handler:function(){this.initRules()},immediate:!0}},methods:{initRules:function(){if(this.val!=this.value){try{this.rules=new Function("return ".concat(this.value)).call().map(this.parseRule)}catch(e){console.error(e),this.rules=[]}this.val=i["esprimaHelper"].formatCode(this.value)}},parseRule:function(e){return e=Object.assign({state:{},required:!1},e),J(e),e},getSubRule:function(e){return Z(e)},addRule:function(){this.modalState=!0,this.index=-1,this.rule=this.parseRule({})},editRule:function(e,t){this.modalState=!0,this.index=t,this.rule=Object.assign({},e,{state:Object.assign({},e.state)})},removeRule:function(e){var t=this.rules.indexOf(e);this.rules.splice(t,1),this.updateRules()},saveRule:function(){this.modalState=!1,-1==this.index?(this.rules.push(this.rule),this.rule=null):this.rules.splice(this.index,1,this.rule),this.updateRules()},updateRules:function(){var e=JSON.stringify(this.rules.map((function(e){return Object(M["a"])(e,(function(t,n){return"state"==n||null==t||!1===e.state[n]}))}))).replace(/"/g,"'");this.$emit("update:value",e)}},editorConfig:{id:"validator",dataType:"object",name:"验证"}};n("0091");const oe=x()(ne,[["render",T]]);var re=oe,ie=re,ae=n("c3a1");function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t,n,r,i,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("button",null,Object(o["toDisplayString"])(n.text),1)}i["Configurator"].registerValueEditor(ie.editorConfig.id,le(le({},ie.editorConfig),{},{Editor:ie})),i["Configurator"].setVucProxyHooks("onCreatedApp",(function(e){return e.use(ae["a"])})),u.forEach(i["Configurator"].setVucConfig),s.forEach(i["Configurator"].registerComboType);var de={props:["text"]};const fe=x()(de,[["render",se]]);var pe=fe;function me(e){return ye(e)||be(e)||ve(e)||he()}function he(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ve(e,t){if(e){if("string"===typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function be(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ye(e){if(Array.isArray(e))return je(e)}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}i["Configurator"].setVucConfig({id:"demo-button",props:{text:{label:"按钮标签",editors:"string"}}}),i["Configurator"].setVucProxyHooks("onCreatedApp",(function(e){return e.component("DemoButton",pe)}));var Oe={components:{FormDesigner:I},data:function(){return{formExplorerComponents:[].concat(me(S()),[{title:"自定义组件",children:[{title:"测试按钮",node:'<demo-button text="按钮"></demo-button>'}]}])}}};const ge=x()(Oe,[["render",r]]);var ke=ge;Object(o["createApp"])(ke).mount("#app")},e41d:function(e,t,n){(function(e){var o,r,i;function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(n,c){"object"===a(t)&&"object"===a(e)?e.exports=c():(r=[],o=c,i="function"===typeof o?o.apply(t,r):o,void 0===i||(e.exports=i))})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===a(e)&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fae3")}({"04f1":function(e,t,n){"use strict";n("9845")},"0531":function(e,t){e.exports=n("85b1")},"08dc":function(e,t){e.exports=n("aedd")},"0c2b":function(e,t,n){"use strict";n("5e03")},"0c51":function(e,t,n){},"0e26":function(e,t,n){"use strict";n.r(t),n.d(t,"camelize",(function(){return d})),n.d(t,"capitalize",(function(){return f})),n.d(t,"kebabCase",(function(){return p})),n.d(t,"makeMap",(function(){return g})),n.d(t,"isArray",(function(){return k})),n.d(t,"isFunction",(function(){return x})),n.d(t,"isString",(function(){return C})),n.d(t,"isObject",(function(){return N})),n.d(t,"castArray",(function(){return w})),n.d(t,"someHandlerIsFalse",(function(){return h})),n.d(t,"parseComponentAndProps",(function(){return y})),n.d(t,"isIdentifier",(function(){return V})),n.d(t,"moveArrayItem",(function(){return b})),n.d(t,"parseProps",(function(){return j})),n.d(t,"parsePath",(function(){return O})),n.d(t,"formatComponentName",(function(){return m}));var o=n("cf9e");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return s(e)||u(e,t)||c(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function u(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done);a=!0)if(i.push(o.value),t&&i.length===t)break}catch(l){c=!0,r=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw r}}return i}}function s(e){if(Array.isArray(e))return e}function d(e){return e?e.replace(/-(\w)/g,(function(e,t){return t?t.toUpperCase():""})):e}function f(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(e){return e?e.charAt(0).toLowerCase()+e.substring(1).replace(/[A-Z]/g,(function(e){return e?"-"+e.toLowerCase():""})):e}function m(e){return p(e)}function h(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.some((function(e){var t=e;return x(e)&&(t=e.apply(void 0,n)),!1===t}))}function v(e,t){return e.split(t||"|").map((function(e){var t=e.trim().split(":");return{value:t[0],label:t[1]||t[0]}}))}function b(e,t,n){var o=e[t];e.splice(t,1),t<n&&n--,e.splice(n,0,o)}function y(e){var t=e.split("?");return{id:t[0],props:j(t[1])}}function j(e){var t={};return e&&e.split("&").map((function(e){var n=e.split("="),r=i(n,2),a=r[0],c=r[1];a.startsWith("@")?(a=a.substring(1),c=v(c)):a.startsWith("#")&&(a=a.substring(1),Object(o["isNumberType"])(c)?c=parseFloat(c):Object(o["isBooleanType"])(c)&&(c="true"===c)),t[a]=c})),t}function O(e){var t,n,o,r,i;if(t=e.match(/(.*)\[(\d+)\]$/))n=t[1],o=+t[2],r=!0;else{var a=e.split(".");i=a.pop(),n=a.join(".")}return{parentPath:n,arrayIndex:o,isArray:r,id:i}}var g=function(e){var t={};return e.split(",").forEach((function(e){return t[e]=!0})),t},k=Array.isArray,x=function(e){return"function"===typeof e},C=function(e){return"string"===typeof e},N=function(e){return null!==e&&"object"===r(e)},w=function(e){return k(e)?e:[e]},S=g("abstract,arguments,boolean,break,byte,case,catch,char,class*,const,continue,debugger,default,delete,do,double,else,enum*,eval,export*,extends*,false,final,finally,float,for,function,goto,if,implements,import*,in,instanceof,int,interface,let,long,native,new,null,package,private,protected,public,return,short,static,super*,switch,synchronized,this,throw,throws,transient,true,try,typeof,var,void,volatile,while,with,yield"),V=function(e){return!S[e]&&/^[$_a-z][$_a-z0-9]*$/i.test(e)}},"0f9c":function(e,t){e.exports=n("4293")},"0fc0":function(e,t,n){"use strict";n("7bae")},"16d8":function(e,t,n){"use strict";n.r(t);var o=n("8bbf");function r(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("InputNumber");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{max:n.max,min:n.min,value:i.val,"onUpdate:value":t[0]||(t[0]=function(e){return i.val=e}),style:{width:"100%"}},null,8,["max","min","value"])}var i=n("4e72"),a=n("cf9e"),c={components:{InputNumber:i["InputNumber"]},props:{value:[Number,String],max:{type:Number},min:{type:Number}},emits:["update:value"],data:function(){return{val:null}},watch:{value:{handler:function(){this.val=Object(a["isNumberType"])(this.value)?parseFloat(this.value):null},immediate:!0},val:function(){this.$emit("update:value","number"==typeof this.val?this.val.toString():"")}},editorConfig:{id:"number",dataType:"number",name:"数字",validate:function(e){return Object(a["isNumberType"])(e)}}};c.render=r;t["default"]=c},"174f":function(e,t,n){"use strict";n.r(t);var o=n("8bbf");function r(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("Checkbox");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{checked:i.val,"onUpdate:checked":t[0]||(t[0]=function(e){return i.val=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(i.val?n.trueText:n.falseText),1)]})),_:1},8,["checked"])}var i=n("4e72"),a={components:{Checkbox:i["Checkbox"]},props:{value:[String,Number,Boolean],trueValue:{type:[String,Number,Boolean],default:"true"},falseValue:{type:[String,Number,Boolean],default:"false"},trueText:{type:String,default:"是"},falseText:{type:String,default:"否"},defaultValue:String},emits:["update:value"],data:function(){return{val:!1}},watch:{value:{handler:function(e){var t;e=null!==(t=e)&&void 0!==t?t:this.defaultValue,this.val=e===this.trueValue},immediate:!0},val:function(){this.$emit("update:value",this.val?this.trueValue:this.falseValue)}},editorConfig:{id:"boolean",dataType:"boolean",name:"是否",validate:function(e){return"true"===e||"false"===e}}};a.render=r;t["default"]=a},"189e":function(e,t,n){},"18ee":function(e,t,n){"use strict";n("a2d2")},"1a8f":function(e,t,n){"use strict";n("aa71")},"1af5":function(e,t){e.exports=n("f94e")},"1e89":function(e,t,n){"use strict";n.r(t);var o=n("8bbf");function r(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("Select");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{value:i.val,"onUpdate:value":t[0]||(t[0]=function(e){return i.val=e}),style:{width:"100%"},options:n.items,allowClear:""},null,8,["value","options"])}var i=n("4e72"),a=n("59e9"),c={components:{Select:i["Select"]},props:{value:{type:String,default:""},items:Array},emits:["update:value"],data:function(){return{val:null}},watch:{value:{handler:function(){this.val=this.value.substring(1,this.value.length-1)},immediate:!0},val:function(){var e=void 0===this.val?"":"'".concat(this.val,"'");e!==this.value&&this.$emit("update:value",e)}},editorConfig:{id:"select",dataType:"string",name:"选项",validate:function(e,t){if(null!==t&&void 0!==t&&t.items)return e=Object(a["a"])(e),!!t.items.find((function(t){return t.value==e}))}}};c.render=r;t["default"]=c},"283b":function(e,t){e.exports=n("a809")},"2b65":function(e,t){e.exports=n("cbc8")},"2d3f":function(e,t,n){},"2df8":function(e,t,n){"use strict";n.r(t);var o=n("8bbf");function r(e,t,n,r,i,a){return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(a.component),{value:i.val,"onUpdate:value":t[0]||(t[0]=function(e){return i.val=e}),allowClear:"",style:{width:"100%"},options:a.completeOptions,onBlur:a.changeValue,onSelect:a.changeValue,onPressEnter:a.blur,onSearch:a.onSearch,spellcheck:"false"},null,8,["value","options","onBlur","onSelect","onPressEnter","onSearch"])}var i=n("4e72"),a=n("cf9e"),c={props:{value:{type:String,default:""},items:[Array,Function]},emits:["update:value"],data:function(){return{val:null,options:[]}},computed:{component:function(){return this.items?i["AutoComplete"]:i["Input"]},completeOptions:function(){return Array.isArray(this.items)?this.items:this.options}},watch:{value:{handler:function(){this.val=this.value.substring(1,this.value.length-1)},immediate:!0}},methods:{blur:function(){var e=this.$el.querySelector("input")||this.$el;e.blur()},changeValue:function(){if(this.val!==this.value){var e="'".concat(this.val,"'");e!==this.value&&this.$emit("update:value",e)}},onSearch:function(e){"function"==typeof this.items&&(this.options=this.items.call(null,e))}},editorConfig:{id:"string",name:"字符串",dataType:"string",validate:function(e){return Object(a["isStringType"])(e)}}};c.render=r;t["default"]=c},"2f34":function(e,t,n){"use strict";n("3755")},"300c":function(e,t,n){"use strict";n("45ed")},3166:function(e,t){e.exports=n("8359")},3301:function(e,t,n){},3342:function(e,t){e.exports=n("6d78")},"34a2":function(e,t){e.exports=n("d69f")},3755:function(e,t,n){},"39d4":function(e,t,n){"use strict";n("9512")},"3a6d":function(e,t){e.exports=n("a2c1")},"3c9b":function(e,t,n){"use strict";n("7c98")},"3f65":function(e,t){e.exports=n("344f")},"42a3":function(e,t){e.exports=n("7b00")},"45ed":function(e,t,n){},"4e72":function(e,t){e.exports=n("f23d")},"50a1":function(e,t){e.exports=n("d3bd")},"51cc":function(e,t,n){},5629:function(e,t){e.exports=n("5bf8")},5981:function(e,t,n){"use strict";n("2d3f")},"59e9":function(e,t,n){"use strict";function o(e){return e?e.substring(1,e.length-1):""}n.d(t,"a",(function(){return o}))},"5bb9":function(e,t,n){"use strict";n("ac37")},"5e03":function(e,t,n){},"5e27":function(e,t,n){},6071:function(e,t,n){var o={"./ArrayEditor.vue":"8d6c","./BooleanEditor.vue":"174f","./ExpressionEditor.vue":"ce73","./NumberEditor.vue":"16d8","./RadioGroupEditor.vue":"cec0","./SelectEditor.vue":"1e89","./StringEditor.vue":"2df8"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id="6071"},6369:function(e,t,n){},"63c4":function(e,t){e.exports=n("697e")},"67a7":function(e,t,n){"use strict";n("3301")},"6a19":function(e,t,n){"use strict";n("6369")},"6bf0":function(e,t,n){"use strict";n("0c51")},"79bb":function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return K})),n.d(t,"d",(function(){return Z})),n.d(t,"f",(function(){return U})),n.d(t,"e",(function(){return ie}));var o=n("8bbf");function r(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("TableColumn"),l=Object(o["resolveComponent"])("PlusOutlined"),u=Object(o["resolveComponent"])("EditOutlined"),s=Object(o["resolveComponent"])("DeleteOutlined"),d=Object(o["resolveComponent"])("Table");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{"data-source":n.data,"row-key":n.rowKey,rowClassName:r.rowClassName,pagination:!1,transformCellText:a.transformCellText,customRow:r.customRow,defaultExpandedRowKeys:n.defaultExpandedRowKeys,size:"small",class:"vuc-code-table"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.columns,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(c,Object(o["mergeProps"])(e,{ellipsis:""}),null,16)})),256)),Object(o["createVNode"])(c,{width:"55px",align:"center"},{title:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{onClick:a.addItem},null,8,["onClick"])]})),default:Object(o["withCtx"])((function(e){var t=e.record;return[Object(o["createVNode"])(u,{onClick:Object(o["withModifiers"])((function(e){return a.clickItem(t)}),["stop"])},null,8,["onClick"]),Object(o["createVNode"])(s,{onClick:Object(o["withModifiers"])((function(e){return a.delItem(t)}),["stop"])},null,8,["onClick"])]})),_:1})]})),_:1},8,["data-source","row-key","rowClassName","transformCellText","customRow","defaultExpandedRowKeys"])}var i=n("4e72"),a=n("50a1"),c=n.n(a),l=n("b32c"),u=n.n(l),s=n("d64c"),d=n.n(s),f={components:{PlusOutlined:c.a,DeleteOutlined:u.a,EditOutlined:d.a,Table:i["Table"],TableColumn:i["TableColumn"]},emits:["click-item","delete-item","add-item","update:value"],props:{columns:{type:Array,default:function(){return[{dataIndex:"id",title:"标识符",code:!0,width:150},{dataIndex:"name",title:"名称"}]}},data:Array,rowKey:{type:String,default:"id"},mode:String,value:String,defaultExpandedRowKeys:Array},setup:function(e,t){var n=Object(o["toRefs"])(e),r=n.value,i=n.mode,a=n.rowKey;if("input"!=i.value)return{customRow:null,expandedRowKeys:null};var c=Object(o["ref"])(null),l=function(e){return{onClick:function(){u(e[a.value])}}},u=function(e){e===c.value?c.value=null:c.value=e,t.emit("update:value",c.value)};Object(o["watch"])(r,(function(e){c.value=e}),{immediate:!0});var s=function(e,t){var n=[];return t%2===1&&n.push("vuc-table-row-striped"),e[a.value]===c.value&&n.push("vuc-table-row-selected"),n};return{selectKey:c,customRow:l,rowClassName:s}},methods:{addItem:function(){this.$emit("add-item")},clickItem:function(e){this.$emit("click-item",e)},delItem:function(e){this.$emit("delete-item",e)},transformCellText:function(e){var t=e.text,n=e.column,o=e.record;return n.formatter?n.formatter(t,o):t}}};n("81f0");f.render=r;var p=f,m=p;function h(e,t,n,r,i,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["vuc-codeeditor",{"vuc-codeeditor-inline":n.inline,"vuc-codeeditor-small":n.sm}])},null,2)}n("e5cc"),n("9d05"),n("63c4");var v=n("bf73"),b=n.n(v),y=(n("3342"),n("9bd9"),n("2b65"),n("08dc"),n("d31d"),n("8590"),n("0531")),j=n.n(y),O=n("0e26"),g={emits:["update:value","change","blur"],props:{value:String,hints:Array,width:[String,Number],height:{type:[String,Number],default:300},inline:Boolean,sm:{type:Boolean,default:!1}},data:function(){return{code:this.value}},watch:{value:{handler:function(){var e=this;this.value!==this.code&&(this.code=this.value,this.$nextTick((function(){e._setValue=!0,e.codeMirror.setValue(e.code||""),e.codeMirror.display.lastWrapHeight=0})))},immediate:!0},code:function(){this.code!==this.value&&this.$emit("update:value",this.code)}},mounted:function(){var e=this,t=this.inline?{lineNumbers:!1,lineWrapping:!0,viewportMargin:1/0}:{gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],foldGutter:!0};this.codeMirror=b()(this.$el,Object.assign({value:this.value||"",lineNumbers:!0,mode:"javascript",indentWithTabs:!1,autoCloseBrackets:!0,autoRefresh:!0,extraKeys:{"Alt-/":function(t){t.showHint({editor:e})},Tab:function(e){if(e.somethingSelected())e.indentSelection("add");else{var t=Array(e.getOption("indentUnit")+1).join(" ");e.replaceSelection(t)}},F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))}}},t)),this.codeMirror.setSize(this.width,this.inline?null:this.height),this.codeMirror.on("change",j()((function(){e._setValue?e._setValue=!1:(e.code=e.codeMirror.getValue(),e.$emit("change",e.code))}),100));var n="";this.codeMirror.on("focus",(function(){n=e.code})),this.codeMirror.on("blur",(function(){n!==e.code&&e.$emit("change",e.code),e.$emit("blur")})),this.codeMirror.on("beforeChange",(function(t,n){"+input"===n.origin&&e.inline&&2===n.text.length&&""===n.text.join("")&&(n.cancel(),t.getInputField().blur())}))},methods:{_getHint:function(e,t){var n;t=Object(O["castArray"])(t);var o=this.hints;while(n=t.pop()){var r=o.find((function(e){return e.id===n.string}));if(null==r)return;o=r.children}return o.filter((function(t){return t.id.startsWith(e.string)}))},getHint:function(e,t){return{list:this._getHint(e,t).map((function(e){return"method"===e.type?{text:"".concat(e.id,"()"),render:function(t){t.innerHTML='<span class="e-code-hintcode">'.concat(e.id,"(").concat(e.args.map((function(e){return e.req?e.id:"[".concat(e.id,"]")})).join(","),')</span><span class="e-code-hintdesc">').concat(e.desc||"","</span>")}}:{text:"".concat(e.id),render:function(t){t.innerHTML='<span class="e-code-hintcode">'.concat(e.id,'</span> <span class="e-code-hintdesc">').concat(e.desc||"","</span>")}}}))}},refresh:function(){this.codeMirror.refresh()}}};n("5bb9");g.render=h;var k=g,x=k;function C(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("TableEditor");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{columns:i.argsOption,value:n.value,"onUpdate:value":t[0]||(t[0]=function(e){return n.value=e}),rowKey:"id",size:"small",bordered:""},null,8,["columns","value"])}var N=n("f7b0"),w=n.n(N),S=n("0f9c"),V=n.n(S),E=n("3f65"),B=n.n(E);function I(e){return _(e)||T(e)||A(e)||P()}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _(e){if(Array.isArray(e))return D(e)}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function $(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(o["isVNode"])(e)}var L={components:{CheckOutlined:w.a,EditOutlined:d.a,DeleteOutlined:u.a,PlusOutlined:c.a,CloseOutlined:V.a,ExpandAltOutlined:B.a},emits:["change","update:value"],props:{isTreeData:Boolean,bordered:Boolean,block:Boolean,rowKey:String,columns:Array,size:String,value:Array,buttonText:{type:String,default:"添加"}},data:function(){return{selectedRowKeys:[],curEditRecord:null,editData:{}}},watch:{value:{immediate:!0,handler:function(e){null==e&&this.$emit("update:value",Object(o["toRefs"])([]))}}},methods:{addItem:function(e){if(null===this.curEditRecord||!1!==this.saveItem(this.curEditRecord)){var t={};e?(e.children=e.children||[],e.children.push(t)):this.value.push(t),this.changeEditItem(t),this.isAddNew=!0}},changeEditItem:function(e){this.curEditRecord=e,this.editData=Object.assign({},e),this.isAddNew=!1},saveItem:function(e){var t=this,n=[];this.columns.forEach((function(e){var o;e.validate&&(o=e.validate(t.editData[e.field]))&&n.push(o)}));var o=this.editData[this.rowKey];if(this.eachAllRows((function(e){return e!==t.curEditRecord&&e[t.rowKey]===o}))&&n.push("主键不能重复"),n.length)return n.forEach((function(e){return i["message"].error(e)})),!1;Object.assign(e,this.editData),this.$emit("change"),this.curEditRecord=null},cancelItem:function(){this.isAddNew&&this.deleteEditItem(this.curEditRecord),this.curEditRecord=null},deleteEditItem:function(e){var t=this.findRecord(e),n=t.parent,o=t.index;n.children.splice(o,1),this.$emit("change")},eachAllRows:function(e){var t=function t(n){return n.some((function(n){return!!e(n)||t(n.children||[])}))};return t(this.value)},findRecord:function(e){var t=function t(n){for(var o=0;o<n.children.length;o++){var r=n.children[o];if(r==e)return{parent:n,index:o,paths:[n]};if(r.children){var i=t(r);if(i)return i.paths.push(r),i}}};return t({children:this.value})},getColumns:function(){var e=this;return this.columns.map((function(t,n){var r={default:function(r){var a=r.text,c=r.record,l=t.editor;if("function"==typeof l&&(l=l.call(e,e.editData)),c===e.curEditRecord){var u,s="value",d=Object(o["createVNode"])(i["Input"],null,null),f=e.editData[t.field];"select"==l&&(d=Object(o["createVNode"])(Object(o["resolveComponent"])("Select"),null,null)),"number"==l&&(d=Object(o["createVNode"])(i["InputNumber"],null,null),f=parseFloat(f),f=isNaN(f)?0:f),"expr"==l&&(d=Object(o["createVNode"])(x,{inline:!0},null),f+=""),"boolean"==l&&(d=Object(o["createVNode"])(i["Checkbox"],null,null),s="checked",f=!!f),"object"==F(l)&&(d=l),e.editData[t.field]=f;var p=(u={},M(u,s,e.editData[t.field]),M(u,"onUpdate:".concat(s),(function(n){return e.editData[t.field]=n})),u),m="";return e.isTreeData&&0===n&&(m="width:auto"),Object(o["createVNode"])(d,Object(o["mergeProps"])(t.editorProps,p,{style:m}),null)}var h=a;if(t.formatter&&(h=t.formatter(a)),"select"==l){var v,b=null===(v=t.editorProps)||void 0===v?void 0:v.options.find((function(e){return e.value==a}));b&&(h=b.label)}else"boolean"==l&&(h=a?"是":"否");return h}};return Object(o["createVNode"])(i["TableColumn"],{title:t.title,width:t.width,dataIndex:t.field,ellipsis:!0,key:t.field},r)}))},getActionColumn:function(){var e=this,t={default:function(t){var n=t.record;return n===e.curEditRecord?Object(o["createVNode"])(i["Space"],null,{default:function(){return[Object(o["createVNode"])(w.a,{onClick:function(){return e.saveItem(n)}},null),Object(o["createVNode"])(V.a,{onClick:function(){return e.cancelItem(n)}},null)]}}):Object(o["createVNode"])(i["Space"],null,{default:function(){return[e.isTreeData?Object(o["createVNode"])(c.a,{onClick:function(){return e.addItem(n)}},null):null,Object(o["createVNode"])(d.a,{onClick:function(){return e.changeEditItem(n)}},null),Object(o["createVNode"])(u.a,{onClick:function(){return e.deleteEditItem(n)}},null)]}})}};return Object(o["createVNode"])(i["TableColumn"],{title:"操作",align:"center",width:this.isTreeData?70:50},t)}},render:function(){var e=this,t=10,n=null,r=null,a=function(t){if(null!==n&&n!==t){var o=e.findRecord(t);if(!o.paths.includes(n))return o}},l=function(n){var o=n.currentTarget.getBoundingClientRect();return e.isTreeData&&n.offsetY>t&&n.offsetY<o.height-t?0:n.offsetY>o.height/2?1:-1},u=function(t){return{draggable:"true",onDragstart:function(){r=document.createElement("div"),r.className="vuc-table-editor-drop-cursor";var e=function(){r.style.display="none"},o=function t(){n=null,document.body.removeChild(r),window.removeEventListener("dragover",e),window.removeEventListener("drop",t)};window.addEventListener("dragover",e),window.addEventListener("drop",o),n=t,document.body.appendChild(r)},onDragover:function(e){if(a(t)){var n=l(e),o=e.currentTarget.getBoundingClientRect();Object.assign(r.style,{display:"block",height:0===n?o.height+"px":"1px",width:o.width+"px",left:o.left+"px",top:(1==n?o.bottom:o.top)+"px"}),e.preventDefault(),e.stopPropagation()}},onDrop:function(o){var r=a(t);if(r){e.deleteEditItem(n);var i=l(o);if(0==i)t.children=t.children||[],t.children.push(n);else{var c=r.parent,u=c.children.indexOf(t);c.children.splice(1==i?u+1:u,0,n)}e.$emit("change")}o.preventDefault()},onClick:function(){e.selectedRowKeys=t[e.rowKey]}}},s=function(t,n){var o=[];return t[e.rowKey]===e.selectedRowKeys&&o.push("vuc-table-row-selected"),o},d=[].concat(I(this.getColumns()),[this.getActionColumn()]),f=void 0;return this.value.length>8&&(f={y:300}),Object(o["createVNode"])("div",{class:"vuc-table-editor"},[Object(o["createVNode"])(i["Table"],{bordered:this.bordered,dataSource:this.value,size:this.size,pagination:!1,rowClassName:s,scroll:f,rowKey:this.rowKey,customRow:u},$(d)?d:{default:function(){return[d]}}),Object(o["createVNode"])(i["Button"],{type:"dashed",block:this.block,onClick:function(){return e.addItem()},size:this.size,style:"margin-top: 8px"},{default:function(){return[e.buttonText]},icon:function(){return Object(o["createVNode"])(c.a,null,null)}})])}},R=(n("adfe"),L),U=R,z={props:{value:Array},components:{TableEditor:U},watch:{value:function(){this.$emit("update:value",this.value)}},data:function(){return{argsOption:[{title:"参数名",field:"id",width:140,validate:function(e){return Object(O["isIdentifier"])(e)?"":"".concat(e,"不符合javascript标识符规则")}},{title:"说明",field:"desc"},{title:"是否必填",field:"req",width:100,editor:"boolean"}]}}};z.render=C;var q=z,K=q,H={class:"vuc-ctxmenu"},W=["onClick","onMouseenter","onMouseleave"],G=["innerHTML"];function Y(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ctxmenu");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",H,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.datas,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:Object(o["normalizeClass"])(["vuc-ctxmenu-item",{"vuc-ctxmenu-sub":e.children,"vuc-ctxmenu-divided":e.divided}]),key:e.text,onClick:Object(o["withModifiers"])((function(t){return a.click(t,e)}),["stop"]),onMouseenter:function(t){return e.show=!0},onMouseleave:function(t){return e.show=!1}},[Object(o["createElementVNode"])("span",{innerHTML:e.text},null,8,G),e.children?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,items:e.children,show:e.show,"onUpdate:show":function(t){return e.show=t},class:"vuc-ctxmenu-submenu",onClickItem:t[0]||(t[0]=function(e){return a.clickSub(e)})},null,8,["items","show","onUpdate:show"])):Object(o["createCommentVNode"])("",!0)],42,W)})),128))],512)),[[o["vShow"],i.visible]])}var X={name:"ctxmenu",emits:["update:show","click-item"],props:["show","items"],data:function(){return{visible:this.show,datas:[]}},watch:{show:function(){this.visible=this.show,this.visible?document.addEventListener("click",this.addClickHandler):document.removeEventListener("click",this.addClickHandler)},items:{immediate:!0,handler:function(){this.datas=this.items.map((function(e){return e.children?Object.assign({show:!1},e):e}))}}},methods:{click:function(e,t){this.$emit("update:show",!1),this.$emit("click-item",Object.assign({event:e},t))},clickSub:function(e){this.$emit("update:show",!1),this.$emit("click-item",e)},addClickHandler:function(){this.$emit("update:show",!1)}}};n("0fc0");X.render=Y;var J=X,Z=J,Q={class:"vuc-item"},ee={class:"vuc-item-header"},te={class:"vuc-item-body"};function ne(e,t,n,r,i,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Q,[Object(o["createElementVNode"])("div",ee,[Object(o["renderSlot"])(e.$slots,"title",{},(function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.title),1)]}))]),Object(o["createElementVNode"])("div",te,[Object(o["renderSlot"])(e.$slots,"default")])])}var oe={props:{title:String}};n("18ee");oe.render=ne;var re=oe,ie=re},"7bae":function(e,t,n){},"7c98":function(e,t,n){},"81e8":function(e,t){e.exports=n("c6b9")},"81f0":function(e,t,n){"use strict";n("5e27")},8403:function(e,t,n){},8590:function(e,t){e.exports=n("f9d4")},"8bad":function(e,t){e.exports=n("830f")},"8bbf":function(e,t){e.exports=n("7a23")},"8d6c":function(e,t,n){"use strict";n.r(t);var o=n("8bbf");function r(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("table-editor");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{block:"",size:"small","button-text":"新增一项",isTreeData:n.isTreeData,rowKey:n.keyName,columns:a.columns,value:i.array,onChange:a.changeValue},null,8,["isTreeData","rowKey","columns","value","onChange"])}var i=n("79bb"),a=n("f04f"),c=n("cf9e");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{TableEditor:i["f"]},props:{isTreeData:Boolean,value:String,fields:Array,type:{type:String,default:"object"},keyName:{type:String,default:"id"}},inject:["$designer"],emits:["update:value"],data:function(){return{array:[],val:void 0}},computed:{columns:function(){return"object"!==this.type?[{title:"选项",field:this.keyName,type:this.type}]:this.fields.map((function(e){return{title:e.label,field:e.name,editor:e.type,width:"boolean"==e.type?50:null}}))}},watch:{value:{handler:function(){var e=this;if(this.val!=this.value){if(this.value){try{var t=new Function("return ".concat(this.value)).call();"object"!==this.type?this.array=t.map((function(t){return l({},e.keyName,t)})):this.array=t}catch(n){console.error(n)}this.val=this.getFormatCode()}this.array||(this.array=[])}},immediate:!0}},methods:{changeValue:function(){this.val=this.getFormatCode(),this.$emit("update:value",this.val)},getFormatCode:function(){var e=this,t=this.array;return"object"!==this.type&&(t=t.map((function(t){return t[e.keyName]}))),Object(a["jsonObjToCode"])(t)}},editorConfig:{id:"array",dataType:"object",name:"数组",validate:function(e){return Object(c["isArrayType"])(e)}}};u.render=r;t["default"]=u},9512:function(e,t,n){},9652:function(e,t,n){"use strict";n("189e")},9766:function(e,t,n){"use strict";n("f1b6")},9842:function(e,t,n){},9845:function(e,t,n){},"9a2f":function(e,t){e.exports=n("32e8")},"9bb0":function(e,t){e.exports=n("88759")},"9bd9":function(e,t){e.exports=n("4895")},"9c5f":function(e,t,n){},"9d05":function(e,t){e.exports=n("6a70")},a2d2:function(e,t,n){},a3c8:function(e,t){e.exports=n("2079")},a7ed:function(e,t,n){function o(e,t){for(var n=Object.create(null),o=e.split(","),r=0;r<o.length;r++)n[o[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var r=function(e,t,n){return!1},i=o("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),a=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,c=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,l=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,u="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+a.source+"]*",s="((?:"+u+"\\:)?"+u+")",d=new RegExp("^<"+s),f=/^\s*(\/?)>/,p=new RegExp("^<\\/"+s+"[^>]*>"),m=/^<!DOCTYPE [^>]+>/i,h=/^<!\--/,v=/^<!\[/,b=o("script,style,textarea",!0),y={},j={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},O=/&(?:lt|gt|quot|amp|#39);/g,g=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,k=o("pre,textarea",!0),x=function(e,t){return e&&k(e)&&"\n"===t[0]};function C(e,t){var n=t?g:O;return e.replace(n,(function(e){return j[e]}))}function N(e,t){var n,o,a=[],u=t.expectHTML,s=t.isUnaryTag||r,j=t.canBeLeftOpenTag||r,O=0;while(e){if(n=e,o&&b(o)){var g=0,k=o.toLowerCase(),N=y[k]||(y[k]=new RegExp("([\\s\\S]*?)(</"+k+"[^>]*>)","i")),w=e.replace(N,(function(e,n,o){return g=o.length,b(k)||"noscript"===k||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),x(k,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""}));O+=e.length-w.length,e=w,L(k,O-g,O)}else{var S=e.indexOf("<");if(0===S){if(h.test(e)){var V=e.indexOf("--\x3e");if(V>=0){t.shouldKeepComment&&t.comment(e.substring(4,V),O,O+V+3),M(V+3);continue}}if(v.test(e)){var E=e.indexOf("]>");if(E>=0){M(E+2);continue}}var B=e.match(m);if(B){M(B[0].length);continue}var I=e.match(p);if(I){var P=O;M(I[0].length),L(I[1],P,O);continue}var A=F();if(A){$(A),x(A.tagName,e)&&M(1);continue}}var T=void 0,_=void 0,D=void 0;if(S>=0){_=e.slice(S);while(!p.test(_)&&!d.test(_)&&!h.test(_)&&!v.test(_)){if(D=_.indexOf("<",1),D<0)break;S+=D,_=e.slice(S)}T=e.substring(0,S)}S<0&&(T=e),T&&M(T.length),t.chars&&T&&t.chars(T,O-T.length,O)}if(e===n){t.chars&&t.chars(e);break}}function M(t){O+=t,e=e.substring(t)}function F(){var t=e.match(d);if(t){var n,o,r={tagName:t[1],attrs:[],start:O};M(t[0].length);while(!(n=e.match(f))&&(o=e.match(l)||e.match(c)))o.start=O,M(o[0].length),o.end=O,r.attrs.push(o);if(n)return r.unarySlash=n[1],M(n[0].length),r.end=O,r}}function $(e){var n=e.tagName,r=e.unarySlash;u&&("p"===o&&i(n)&&L(o),j(n)&&o===n&&L(n));for(var c=s(n)||!!r,l=e.attrs.length,d=new Array(l),f=0;f<l;f++){var p=e.attrs[f],m=p[3]||p[4]||p[5]||"",h="a"===n&&"href"===p[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;d[f]={name:p[1],value:C(m,h)}}c||(a.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d,start:e.start,end:e.end}),o=n),t.start&&t.start(n,d,c,e.start,e.end)}function L(e,n,r){var i,c;if(null==n&&(n=O),null==r&&(r=O),e){for(c=e.toLowerCase(),i=a.length-1;i>=0;i--)if(a[i].lowerCasedTag===c)break}else i=0;if(i>=0){for(var l=a.length-1;l>=i;l--)t.end&&t.end(a[l].tag,n,r);a.length=i,o=i&&a[i-1].tag}else"br"===c?t.start&&t.start(e,[],!0,n,r):"p"===c&&(t.start&&t.start(e,[],!1,n,r),t.end&&t.end(e,n,r))}L()}var w=/\r?\n/g,S=/./g,V=o("script,style,template",!0);function E(e,t){void 0===t&&(t={});var n={template:null,script:null,styles:[],customBlocks:[],errors:[]},o=0,r=null,i=function(e){n.errors.push(e)};function a(e,t,i,a,l){0===o&&(r={type:e,content:"",start:l,attrs:t.reduce((function(e,t){var n=t.name,o=t.value;return e[n]=o||!0,e}),{})},V(e)?(c(r,t),"style"===e?n.styles.push(r):n[e]=r):n.customBlocks.push(r)),i||o++}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];"lang"===o.name&&(e.lang=o.value),"scoped"===o.name&&(e.scoped=!0),"module"===o.name&&(e.module=o.value||!0),"src"===o.name&&(e.src=o.value)}}function l(n,i){if(1===o&&r){r.end=i;var a=e.slice(r.start,r.end);"template"!==r.type&&t.pad&&(a=u(r,t.pad)+a),r.content=a,r=null}o--}function u(t,n){if("space"===n)return e.slice(0,t.start).replace(S," ");var o=e.slice(0,t.start).split(w).length,r="script"!==t.type||t.lang?"\n":"//\n";return Array(o).join(r)}return N(e,{warn:i,start:a,end:l,outputSourceRange:t.outputSourceRange}),n}t.parseHTML=N,t.parseComponent=E},aa71:function(e,t,n){},ac37:function(e,t,n){},addb:function(e,t){e.exports=n("06f2")},adfe:function(e,t,n){"use strict";n("b714")},b32c:function(e,t){e.exports=n("0803")},b3ab:function(e,t){e.exports=n("ec41")},b714:function(e,t,n){},bf73:function(e,t){e.exports=n("56b3")},c0a8:function(e,t,n){"use strict";n("8403")},c44b:function(e,t){e.exports=n("1151")},cb65:function(e,t){e.exports=n("d5e0")},ce73:function(e,t,n){"use strict";n.r(t);var o=n("8bbf");function r(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("code-editor");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{value:i.val,"onUpdate:value":t[0]||(t[0]=function(e){return i.val=e}),onChange:a.changeValue,inline:n.inline},null,8,["value","onChange","inline"])}var i=n("79bb"),a={components:{CodeEditor:i["b"]},props:{value:String,inline:{type:Boolean,default:!0}},emits:["update:value"],data:function(){return{val:this.value}},watch:{value:function(){this.val=this.value}},methods:{changeValue:function(){this.val!==this.value&&this.$emit("update:value",this.val)}},editorConfig:{id:"expression",dataType:"any",name:"表达式"}};a.render=r;t["default"]=a},cec0:function(e,t,n){"use strict";n.r(t);var o=n("8bbf");function r(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("RadioGroup");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{options:n.items,value:i.val,"onUpdate:value":t[0]||(t[0]=function(e){return i.val=e})},null,8,["options","value"])}var i=n("4e72"),a=n("59e9"),c={components:{RadioGroup:i["RadioGroup"]},props:{value:{type:String,default:""},items:Array},emits:["update:value"],data:function(){return{val:null}},watch:{value:{handler:function(){this.val=this.value.substring(1,this.value.length-1)},immediate:!0},val:function(){var e="'".concat(this.val,"'");e!==this.value&&this.$emit("update:value",e)}},editorConfig:{id:"radio-group",dataType:"string",name:"选项",validate:function(e,t){if(null!==t&&void 0!==t&&t.items)return e=Object(a["a"])(e),!!t.items.find((function(t){return t.value==e}))}}};c.render=r;t["default"]=c},cf9e:function(e,t,n){"use strict";n.r(t),n.d(t,"isStringType",(function(){return u})),n.d(t,"isNumberType",(function(){return i})),n.d(t,"isBooleanType",(function(){return a})),n.d(t,"isFunctionType",(function(){return d})),n.d(t,"isSimplePath",(function(){return s})),n.d(t,"isArrayType",(function(){return c})),n.d(t,"isObjectType",(function(){return l}));var o=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*(?:[\w$]+)?\s*\(/,r=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/;function i(e){return/^-?[0-9]+\.?[0-9]*$/.test(e)}function a(e){return"true"===e||"false"===e}function c(e){return e.startsWith("[")&&e.endsWith("]")}function l(e){return e.startsWith("{")&&e.endsWith("}")}function u(e){return e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")||e.startsWith("`")&&e.endsWith("`")}function s(e){return r.test(e)&&!a(e)}function d(e){return o.test(e)}},d31d:function(e,t){e.exports=n("f4ba")},d436:function(e,t){e.exports=n("693d")},d64c:function(e,t){e.exports=n("ca32")},d9e9:function(e,t){e.exports=n("9ff4")},e1ed:function(e,t){e.exports=n("ee51")},e445:function(e,t){e.exports=n("68c0")},e5cc:function(e,t){e.exports=n("a7be")},eaa4:function(e,t){e.exports=n("37a1")},ef6a:function(e,t){e.exports=n("5c8a")},f04f:function(e,t,n){"use strict";n.r(t),n.d(t,"parseModule",(function(){return c})),n.d(t,"parseScript",(function(){return l})),n.d(t,"parseExpression",(function(){return u})),n.d(t,"extractAnnotations",(function(){return s})),n.d(t,"fn2json",(function(){return d})),n.d(t,"genFunBodyCode",(function(){return f})),n.d(t,"updateProperty",(function(){return m})),n.d(t,"getFirstProperty",(function(){return h})),n.d(t,"astToCode",(function(){return p})),n.d(t,"jsonObjToCode",(function(){return v})),n.d(t,"formatCode",(function(){return b})),n.d(t,"getRemark",(function(){return y})),n.d(t,"objectExpr2JSON",(function(){return O})),n.d(t,"objectPropertyExpr2JSON",(function(){return j})),n.d(t,"getPropertyId",(function(){return g}));var o=n("1af5"),r=n("e445"),i=n.n(r);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e){return o["parseModule"](e,{range:!0,attachComment:!0})}function l(e){return o["parse"](e,{range:!0,attachComment:!0})}function u(e){e.trim().startsWith("{")&&(e="(".concat(e,")"));var t=l(e);if(t.body[0])return t.body[0].expression}function s(e){var t=[],n=[];function o(e){return t.find((function(t){return t.name==="@"+e}))}function r(e){return t.filter((function(t){return t.name==="@"+e}))}function i(){return r("param").map((function(e){var t=e.params[0],n=!t.startsWith("[");return{id:n?t:t.substring(1,t.length-1),req:n,desc:e.params[1]}}))}return null===e||void 0===e||e.forEach((function(e){e.value.split("\n").forEach((function(e){if(e=e.replace(/^[\s\*]*/,""),e.startsWith("@")){var o=e.split(/\s+/);t.push({name:o[0],params:o.slice(1)})}else e&&n.push(e)}))})),{remark:function(e){if(!e)return n.join("\n");n=e.split("\n")},filter:r,find:o,getParams:i,getAnnotations:function(){return t}}}function d(e){var t,n,o=s(e.leadingComments),r=o.find("name"),i=r?r.params[0]:"",a=o.getParams();if("FunctionExpression"===e.type)t=e,n=e.id;else{if("Property"!==e.type)throw Error();t=e.value,n=g(e)}var c=t.params.map((function(e){var t=a.find((function(t){return t.id==e.name}))||{};return{id:e.name,desc:t.desc,req:t.req}})),l=o.getAnnotations().filter((function(e){return"@param"!==e.name&&"@name"!==e.name})),u=o.remark();return{id:n,name:i,params:c,annotations:l,remark:u,code:f(t)}}function f(e){return e.body.body.map((function(e){return p(e)})).join("\n")}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{comment:!0},n=i.a.generate(e,t);return n}function m(e,t,n){var o=e.find((function(e){return g(e)==n}));if(o){var r=e.indexOf(o);return e.splice(r,1,t),r}return e.push(t),-1}function h(e){return"string"==typeof e&&(e=u(e)),e.properties[0]}function v(e){return p(u(JSON.stringify(e)))}function b(e){return p(l(e))}function y(e){var t=s(e.leadingComments);return t.remark()}function j(e,t,n){var o,r,i,c=s(e.leadingComments),l={},u=[];"Property"==e.type?(r=e.value,i=o=g(e),t&&(i=t+"."+i)):(r=e,o="[".concat(n,"]"),i="".concat(t,"[").concat(n,"]"));var d="expr";return"ObjectExpression"==r.type?(u=O(r,i),d="object"):"ArrayExpression"==r.type?(u=O(r,i),d="array"):"Literal"==r.type&&(d=a(r.value)),Object.assign(l,{id:o,name:c.remark(),value:r,path:i,type:d}),u.length&&(l.children=u),Object.defineProperty(l,"code",{get:function(){return p(this.value)}}),l}function O(e,t){return"ObjectExpression"==e.type?e.properties.map((function(e){return j(e,t)})):"ArrayExpression"==e.type?e.elements.map((function(e,n){return j(e,t,n)})):void 0}function g(e){return"Literal"==e.key.type?e.key.value:e.key.name}},f1b6:function(e,t,n){},f7b0:function(e,t){e.exports=n("eb2f")},fae3:function(e,t,n){"use strict";n.r(t),n.d(t,"Designer",(function(){return Yn})),n.d(t,"Editor",(function(){return Hn})),n.d(t,"ValueEditor",(function(){return ao})),n.d(t,"CodeList",(function(){return xt["c"]})),n.d(t,"CodeEditor",(function(){return xt["b"]})),n.d(t,"ArgumentTable",(function(){return xt["a"]})),n.d(t,"ContextMenu",(function(){return xt["d"]})),n.d(t,"TableEditor",(function(){return xt["f"]})),n.d(t,"Item",(function(){return xt["e"]})),n.d(t,"ExplorerView",(function(){return vo})),n.d(t,"DataPanel",(function(){return Go})),n.d(t,"ComputedPanel",(function(){return dr})),n.d(t,"MethodPanel",(function(){return Sr})),n.d(t,"WatchPanel",(function(){return Qr})),n.d(t,"HooksPanel",(function(){return li})),n.d(t,"TextPanel",(function(){return pi})),n.d(t,"PanelView",(function(){return yi})),n.d(t,"PropsPanel",(function(){return Ri})),n.d(t,"PropItem",(function(){return Mi})),n.d(t,"DirectivePanel",(function(){return ja})),n.d(t,"EventPanel",(function(){return Ya})),n.d(t,"QuickEventPanel",(function(){return ic})),n.d(t,"StylePanel",(function(){return gc})),n.d(t,"QuickStyleItem",(function(){return Nc})),n.d(t,"ComboPanel",(function(){return al})),n.d(t,"ComboDrowdown",(function(){return sl})),n.d(t,"SfcEditor",(function(){return bl})),n.d(t,"SampleDesigner",(function(){return Tl})),n.d(t,"SampleNodePanel",(function(){return Nl})),n.d(t,"SampleOptionPanel",(function(){return Vl})),n.d(t,"SampleCard",(function(){return xl})),n.d(t,"Configurator",(function(){return re})),n.d(t,"createVucAst",(function(){return ct})),n.d(t,"createVucNode",(function(){return J})),n.d(t,"esprimaHelper",(function(){return l})),n.d(t,"helpers",(function(){return Q}));var o={};if(n.r(o),n.d(o,"createVucNode",(function(){return J})),n.d(o,"isVucNode",(function(){return Z})),"undefined"!==typeof window){var r=window.document.currentScript,i=n("9bb0");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var a=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(n.p=a[1])}n("9c5f");var c=n("cf9e"),l=n("f04f"),u=n("0e26"),s={};function d(e){if(e)return s[e]||s[Object(u["formatComponentName"])(e)]}function f(e){Object(u["castArray"])(e.id).forEach((function(t){t=Object(u["formatComponentName"])(t),s[t]=e}))}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var v=function(){function e(t){p(this,e),Object.assign(this,t),this.relAttrName=this.getAttrName(),this.isVBind()&&this.arg&&(this.arg.content=Object(u["camelize"])(this.arg.content)),this.isStaticBind()&&(this.name=Object(u["camelize"])(this.name)),this.attrName=this.getAttrName(),this.attrValue=this.getAttrValue()}return h(e,[{key:"getArgContent",value:function(){return this.arg&&this.arg.content}},{key:"getExpContent",value:function(){return this.exp&&this.exp.content}},{key:"getBindName",value:function(){return this.isStaticBind()?this.name:this.isVBind()?this.getArgContent():null}},{key:"isDirective",value:function(){return this.type===K.DIRECTIVE}},{key:"isBind",value:function(){return this.isStaticBind()||this.isVBind()}},{key:"isStaticBind",value:function(){return this.type===K.ATTRIBUTE}},{key:"isVBind",value:function(){return this.isDirective()&&"bind"===this.name}},{key:"onlyAttrName",value:function(){return null===this.attrValue}},{key:"isEvent",value:function(){return this.isDirective()&&"on"===this.name}},{key:"isSolt",value:function(){return this.isDirective()&&"solt"===this.name}},{key:"isMultipleDirective",value:function(){return this.isDirective()&&["model","on","bind","solt"].includes(this.name)}},{key:"isSamlpeDirective",value:function(){return this.isDirective()&&!["model","on","bind","slot","if","for","text","html","else","else-if","is"].includes(this.name)}},{key:"eq",value:function(e){return this===e||null!=e&&(this.attrName===e.attrName&&this.attrValue===e.attrValue)}},{key:"valueEq",value:function(e){return this.type===e.type&&(6===this.type?(t=this.value,n=e.value):(t=this.exp,n=e.exp),t==n||null!=t&&null!=n&&t.content===n.content);var t,n}},{key:"getAttrName",value:function(){var e=this.name,t=this.arg,n=this.modifiers;switch(this.type){case K.ATTRIBUTE:return e;case K.DIRECTIVE:var o="v-".concat(e),r=q[e];if(t){var i=t.isStatic?t.content:"[".concat(t.content,"]");o=r?r+i:o+":"+i}return n.length&&(o+="."+n.join(".")),o}}},{key:"getAttrValue",value:function(){switch(this.type){case K.ATTRIBUTE:return this.value?this.value.content:null;case K.DIRECTIVE:return this.exp?this.exp.content:null}}},{key:"toString",value:function(){if(void 0!==this.attrValue)return null===this.attrValue?this.relAttrName:"".concat(this.relAttrName,'="').concat(this.attrValue,'"')}}]),e}();function b(e){return O(e)||j(e)||x(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function O(e){if(Array.isArray(e))return C(e)}function g(e,t){return w(e)||N(e,t)||x(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if(e){if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function N(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done);a=!0)if(i.push(o.value),t&&i.length===t)break}catch(l){c=!0,r=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw r}}return i}}function w(e){if(Array.isArray(e))return e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),e}var B=1,I=function(){function e(t,n){var o=this;S(this,e),this.type=t.type,this.isText()?(5==this.type?this.content="{{ "+t.content.content+" }}":this.content=t.content,this.props=[]):(this.rawTag=t.tag,this.tag=Object(u["formatComponentName"])(this.rawTag),this.kebabTag=Object(u["kebabCase"])(this.tag),this.tagType=t.tagType,this.props=t.props.map((function(e){return new v(W(e))})),this.children=t.children.filter((function(e){return 3!==e.type&&!(2===e.type&&" "==e.content)})).map((function(t){return t instanceof e?(t.parent=o,t):new e(t,o)}))),this._astId="ast_".concat(B++),T(this,"parent",n),T(this,"_changeCount",0),T(this,"name",this.getConfig("name",this.rawTag)),this.updateKey()}return E(e,[{key:"setAttrValue",value:function(e,t){var n=new v(Y(e,t));if(n.isBind())return this._setBind(n);var o=this.getDirective(n.name,n.isMultipleDirective()?n.getArgContent():void 0);return!n.eq(o)&&(this._setAttr(n,o),!0)}},{key:"_pushAttr",value:function(e){this.props.push(e),this.triggerAttrChange(e,null)}},{key:"_spliceAttr",value:function(e){var t;if(Object(u["isString"])(e)){var n=new v(Y(e));n=n.isBind()?this.getBind(e):this.getAttr(e),t=this.props.indexOf(n)}else t=Number.isInteger(e)?e:this.props.indexOf(e);if(t>-1){for(var o,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var c=(o=this.props).splice.apply(o,[t,1].concat(i)),l=g(c,1),s=l[0];this.triggerAttrChange(i[0],s)}return t}},{key:"triggerAttrChange",value:function(e,t){var n=this;if((e||t).isBind()){var o=this.getConfig("props"),r=o&&o[(e||t).getBindName()];r&&r.change&&Object(u["castArray"])(r.change).forEach((function(o){return Object(u["isFunction"])(o)?o(e,t,n):null}))}}},{key:"_pushChildren",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];n.forEach((function(t){e.children.push(t)}))}},{key:"_spliceChildren",value:function(e,t){for(var n,o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];(n=this.children).splice.apply(n,[e,t].concat(r))}},{key:"_setBind",value:function(e){var t=e.isStaticBind(),n=e.getBindName(),o=this.getStaticBind(n),r=this.getVBind(n),i=t?o:r,a=t?r:o;if(i){if(i.valueEq(e))return!1}else i=a;return this._setAttr(e,i),!0}},{key:"_setAttr",value:function(e,t){t?this._spliceAttr(t,e):this._pushAttr(e)}},{key:"delAttr",value:function(e){return-1!=this._spliceAttr(e)}},{key:"getAttr",value:function(e){var t=new v(Y(e));return this.props.find((function(e){return t.attrName===e.attrName}))}},{key:"getAttrValue",value:function(e){var t=this.getAttr(e);return t&&t.attrValue}},{key:"getDirectives",value:function(){return this.props.filter((function(e){return e.isDirective()&&!e.isVBind()&&!e.isEvent()&&!e.isSolt()}))}},{key:"getDirective",value:function(e,t){return this.props.find((function(n){return n.isDirective()&&n.name===e&&(!t||n.getArgContent()===t)}))}},{key:"getBind",value:function(e){return e=Object(u["camelize"])(e),this.props.find((function(t){return t.isBind()&&t.getBindName()===e}))}},{key:"getStaticBind",value:function(e){return e=Object(u["camelize"])(e),this.props.find((function(t){return t.isStaticBind()&&t.getBindName()===e}))}},{key:"getVBind",value:function(e){return e=Object(u["camelize"])(e),this.props.find((function(t){return t.isVBind()&&t.getBindName()===e}))}},{key:"getEvent",value:function(e){return this.getOn(e)}},{key:"getOn",value:function(e){return this.getDirective("on",e)}},{key:"getSlot",value:function(){return this.getDirective("slot")}},{key:"delSlot",value:function(){var e=this.getSlot();this.delAttr(e)}},{key:"getSlotName",value:function(){var e=this.getSlot();return e&&e.getArgContent()}},{key:"getSlotParam",value:function(){var e=this.getSlot();return e&&e.getExpContent()}},{key:"getBelongSlotName",value:function(){var e=this.getParentNode();if(e&&!e.isHTML()){var t=this.getSlotName();return t||"template"!==this.parent.tag||(t=this.parent.getSlotName()),t||"default"}}},{key:"isText",value:function(){return 2===this.type||5===this.type}},{key:"getAttrMap",value:function(){var e={};return this.props&&this.props.forEach((function(t){e[t.attrName]=t.attrValue})),e}},{key:"getAttrsStr",value:function(){return this.props.join(" ")}},{key:"updateKey",value:function(){return this._key=this._astId+"_"+ ++this._changeCount,!0}},{key:"getIndex",value:function(){return this.parent?this.parent.getChildIndex(this):-1}},{key:"getChildIndex",value:function(e){return this.children?this.children.indexOf(e):-1}},{key:"getChild",value:function(e){return this.children[e]}},{key:"getBeforeNode",value:function(){var e=this.getIndex();if(this.parent)return this.parent.getChild(e-1)}},{key:"getAfterNode",value:function(){var e=this.getIndex();if(this.parent)return this.parent.getChild(e+1)}},{key:"getParentNode",value:function(){if(this.parent){if("template"!==this.parent.tag)return this.parent;if(this.parent.parent&&"template"!==this.parent.parent.tag)return this.parent.parent}}},{key:"remove",value:function(){this.parent&&this.parent.removeChild(this)}},{key:"removeChild",value:function(e){var t=this.getChildIndex(e);this._spliceChildren(t,1)}},{key:"insertNode",value:function(e,t){e.parent===this&&e.getIndex()+1<t&&t--,e.remove(),e.parent=this,this._spliceChildren(t,0,e)}},{key:"insertNodes",value:function(e,t){var n=this;Object(u["isString"])(e)&&(e=J(e)),e=Object(u["castArray"])(e),e.forEach((function(o){o.parent===n&&o.getIndex()+1<t&&(t-=e.length),o.remove(),o.parent=n})),this._spliceChildren.apply(this,[t,0].concat(b(e)))}},{key:"appendNode",value:function(e){var t=this;Object(u["isString"])(e)&&(e=J(e)),Object(u["castArray"])(e).forEach((function(e){e.remove(),e.parent=t,t._pushChildren(e)}))}},{key:"insertBefore",value:function(e){var t=this.getIndex();this.parent.insertNodes(e,t)}},{key:"insertAfter",value:function(e){var t=this.getIndex();this.parent.insertNodes(e,t+1)}},{key:"insertToSlot",value:function(e,t){var n=this,o=n.children.find((function(e){return e.getSlotName()==t}));if(o)if("template"===o.tag)o.appendNode(e);else{var r=o.getIndex();o.remove(),o.delSlot(),e.remove(),e.delSlot();var i=A(t,void 0,[o,e]);this.insertNode(i,r)}else{var a=this.getConfig("slots",[]).find((function(e){return e.slot==t})),c=null===a||void 0===a?void 0:a.scope;if("default"!==t||c){e.remove(),e.delSlot();var l=A(t,c,[e]);this.appendNode(l)}else e.delSlot(),e.parent!==n&&this.appendNode(e)}}},{key:"moveToBefore",value:function(){var e=this.getBeforeNode();e&&e.insertBefore(this)}},{key:"moveToAfter",value:function(){var e=this.getAfterNode();e&&this.insertAfter(this)}},{key:"moveToSlot",value:function(e){var t=this.getParentNode();t.insertToSlot(this,e)}},{key:"isEmpty",value:function(){return 0===this.children.length}},{key:"empty",value:function(){this._spliceChildren(0,this.children.length)}},{key:"eqTag",value:function(e){return Object(u["formatComponentName"])(e)===this.tag}},{key:"setStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?":style":"style";this.setAttrValue(n,e)}},{key:"setText",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(this.isText())this.content=t;else{var o=new e({content:t,type:n},this),r=this.children.findIndex((function(e){return e.isText()}));-1==r?this.appendNode(o):this._spliceChildren(r,1,o)}}},{key:"getText",value:function(){return this.isText()?this.content:this.children.map((function(e){return e.isText()?e.getText():""})).join("").trim()}},{key:"clone",value:function(){return J(this.toTemplate())}},{key:"closest",value:function(e){var t=this;while(t.parent){if(t.parent.test(e))return t.parent;t=t.parent}}},{key:"getParents",value:function(){var e=this,t=[];while(e.parent)t.push(e.parent),e=e.parent;return t}},{key:"eachAllNode",value:function(e){function t(n){e(n),n.children&&n.children.forEach(t)}t(this)}},{key:"dfs",value:function(e,t){var n=[];t&&n.push(this),n=n.concat(this.children);while(n.length){var o=n.shift(),r=e(o);if(-1===r)return o;0!==r&&(o.children&&(n=[].concat(o.children).concat(n)))}}},{key:"bfs",value:function(e,t){var n=[];t&&n.push(this),n=n.concat(this.children);while(n.length){var o=n.shift(),r=e(o);if(-1===r)return o;0!==r&&(o.children&&(n=n.concat(o.children)))}}},{key:"querySelector",value:function(e,t){var n=P(e);return this.bfs((function(e){return n(e)?-1:void 0}),t)}},{key:"querySelectorAll",value:function(e,t){var n=P(e),o=[];return this.bfs((function(e){n(e)&&o.push(e)}),t),o}},{key:"getSlotNodes",value:function(e){var t=[];return this.children.forEach((function(n){n.getBelongSlotName()==e&&(n.isTemplateNode()?t=t.concat(n.children):t.push(n))})),t}},{key:"findChild",value:function(e){var t=P(e);return this.children.find(t)}},{key:"findChildren",value:function(e){var t=P(e);return this.children.filter(t)}},{key:"getConfig",value:function(e,t){var n=d(this.tag);return e?n&&n.hasOwnProperty(e)?n[e]:t:n}},{key:"isHTML",value:function(){return X[this.tag]}},{key:"isScopeSlot",value:function(){var e;return"template"===(null===(e=this.parent)||void 0===e?void 0:e.tag)&&this.parent.getSlotParam()}},{key:"isTemplateNode",value:function(){return"template"===this.tag}},{key:"isOffspring",value:function(e){if(this===e)return!0;var t=e;while(1){if(!t.parent)break;if(t.parent===this)return!0;t=t.parent}return!1}},{key:"test",value:function(e){if("."===e[0]){e=e.substr(1);var t=this.getConfig();if(t)return t.type.includes(e)}return this.tag===e||this.tag===Object(u["formatComponentName"])(e)}},{key:"toTemplate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t="\n"+Array(2*(e+1)).fill(" ").join("");if(this.isText())return t+this.getText();var n=this.getAttrsStr();n&&(n=" "+n);var o="".concat(t,"<").concat(this.rawTag).concat(n,">");if(0===e&&(o=o.substring(1)),"img"===this.rawTag)return o;var r="</".concat(this.rawTag,">"),i=this.children,a="";return 1==i.length&&i[0].isText()?a=i[0].getText():i.length&&(r=t+r,a=this.children.map((function(t){return t.toTemplate(e+1)})).join("")),o+a+r}},{key:"toString",value:function(){return this._astId}},{key:"vucAst",get:function(){return this.parent?this.parent.vucAst:this._vucAst}}]),e}();function P(e){return Object(u["isString"])(e)?function(t){return t.test(e)}:e}function A(e,t,n){var o="template",r=[Y("#".concat(e),t)];return new I({tag:o,props:r,children:n})}function T(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}var _=I,D=n("8bad"),M=n("e1ed"),F=n("d9e9"),$=Object.create(null);function L(e,t){var n=e,o=$[n];if(o)return o;var r=Object(M["compile"])(e,Object(F["extend"])({hoistStatic:!0,onError:function(e){throw e}},t)),i=(r.code,r.ast);U(i);var a=Object(M["generate"])(i,{prefixIdentifiers:!1}),c=new Function("Vue",a.code)(D);return c._rc=!0,$[n]=c}function R(e,t){return Object(M["parse"])(e,Object(F["extend"])({},t))}function U(e){var t;e.codegenNode&&(e.codegenNode.patchFlag="-2 /* BAIL */"),null===(t=e.children)||void 0===t||t.forEach(U)}function z(e){return z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}var q={bind:":",on:"@",slot:"#"},K={NOT_CONSTANT:0,TEXT:2,CAN_STRINGIFY:3,SIMPLE_EXPRESSION:4,ATTRIBUTE:6,DIRECTIVE:7,JS_CALL_EXPRESSION:14,JS_OBJECT_EXPRESSION:15};function H(e,t){return e.startsWith(t)}function W(e){if(Array.isArray(e))return e.map(W);if("object"==z(e)){var t={};for(var n in e)"loc"!==n&&(t[n]=W(e[n]));return t}return e}function G(e){if(/^(v-|:|@|#)/.test(e)){var t,n=/(?:^v-([a-z0-9-]+))?(?:(?::|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(e),o=n[1]||(H(e,":")?"bind":H(e,"@")?"on":"slot");if(n[2]){var r="slot"===o,i=n[2],a=!0;i.startsWith("[")?(a=!1,i=i.substr(1,i.length-2)):r&&(i+=n[3]||""),t={type:4,content:i,isStatic:a,constType:a?3:0}}return{type:7,name:o,arg:t,modifiers:n[3]?n[3].substr(1).split("."):[]}}return{type:6,name:e}}function Y(e,t){var n=G(e);return n.type===K.DIRECTIVE?(n.exp=t&&{type:4,content:t,isStatic:!1,constType:0},n):(n.value=t&&{type:2,content:t},n)}var X=Object(u["makeMap"])("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot");function J(e){var t=R(e).children[0];return new _(t)}function Z(e){return e instanceof _}var Q=Object.assign(c,l,u,o),ee=Object.create(null);function te(e,t){ee[e]=t}function ne(e,t){return ee.hasOwnProperty(e)?ee[e]:t}var oe={setVucConfig:f,getVucConfig:d,setConfig:te,getConfig:ne,registerConfig:function(e,t){if("string"==typeof e)oe[e]=t;else for(var n in e)oe[n]=e[n]}},re=oe,ie=n("8bbf"),ae=n("0531"),ce=n.n(ae),le={proxyHooks:{},designerHooks:{},editorHooks:{},createProxyApp:null};function ue(e,t,n){e[t]=e[t]||[],e[t].push(n)}function se(e,t){for(var n in e)t(e[n],n)}function de(e,t,n){function o(t,n){ue(e,t,n)}Object(u["isObject"])(t)?se(t,(function(e,t){return o(t,e)})):o(t,n)}function fe(e,t){de(le.proxyHooks,e,t)}function pe(){return le.proxyHooks}function me(e,t){de(le.editorHooks,e,t)}function he(e){return le.editorHooks[e]||[]}function ve(e){le.createProxyApp=e}function be(){return le.createProxyApp}function ye(e){for(var t=this,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];var i=pe();if(i&&i[e]){var a={},c=Object(u["castArray"])(i[e]);return c.forEach((function(e){Object.assign(a,e.call.apply(e,[t].concat(o)))})),a}}function je(e){var t,n,o=e.$.vnode;return null===(t=o.dirs)||void 0===t||null===(n=t.find((function(e){return"AstId"===e.dir.name})))||void 0===n?void 0:n.value}re.registerConfig("setVucEditorHooks",me),re.registerConfig("setVucProxyHooks",fe),re.registerConfig("setVucProxyCreateApp",ve);var Oe={name:"AstId"};function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xe(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e}var Ce=function(){function e(t,n){var o;ge(this,e),this.context=n,this.node=t,this.attrMap=this.getAttrMap(),this.children=null===(o=t.children)||void 0===o?void 0:o.map((function(t){return new e(t,n)}))}return xe(e,[{key:"getAttrMap",value:function(){var e,t=this.node,n=this.context,o=[],r={};return null===(e=t.props)||void 0===e||e.forEach((function(e){if(e.isSamlpeDirective()){var t="null",i="undefined",a=(null===e||void 0===e?void 0:e.modifiers.join("."))||"";e.arg&&(t=e.arg.isStatic?"'".concat(e.arg.content,"'"):e.arg.content),e.exp&&(i=e.exp.content),n.dirsMap[e.name]="show"===e.name?ie["vShow"]:Object(ie["resolveDirective"])(e.name),o.push(" { name:'".concat(e.name,"',arg:").concat(t,",modifiers:'").concat(a,"',value: ").concat(i," } "))}else r[e.attrName]=e.attrValue})),t.isText()||(t.isHTML()?r["data-ast-id"]=t._astId:"template"!==t.tag&&(r["v-ast-id"]="'".concat(t._astId,"'"))),r["v-ast-proxy"]="[".concat(o.join(","),"]"),"template"===t.tag||t.isHTML()||t.getBind("key")||(r.key=t._key),r}},{key:"getAttrStr",value:function(){var e=[];for(var t in this.attrMap){var n=this.attrMap[t];void 0===n||(null===n?e.push(t):e.push("".concat(t,'="').concat(n.replace?n.replace(/\"/g,"'"):n,'"')))}return e.join(" ")}},{key:"toTemplate",value:function(){var e=this.node,t=this.context,n=t.vucAst,o=n.errorIdMaps&&n.errorIdMaps[e._astId];if(o)return'<div data-ast-id="'.concat(e._astId,'">渲染出错:').concat(o,"</div>");if(e.isText())return e.getText();try{ye("onRender",this,t);var r=e.getConfig("vucProxyOption");null!==r&&void 0!==r&&r.onRender&&r.onRender(this,t);var i=this.children.map((function(e){return e.toTemplate(t)})).join("\n"),a=this.getAttrStr();return"img"===e.tag?"<".concat(e.tag," ").concat(a,">"):"<".concat(e.tag," ").concat(a,">").concat(i,"</").concat(e.tag,">")}catch(c){return console.error(c),"<span>创建模板出错</span>"}}}]),e}(),Ne=Ce;function we(e){return function(){if(e.rootNode){var t=e.createRenderContext();t.dirsMap={},ye("onBeforeRender",t),e.eachAllNode((function(e){var n=e.getConfig("vucProxyOption");n&&n.onBeforeRender&&n.onBeforeRender(e,t)}));var n=new Ne(e.rootNode,t),o=n.toTemplate(t),r=L(o);try{return r(this)}catch(i){return console.error(i),Object(ie["h"])("div",{style:"color:red"},i.message)}}}}function Se(e){var t=ce()((function(){Object(ie["nextTick"])().then((function(){return e.vucInstance.$forceUpdate(),Object(ie["nextTick"])()})).then((function(){Object.keys(e.errorIdMaps).forEach((function(t){return e.errorIdMaps[t]=void 0}))}))}));return function(n,o,r){var i;while(o&&!i)i=je(o),o=o.$parent;console.error(n),i&&(e.errorIdMaps||(e.errorIdMaps=Object(ie["markRaw"])({})),e.errorIdMaps[i]=n.message,t())}}function Ve(e){var t=["created","beforeMount","mounted","beforeUpdate","updated","beforeUnmount","unmounted"],n={};return t.forEach((function(t){n[t]=function(n,o,r){var i,a=e.renderContext.dirsMap,c={};null===(i=o.oldValue)||void 0===i||i.forEach((function(e){c[e.name]=e.value})),o.value.forEach((function(e){var i=a[e.name];if(i){var l={dir:i,instance:o.instance,modifiers:e.modifiers,arg:e.arg,oldValue:c[e.name],value:e.value},u=function(e){var t=i[e];t?t(n,l,r):["mounted","updated"].includes(e)&&i(n,l,r)};if("beforeUpdate"===t&&!c.hasOwnProperty(e.name))return u("created"),u("beforeMount");if("updated"===t&&!c.hasOwnProperty(e.name))return u("mounted");u(t)}}))}})),n}function Ee(e){var t=e.VueOption,n=t.watch,o=e.unwatchs={};return function(){for(var e in n){var t=n[e],r={};Object(u["isString"])(t)?t=this[t]:Object(u["isObject"])(t)?(r=t,t=t.handler):Object(u["isFunction"])(t),o[e]=this.$watch(e,t,r)}}}function Be(e){return function(e){var t=je(e);if(t){var n,o,r,i=e.$el;if(3===i.nodeType)i=null!==(o=i.nextElementSibling)&&void 0!==o&&null!==(r=o.dataset)&&void 0!==r&&r.astId?null:i.nextElementSibling;1===(null===(n=i)||void 0===n?void 0:n.nodeType)&&i.setAttribute("data-ast-id",t)}}}function Ie(e){var t=e.vucInstanceMap=Object(ie["markRaw"])({});return e.getVucInstancesById=function(e){return t[e]},function(e){var n=je(e);if(n){var o=t[n];o||(o=t[n]=[]),o.push(e)}}}function Pe(e){return function(t){var n=je(t);if(n){var o=e.getVucInstancesById(n),r=-1;o&&(r=o.indexOf(t))>-1&&o.splice(r,1)}}}function Ae(e,t){var n=e.VueOption,o=Ee(e),r=Object.assign({},n,{name:"VucProxy",render:we(e),watch:{}});return r.mixins=r.mixins||[],r.mixins.push({created:function(){this[Symbol.unscopables]={},o.call(this)},directives:{astProxy:Ve(e),astId:Oe}}),t&&r.mixins.push(t),r}function Te(){var e=be();return null==e?function(e){return Object(ie["createApp"])(e)}:e}function _e(e,t){var n=Ae(e,t),o=Te(),r=o(n),i=Se(e),a=Be(e),c=Ie(e),l=Pe(e);return r.config.errorHandler=i,r.mixin({props:{astId:String},mounted:function(){a(this),c(this)},unmounted:function(){l(this)}}),ye("onCreatedApp",r),r}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fe(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),e}var $e=function(){function e(t,n,o){De(this,e),this.file=n,this.loaderResult=o,this.VueOption=t,this.vucInstance=null;var r=t.ast.children.find((function(e){return 3!==e.type}));r&&this.setRootNode(new _(r,null)),this.exportDefault=this.loaderResult.ScriptProgram.body.find((function(e){return"ExportDefaultDeclaration"===e.type}))}return Fe(e,[{key:"setRootNode",value:function(e){e&&Object.defineProperty(e,"_vucAst",{writable:!0,enumerable:!1,configurable:!0,value:this}),this.rootNode=e}},{key:"getExportProperty",value:function(e,t){var n=this.exportDefault.declaration.properties,o=n.find((function(t){return Object(l["getPropertyId"])(t)===e}));return!o&&t&&(o=t,n.push(o)),o}},{key:"getContent",value:function(){var e=["<template>",this.rootNode?this.rootNode.toTemplate():"","</template>","<script>",Object(l["astToCode"])(this.loaderResult.ScriptProgram),"<\/script>"].join("\n");return e}},{key:"getTemplate",value:function(){return this.rootNode?this.rootNode.toTemplate():""}},{key:"querySelector",value:function(e){var t;return null===(t=this.rootNode)||void 0===t?void 0:t.querySelector(e,!0)}},{key:"querySelectorAll",value:function(e){var t;return null===(t=this.rootNode)||void 0===t?void 0:t.querySelectorAll(e,!0)}},{key:"eachAllNode",value:function(e){var t;null===(t=this.rootNode)||void 0===t||t.eachAllNode(e)}},{key:"getVucNodeByAstId",value:function(e){var t=null;return this.rootNode.dfs((function(n){if(n._astId==e)return t=n,-1}),!0),t}},{key:"createVucProxyApp",value:function(){var e=this;this.vucPorxyApp=_e(this,{created:function(){e.vucInstance=this}})}},{key:"mount",value:function(e){this.vucPorxyAppInstance=this.vucPorxyApp.mount(e)}},{key:"unmount",value:function(){this.vucPorxyAppInstance&&(this.vucPorxyApp.unmount(),this.vucPorxyAppInstance=null)}},{key:"forceUpdate",value:function(){this.vucInstance.$forceUpdate()}},{key:"createRenderContext",value:function(){return this.renderContext={vucAst:this}}}]),e}(),Le=$e,Re=n("1af5"),Ue=function(e,t,n){function o(e){return t.substring(e[0],e[1])}var r=Re["parseModule"](t,{range:!0,attachComment:!0});function i(e){var t=e.specifiers,o=n.findFile(e.source.value),r=o.getPath?o.getPath():o,i="__vuc_require__('".concat(r,"')");return"const "+t.map((function(e){var t=e.imported?e.imported.name:"default";return"".concat(e.local.name," = ").concat(i,".").concat(t)})).join(",")+";"}function a(e){var t=e.declaration,n=t.declarations||[t],r=o(t.range);return r+"\n"+n.map((function(e){return"__vuc_exports__.".concat(e.id.name," = ").concat(e.id.name,";")})).join("\n")}var c=r.body.map((function(e){if("ImportDeclaration"===e.type)return i(e);if("ExportNamedDeclaration"===e.type)return a(e);if("ExportDefaultDeclaration"===e.type){var t=e.declaration;return"__vuc_exports__.default = ".concat(o(t.range))}return o(e.range)})).join("\n");return c+="\n    __vuc_exports__.__createFunction__ = function (params,code,ctx){\n      return eval('(function ('+params+'){' + code + '}).bind(ctx)' )\n    }\n  ",{modules:c,Program:r}},ze=function(e,t,n){var o=R(t),r=o.children.find((function(e){return"template"==e.tag})),i=o.children.find((function(e){return"script"==e.tag})),a=Ue(e,i.children[0].content,n),c=n.getPath(),l="\n      var ex = __vuc_require__('".concat(c,"?js');\n      var __vue_script__ = ex.default;\n      var __vue_template__ = __vuc_require__('").concat(c,"?template').default;\n      var options = typeof __vue_script__ === 'function' ? __vue_script__.options : __vue_script__;\n      if (__vue_template__) {\n        options.render = __vue_template__.render;\n        options.ast = __vue_template__.ast;\n        options._compiled = true;\n        options._filePath = '").concat(c,"';\n      }\n      Object.assign(__vuc_exports__,ex);");return{modules:[{name:c,module:l},{name:c+"?js",module:a.modules},{name:c+"?template",module:function(e,t,n){return t.default={ast:r}}}],ScriptProgram:a.Program,ScriptContent:i.content}};function qe(e){return qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function We(e,t,n){return t&&He(e.prototype,t),n&&He(e,n),e}var Ge={},Ye=function(){function e(){Ke(this,e)}return We(e,[{key:"build",value:function(e){var t=this,n=this.modules={},o=ze(this,e.content,e);o.modules.forEach((function(n){var o=t.createModuleFunction(n);o?t.modules[e.getPath()]=o:"object"==qe(n)&&(t.modules[n.name]=t.createModuleFunction(n.module))}));var r=this.installedModules={};function i(e,t){if(r[e]&&!t)return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}},a=n[e]||Ze(e);return a.call(o.exports,o,o.exports,i),o.exports}return this.entry=function(){return i(e.getPath())},this.require=this.entry.require=i,{entry:this.entry,result:o}}},{key:"createModuleFunction",value:function(e){return Object(u["isString"])(e)?new Function("module","__vuc_exports__","__vuc_require__",e):Object(u["isFunction"])(e)?e:void 0}}]),e}();function Xe(e,t){Ge[e]=t}function Je(e,t){Ge[e]?Ge[e].default=t:Ge[e]={default:t}}function Ze(e){return Ge[e]?function(t,n,o){Object.assign(n,Ge[e])}:null}var Qe=Ye,et=Qe;function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ot(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),e}var rt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];tt(this,e),this.name=t,this.isFolder=n,this.parent=null,this.isFolder&&(this.files=[])}return ot(e,[{key:"getParentName",value:function(){if(this.parent)return this.parent.name}},{key:"addFile",value:function(e){e.parent=this,this.files.push(e)}},{key:"getFile",value:function(e){return this.files.find((function(t){return t.name===e}))}},{key:"findFile",value:function(e){var t=e.split("/");if(1==t.length)return e;var n=this;return t.forEach((function(e){n="."===e?n.parent:".."===e?n.parent.parent:n.getFile(e)})),n}},{key:"getPath",value:function(){return this.parent?this.parent.getPath()+"/"+this.name:this.name}},{key:"setContent",value:function(e){return this.content=e,this}}]),e}(),it=[];function at(e){it.push(e)}function ct(e){var t=new rt("main.vue").setContent(e),n=new et,o=n.build(t),r=o.entry(),i=r.default,a=o.result,c=Object(ie["ref"])(new Le(i,t,a)).value;return c.createFunction=r.__createFunction__,it.forEach((function(e){e(c)})),c}re.registerConfig({registerAstProcess:at,installModule:Xe,installDefaultModule:Je});var lt={class:"vuc-designer vuc-flex-column"},ut={class:"vuc-panles vuc-flex-mainitem vuc-flex"},st={style:{width:"100px"},class:"vuc-flex-mainitem"};function dt(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("designer-views");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",lt,[Object(ie["createElementVNode"])("div",ut,[Object(ie["createVNode"])(a,{class:"vuc-flex-column",style:Object(ie["normalizeStyle"])(i.leftViewStyle),name:"left"},null,8,["style"]),Object(ie["createElementVNode"])("div",st,[Object(ie["renderSlot"])(e.$slots,"default")]),Object(ie["createVNode"])(a,{class:"vuc-flex-column",style:Object(ie["normalizeStyle"])(i.rightViewStyle),name:"right"},null,8,["style"])]),Object(ie["createElementVNode"])("div",{class:"vuc-panle-resize-handler",onMousedown:t[0]||(t[0]=Object(ie["withModifiers"])((function(){return i.resizeRight&&i.resizeRight.apply(i,arguments)}),["stop","prevent"])),style:Object(ie["normalizeStyle"])({right:r.rightViewWidth+"px"})},null,36)])}var ft=n("4e72"),pt={props:{name:String},render:function(){var e=this,t=[];return this.$parent.$slots[this.name]&&(t=this.$parent.$slots[this.name]()),Object(ie["h"])(ft["Tabs"],{class:"vuc-designer-views",size:"small",tabBarStyle:{margin:0}},{default:function(){return t.map((function(t,n){return t.props?Object(ie["h"])(ft["TabPane"],{tab:t.props.title,key:e.name+"_"+n},{default:function(){return t}}):t}))}})}},mt=pt,ht={class:"vuc-editor",tabIndex:"9999"},vt={class:"vuc-editor-content"},bt={class:"vuc-ceditor"},yt={key:0,class:"vuc-ceditor-panle vuc-ceditor-panle-top"},jt=Object(ie["createElementVNode"])("div",{class:"vuc-ceditor-empty"},null,-1),Ot={class:"vuc-ceditor-panle vuc-ceditor-panle-bottom"},gt={class:"vuc-ceditor-cpanle"};function kt(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("VucEditorRuler"),c=Object(ie["resolveComponent"])("VucEditorNodeSelectedLayer"),l=Object(ie["resolveComponent"])("VucEditorNodeHoverLayer"),u=Object(ie["resolveComponent"])("VucEditorNodeTools"),s=Object(ie["resolveComponent"])("structure-editor"),d=Object(ie["resolveComponent"])("VucEditorNodeNav"),f=Object(ie["resolveComponent"])("context-menu");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",ht,[Object(ie["createElementVNode"])("div",vt,[Object(ie["createElementVNode"])("div",bt,[i.showRuler?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",yt,[jt,Object(ie["createVNode"])(a,{style:Object(ie["normalizeStyle"])({marginLeft:-r.scrollLeft+"px"}),size:200,scale:10,direction:"row"},null,8,["style"])])):Object(ie["createCommentVNode"])("",!0),Object(ie["createElementVNode"])("div",Ot,[i.showRuler?(Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{key:0,style:Object(ie["normalizeStyle"])({marginTop:-r.scrollTop+"px"}),size:200,scale:10,direction:"column"},null,8,["style"])):Object(ie["createCommentVNode"])("",!0),Object(ie["createElementVNode"])("div",gt,[Object(ie["createElementVNode"])("div",{class:"vuc-app-wrapper",onScroll:t[0]||(t[0]=function(){return i.scroll&&i.scroll.apply(i,arguments)}),style:Object(ie["normalizeStyle"])(n.options.wrapperStyle)},null,36)]),Object(ie["createVNode"])(c,{ref:"selectedLayer"},null,512),Object(ie["createVNode"])(l,{ref:"hoverLayer"},null,512),Object(ie["createVNode"])(u,{ref:"nodeTools"},null,512)])]),i.showStructure?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:0},[Object(ie["createElementVNode"])("div",{class:"vuc-panle-resize-handler",onMousedown:t[1]||(t[1]=Object(ie["withModifiers"])((function(){return i.resizeRight&&i.resizeRight.apply(i,arguments)}),["stop","prevent"])),style:Object(ie["normalizeStyle"])({right:r.rightPanleWidth+"px"})},null,36),Object(ie["createVNode"])(s,{style:Object(ie["normalizeStyle"])([{"flex-shrink":"0"},{width:r.rightPanleWidth+"px"}])},null,8,["style"])],64)):Object(ie["createCommentVNode"])("",!0)]),Object(ie["createVNode"])(d),(Object(ie["openBlock"])(),Object(ie["createBlock"])(ie["Teleport"],{to:"body"},[Object(ie["createVNode"])(f,{ref:"ctxmenu",class:"vuc-editor-menu",show:r.menuState,"onUpdate:show":t[2]||(t[2]=function(e){return r.menuState=e}),items:r.contenxtMenuItems,style:Object(ie["normalizeStyle"])(r.contextMenuStyle),onClickItem:i.handleMenu},null,8,["show","items","style","onClickItem"])]))])}var xt=n("79bb"),Ct=n("addb"),Nt=n.n(Ct);function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Vt(e,t,n){return t&&St(e.prototype,t),n&&St(e,n),e}function Et(e){var t=window.getComputedStyle(e),n=window.getComputedStyle(e.parentElement);return"flex"===n.display?"column"===n.flexDirection:!!["table","block","flex"].includes(t.display)}var Bt=function(){function e(t,n,o){wt(this,e),this.rect=t,this.el=o,this.data=n,this.x=t.x,this.y=t.y,this.x1=t.x,this.y1=t.y,this.x2=t.x+t.width,this.y2=t.y+t.height,this.width=t.width,this.height=t.height,this.isBlock=Et(o)}return Vt(e,[{key:"isInside",value:function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)}},{key:"getInsidePos",value:function(e,t){var n=[];return this.isBlock?(n.push({pos:"t",value:t-this.y1}),n.push({pos:"b",value:this.y2-t})):(n.push({pos:"l",value:e-this.x1}),n.push({pos:"r",value:this.x2-e})),Object.assign({rect:this,inside:!0},Nt()(n,"value"))}},{key:"getPos",value:function(e,t){if(this.isBlock){if(t<this.y1&&e>=this.x1&&e<=this.x2)return"t";if(t>this.y2&&e>=this.x1&&e<=this.x2)return"b"}else{if(e<this.x1&&t>=this.y1&&t<=this.y2)return"l";if(e>this.x2&&t>=this.y1&&t<=this.y2)return"r"}}},{key:"getPosDis",value:function(e,t){var n=this.getPos(e,t),o=-1;return"t"===n&&(o=this.y1-t),"b"===n&&(o=t-this.y2),"l"===n&&(o=this.x1-e),"r"===n&&(o=e-this.x2),{pos:n,value:o,rect:this}}},{key:"getStyle",value:function(e){var t=this;switch(e){case"t":return{left:t.x+"px",top:t.y-1+"px",width:t.width+"px",height:"2px"};case"l":return{left:t.x-1+"px",top:t.y+"px",width:"2px",height:t.height+"px"};case"b":return{left:t.x+"px",top:t.y+t.height+1+"px",width:t.width+"px",height:"2px"};case"r":return{left:t.x+t.width+1+"px",top:t.y+"px",width:"2px",height:t.height+"px"}}}}]),e}(),It=Bt;function Pt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=At(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function At(e,t){if(e){if("string"===typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Mt(e,t,n){return t&&Dt(e.prototype,t),n&&Dt(e,n),e}function Ft(e){e.preventDefault()}var $t=function(){function e(){_t(this,e),this.isDrop=!1}return Mt(e,[{key:"dropStart",value:function(e,t,n){var o=this;if(!e._stopStartDrop){this.dropEvent=e,this.dropData=t,this.dropProxyInfo=n,e._stopStartDrop=!0;var r=function(e){return o.showProxy(e)},i=function e(t){return window.removeEventListener("selectstart",Ft),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",e),o.removeProxy(t)};window.addEventListener("selectstart",Ft),window.addEventListener("mousemove",r),window.addEventListener("mouseup",i)}}},{key:"showProxy",value:function(e){var t=this.dropEvent;if(!t.first){if(e.timeStamp-t.timeStamp<500&&Math.abs(e.pageX-t.pageX)<10&&Math.abs(e.pageY-t.pageY)<10)return;t.first=!0}!1===this.isDrop&&(this.isDrop=!0,document.body.classList.add("vuc-draging")),null==this.proxyElement&&(this.proxyElement=document.createElement("div"),this.proxyElement.className="vuc-drag-proxy",document.body.appendChild(this.proxyElement)),null==this.proxyPosElement&&(this.proxyPosElement=document.createElement("div"),this.proxyPosElement.className="vuc-pos-proxy",document.body.appendChild(this.proxyPosElement)),e._stopMove?Object.assign(this.proxyPosElement.style,this.proxyPosElementStyle,{display:"block"}):Object.assign(this.proxyPosElement.style,{display:"none"}),Object.assign(this.proxyElement.style,{left:e.clientX-this.dropProxyInfo.x+"px",top:e.clientY-this.dropProxyInfo.y+"px",width:this.dropProxyInfo.width,height:this.dropProxyInfo.height})}},{key:"removeProxy",value:function(e){document.body.classList.remove("vuc-draging"),this.isDrop=!1,this.dropData=null,this.dropProxyInfo=null,this.dropEvent=null,this.proxyElement&&(document.body.removeChild(this.proxyElement),this.proxyElement=null),this.proxyPosElement&&(document.body.removeChild(this.proxyPosElement),this.proxyPosElement=null)}},{key:"isOffspring",value:function(e){return this.dropIsVucNode()&&this.dropData.node.isOffspring(e)}},{key:"getSlotInfo",value:function(e,t){var n=t.node,o=t.el,r=n.getConfig();if(r&&r.slots){var i=null;if(r.slots.find((function(t){if(t.selector){var n=o.querySelector(t.selector);if(-1!=e.path.indexOf(n))return i=Object.assign({el:n},t)}})),!i){var a=r.slots.find((function(e){return"default"==e.slot}));a&&!a.selector&&(i=Object.assign({el:t.el},a))}return i}return!1}},{key:"getRelativePosInfo",value:function(e,t,n){if(!this.isOffspring(t.node)){var o,r,i=null;if(this.dropIsVucNode()&&(i=this.dropData.node,o=i._astId),t.node.isHTML())if(0===t.el.childElementCount){if("img"==t.node.tag)return;r=b("default",t.el)}else{var a,c=[],l=Pt(t.el.children);try{for(l.s();!(a=l.n()).done;){var u=a.value;c.push(u)}}catch(j){l.e(j)}finally{l.f()}r=y("default",c),this.markNotMove(r)}else{var s=this.getSlotInfo(e,t);if(s){var d=n.vucAst.getVucNodeByAstId(t.node._astId),f=d.getSlotNodes(s.slot),p=f.flatMap((function(e){return document.querySelector('[data-ast-id="'.concat(e._astId,'"]'))})).filter((function(e){return e}));if(p&&0!==p.length){if(r=y(s.slot,p),!r)return;var m=Rt({x:e.pageX,y:e.pageY},[Lt(t.node,t.el)]);m&&m.value<10&&m.value<r.value&&(r=m),this.markNotMove(r)}else r=b(s.slot,s.el)}else if(r=y("",[t.el]),!r||!r.inside)return}var h=r.rect.data,v="inner"==r.pos?h:h.getParentNode();return r.targetNode=h,r.parentNode=v,r}function b(n,o){var r=Lt(t.node,t.el),i=r.getInsidePos(e.pageX,e.pageY),a=r.isBlock?r.height:r.width;return i.rect=r,i.value<a/5&&i.value<10?i:{pos:"inner",rect:r,slot:n,el:o}}function y(t,r){var i=r.filter((function(e){return e.dataset.astId!==o})).map((function(e){var t=n.getVucNode(e.dataset.astId);return Lt(t,e)})),a=Rt({x:e.pageX,y:e.pageY},i);return a&&(a.slot=t),a}}},{key:"getDropVucNode",value:function(e){var t=this.dropData.node;return new Promise((function(n){if(Object(u["isFunction"])(t)){var o=t.call(null,e,r);if(!o)return;o instanceof Promise?o.then((function(e){r(e)})):r(o)}else r(t);function r(e){var t;Z(e)?t=e:Object(u["isString"])(e)&&(t=J(e)),n(t)}}))}},{key:"dropLimit",value:function(e){var t,n=e.parentNode;e.targetNode,e.pos;if(!n)return!1;if(this.dropIsVucNode()?t=this.dropData.node.tag:this.dropData.tag&&(t=this.dropData.tag,Object(u["isFunction"])(t)&&(t=t.call(null,e))),!t)return!1;var o=n.getConfig("childLimit");if(o&&!1===o(t,this.dropIsVucNode()&&this.dropData.node))return!1;var r=d(t);return null===r||void 0===r||!r.parentLimit||!1!==r.parentLimit(n)}},{key:"dropIsVucNode",value:function(){var e;return Z(null===(e=this.dropData)||void 0===e?void 0:e.node)}},{key:"markNotMove",value:function(e){if(this.dropIsVucNode()&&e){var t,n=e.rect.data,o=this.dropData.node;if(n.getSlotName()==o.getSlotName())"r"===e.pos||"b"===e.pos?t=n.getAfterNode():"l"!==e.pos&&"t"!==e.pos||(t=n.getBeforeNode()),o&&t===o&&(e.isNotMove=!0)}}}]),e}();function Lt(e,t){return new It(t.getBoundingClientRect(),e,t)}function Rt(e,t){var n=t.find((function(t){return t.isInside(e.x,e.y)}));if(n)return n.getInsidePos(e.x,e.y);var o=t.map((function(t){return t.getPosDis(e.x,e.y)})).filter((function(e){return e.value>=0})),r=Nt()(o,"value");return r||(n=t.find((function(t){return t.y1>=e.y})),n?{rect:n,pos:"l",value:e.y-n.y1}:(n=t[t.length-1],e.y>n.y2?{rect:n,pos:"r",value:e.y-n.y2}:void 0))}var Ut=$t;function zt(e,t){var n=null===e||void 0===e?void 0:e.getConfig("vucEditorOption");return n&&n[t]}var qt={data:function(){return{dropManager:new Ut}},mounted:function(){this.bindEvent()},unmounted:function(){var e=this,t=function(t){e.__events__[t].forEach((function(e){document.body.removeEventListener(t,e)}))};for(var n in this.__events__)t(n)},methods:{bindEvent:function(){this.bindHoverEvent(),this.bindSelectEvent(),this.bindDropmoveEvent(),this.bindDropupEvent(),this.bindContextmenuEvent()},getHookHandlers:function(e){var t=[];return this.options[e]&&t.push(this.options[e]),t.concat(he(e))},handlerHook:function(e,t){var n=this.getHookHandlers(e);void 0!==t&&n.push(t);for(var o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];return u["someHandlerIsFalse"].apply(void 0,[n].concat(r))},bindHoverEvent:function(){var e=this;document.body.addEventListener("mouseover",(function(t){for(var n=t.composedPath(),o=0;o<n.length;o++){var r=n[o];if(r.dataset&&r.dataset.astId){var i=e.getVucNode(r.dataset.astId);if(e.handlerHook("onBeforeSelectNode",zt(i,"onBeforeSelectNode"),i))continue;return e.hoverVucNode=i,void(e.hoverVucNodeEl=r)}}e.hoverVucNode=null,e.hoverVucNodeEl=null}))},bindSelectEvent:function(){var e=this;this.addEvent("click",(function(t,n,o){if(!e.handlerHook("onBeforeSelectNode",zt(n,"onBeforeSelectNode"),n))return e.selectVucNode(n,o),!0}))},bindContextmenuEvent:function(){var e=this;this.addEvent("contextmenu",(function(t,n){if(!e.handlerHook("onBeforeSelectNode",zt(n,"onBeforeSelectNode"),n))return e.selectVucNode(n),e.showMenu(t),t.preventDefault(),t.stopPropagation(),!0}))},getDropPosInfo:function(e,t,n){if(this.dropManager.isDrop){var o=this.dropManager.getRelativePosInfo(e,{node:t,el:n},this);if(o&&this.dropManager.dropLimit(o)&&!this.handlerHook("onDragdrop",void 0,this.dropManager.dropData,o.targetNode,o.pos))return o}},bindDropmoveEvent:function(){var e=this;this.addEvent("mousemove",(function(t,n,o){var r=e.getDropPosInfo(t,n,o);if(r){if("inner"===r.pos){var i=r.el.getBoundingClientRect();e.dropManager.proxyPosElementStyle={width:i.width+"px",height:i.height+"px",top:i.top+"px",left:i.left+"px",opacity:.2}}else e.dropManager.proxyPosElementStyle=Object.assign({opacity:.7},r.rect.getStyle(r.pos));return t._stopMove=!0,!0}}))},bindDropupEvent:function(){var e=this;this.addEvent("mouseup",(function(t,n,o){var r=e.getDropPosInfo(t,n,o);if(r)return t._stopUp=!0,r.isNotMove||e.dropManager.getDropVucNode(r).then((function(t){if(t.delSlot(),"inner"===r.pos)e.insertToSlot(n,r.slot,t);else{var o=r.rect.data,i="r"===r.pos||"b"===r.pos?"after":"before";e.insertNode(o,i,t)}})),!0}))},dropStart:function(e,t,n){this.dropManager.dropStart(e,t,n)},addEvent:function(e,t){var n=this,o=function(e){for(var o=e.composedPath(),r=0;r<o.length;r++){var i=o[r];if(i.dataset&&i.dataset.astId){var a=n.getVucNode(i.dataset.astId);if(t(e,a,i))return}}};document.body.addEventListener(e,o),this.__events__=this.__events__||{};var r=this.__events__[e]=this.__events__[e]||[];r.push(o)}}},Kt={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapeLock:20,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Insert:45,Delete:46,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,N1:96,N2:97,N3:98,N4:99,N5:100,N6:101,N7:102,N8:103,N9:104,N0:105,"N*":106,"N+":107,NEnter:108,"N-":109,"N.":110,"N/":111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"|":220,"]":221,'"':222},Ht={mounted:function(){this.$el.addEventListener("keydown",this.handleKeyMap)},methods:{_handleKeyMap:function(e){var t=this.currentNode;if(t){if(!e.ctrlKey||e.altKey||e.shiftKey)if(e.ctrlKey||!e.altKey||e.shiftKey){if(!e.ctrlKey&&!e.altKey&&!e.shiftKey)switch(e.keyCode){case Kt.Delete:return void this.removeNode(t);case Kt.Insert:return void this.insertToSlot(t);case Kt.Up:return void(t.parent&&(this.__select__parent__child__curNode__=t,this.selectVucNode(t.parent)));case Kt.Down:if(t.children&&t.children.length){var n=t.children.includes(this.__select__parent__child__curNode__)?this.__select__parent__child__curNode__:t.children[0];this.selectVucNode(n)}return;case Kt.Left:var o=t.getBeforeNode();return void(o&&this.selectVucNode(o));case Kt.Right:var r=t.getAfterNode();return void(r&&this.selectVucNode(r));case Kt.Esc:return void this.clearSelected()}}else switch(e.keyCode){case Kt.Up:return void this.moveToBefore(t);case Kt.Down:return void this.moveToAfter(t);case Kt.Left:return void this.moveToBefore(t);case Kt.Right:return void this.moveToAfter(t)}else switch(e.keyCode){case Kt.C:return void this.copyNode(t);case Kt.X:return void this.cutNode(t);case Kt.V:return void this.parseNode(t,"after");case Kt.I:return void this.insertToSlot(t);case Kt.P:return void this.repeatNode(t);case Kt.Y:return;case Kt.Z:return}return!0}},handleKeyMap:function(e){this._handleKeyMap(e)||(e.stopPropagation(),e.preventDefault())}}};function Wt(e,t,n,o,r,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{class:Object(ie["normalizeClass"])(i.className)},[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.size+1,(function(e){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{key:e,class:Object(ie["normalizeClass"])((e-1)%10==0?"vuc-ruler-0":(e-1)%5==0?"vuc-ruler-50":"")},Object(ie["toDisplayString"])((e-1)%10==0?(e-1)*n.scale:""),3)})),128))],2)}var Gt={props:{direction:{validator:function(e){return-1!==["row","column"].indexOf(e)}},size:Number,scale:Number},computed:{className:function(){return["vuc-ruler","vuc-ruler-"+this.direction]}},data:function(){return{}}};n("9652");Gt.render=Wt;var Yt=Gt,Xt={class:"vuc-ceditor-tagnav"},Jt=["onClick","onMousedown"];function Zt(e,t,n,o,r,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",Xt,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.nodes,(function(e){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{class:Object(ie["normalizeClass"])(["vuc-ceditor-tag",{"vuc-ceditor-tag-cur":e===i.currentNode}]),onClick:function(t){return i.selectInstance(e)},onMousedown:function(t){return i.onDropStart(t,e)},key:e._astId},Object(ie["toDisplayString"])(e.rawTag),43,Jt)})),128))])}var Qt={computed:{currentNode:function(){return this.$parent.currentNode}},data:function(){return{nodes:[]}},watch:{currentNode:function(e){e&&!this.nodes.includes(e)&&this.updateNodes()}},methods:{updateNodes:function(){var e=[],t=this.currentNode;while(t)e.unshift(t),t=t.parent;this.nodes=e},onDropStart:function(e,t){this.$parent.dropStart(e,t,{x:0,y:0,width:"100px",height:"30px"})},selectInstance:function(e){this.$parent.selectVucNode(e)}}};n("300c");Qt.render=Zt;var en=Qt,tn={class:"vuc-selected-layer-name"};function nn(e,t,n,o,r,i){return i.currentNode?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{key:0,class:"vuc-selected-layer",style:Object(ie["normalizeStyle"])(i.layerPosStyle)},[Object(ie["createElementVNode"])("div",tn,Object(ie["toDisplayString"])(i.currentNode.name),1)],4)):Object(ie["createCommentVNode"])("",!0)}var on={data:function(){return{layerPos:{}}},computed:{currentNode:function(){return this.$parent.currentNode},layerPosStyle:function(){return{top:this.layerPos.top-this.$parent.scrollTop+"px",left:this.layerPos.left-this.$parent.scrollLeft+"px",width:this.layerPos.width+"px",height:this.layerPos.height+"px"}}},created:function(){var e=this;this._intervalId=setInterval((function(){e.updatePos()}),1e3/60)},unmounted:function(){clearInterval(this._intervalId)},watch:{currentNode:function(){this.updatePos()}},methods:{updatePos:function(){var e=this.currentNode;if(e){var t=this.$parent.$el.querySelector(".vuc-ceditor-panle").getBoundingClientRect(),n=this.$parent.currentSelectElement||this.$parent.getVucNodeElement(e);if(n){var o=n.getBoundingClientRect();return void(this.layerPos={top:o.top-t.top+this.$parent.scrollTop,left:o.left-t.left+this.$parent.scrollLeft,width:o.width,height:o.height})}}}}};on.render=nn;var rn=on,an={class:"vuc-hover-layer-name"};function cn(e,t,n,o,r,i){return i.hoverVucNode?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{key:0,class:"vuc-hover-layer",style:Object(ie["normalizeStyle"])(i.posStyle)},[Object(ie["createElementVNode"])("div",an,Object(ie["toDisplayString"])(i.hoverVucNode.name),1)],4)):Object(ie["createCommentVNode"])("",!0)}var ln={data:function(){return{pos:{top:0,left:-100}}},computed:{hoverVucNode:function(){return this.$parent.hoverVucNode},posStyle:function(){return{top:this.pos.top-this.$parent.scrollTop+"px",left:this.pos.left-this.$parent.scrollLeft+"px",width:this.pos.width+"px",height:this.pos.height+"px"}}},created:function(){var e=this;this._intervalId=setInterval((function(){e.updatePos()}),1e3/60)},unmounted:function(){clearInterval(this._intervalId)},watch:{hoverVucNode:function(){var e=this;this.$nextTick((function(){e.updatePos()}))}},methods:{updatePos:function(){var e=this.hoverVucNode;if(e){var t=this.$parent.$el.querySelector(".vuc-ceditor-panle").getBoundingClientRect(),n=this.$parent.hoverVucNodeEl||this.$parent.getVucNodeElement(e);if(n){var o=n.getBoundingClientRect();this.pos={top:o.top-t.top+this.$parent.scrollTop,left:o.left-t.left+this.$parent.scrollLeft,width:o.width,height:o.height}}}}}};ln.render=cn;var un=ln;function sn(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("DragOutlined"),c=Object(ie["resolveComponent"])("Button");return Object(ie["withDirectives"])((Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{class:"vuc-tag-tools",style:Object(ie["normalizeStyle"])([i.navPosStyle,{width:"30px"}])},[Object(ie["createVNode"])(c,{onMousedown:Object(ie["withModifiers"])(i.dropStart,["left"]),size:"small",title:"移动"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a)]})),_:1},8,["onMousedown"]),(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.buttons,(function(e,t){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{size:"small",title:e.title,key:t,onClick:function(t){return i.handlerClick(t,e)}},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(),Object(ie["createBlock"])(Object(ie["resolveDynamicComponent"])(e.icon)))]})),_:2},1032,["title","onClick"])})),128))],4)),[[ie["vShow"],i.isShow]])}var dn=n("5629"),fn=n.n(dn),pn=[],mn={data:function(){return{navPos:{top:0,left:-100}}},components:{DragOutlined:fn.a,Button:ft["Button"]},computed:{currentNode:function(){return this.$parent.currentNode},isShow:function(){return this.currentNode&&this.currentNode.parent},navPosStyle:function(){return{top:this.navPos.top-this.$parent.scrollTop+"px",left:this.navPos.left-this.$parent.scrollLeft+"px"}},buttons:function(){if(this.currentNode){var e=this.currentNode.getConfig("editorTools")||[];return pn.concat(e)}}},created:function(){var e=this;this._intervalId=setInterval((function(){e.updatePos()}),1e3/60)},unmounted:function(){clearInterval(this._intervalId)},watch:{currentNode:function(){var e=this;this.$nextTick((function(){e.updatePos()}))}},methods:{updatePos:function(){var e=this.currentNode;if(e){var t=this.$parent.$el.querySelector(".vuc-ceditor").getBoundingClientRect(),n=this.$parent.currentSelectElement||this.$parent.getVucNodeElement(e);if(n){var o=n.getBoundingClientRect();this.navPos={top:o.top-t.top-1+this.$parent.scrollTop,left:o.right-t.left+1+this.$parent.scrollLeft};var r=this.$parent.$el.querySelector(".vuc-app-wrapper").scrollWidth;return void(this.navPos.left=Math.min(this.navPos.left,r-10))}}},handlerClick:function(e,t){"string"==typeof t.handler?this[t.handler](e):t.handler.call(null,e,this.currentNode)},dropStart:function(e){var t=this.currentNode,n=this.$parent.getVucNodeElement(t),o=n.getBoundingClientRect();this.$parent.dropStart(e,{node:t,tag:t.tag},{x:0,y:0,width:o.width+"px",height:o.height+"px"})},moveToBefore:function(){this.$parent.moveToBefore(this.currentNode)},moveToAfter:function(){this.$parent.moveToAfter(this.currentNode)},remove:function(){this.$parent.removeNode(this.currentNode)},selectParent:function(){var e=this.currentNode;e.parent&&this.$parent.selectVucNode(e.parent)}}};n("ff42");mn.render=sn;var hn=mn,vn={class:"vuc-structure-header"},bn=Object(ie["createTextVNode"])(" 元素 "),yn={class:"vuc-structure-body"};function jn(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("ExpandAltOutlined"),c=Object(ie["resolveComponent"])("vue-node"),l=Object(ie["resolveComponent"])("Tree"),u=Object(ie["resolveComponent"])("context-menu"),s=Object(ie["resolveComponent"])("ExpandOutlined"),d=Object(ie["resolveComponent"])("Tooltip");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{class:Object(ie["normalizeClass"])(["vuc-structure",i.cls])},[r.openState?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:0},[Object(ie["createElementVNode"])("div",vn,[bn,Object(ie["createVNode"])(a,{onClick:i.toggleState,class:"vuc-structure-header-extra"},null,8,["onClick"])]),Object(ie["createElementVNode"])("div",yn,[Object(ie["createVNode"])(l,{selectedKeys:i.selectedKeys,"tree-data":i.ast,replaceFields:{key:"_astId"}},{title:Object(ie["withCtx"])((function(e){var t=e._astId;return[Object(ie["createVNode"])(c,{node:i.getVucNode(t)},null,8,["node"])]})),_:1},8,["selectedKeys","tree-data"]),Object(ie["createVNode"])(u,{show:r.showMenu,"onUpdate:show":t[0]||(t[0]=function(e){return r.showMenu=e}),items:r.contenxtMenuItems,style:Object(ie["normalizeStyle"])(r.contextMenuStyle),onClickItem:i.handleMenu},null,8,["show","items","style","onClickItem"])])],64)):(Object(ie["openBlock"])(),Object(ie["createBlock"])(d,{key:1,title:"显示页面结构"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(s,{style:{color:"#fff"},onClick:i.toggleState},null,8,["onClick"])]})),_:1}))],2)}var On=n("3f65"),gn=n.n(On),kn=n("eaa4"),xn=n.n(kn),Cn={key:0,class:"vue-node-attrs"},Nn={class:"vue-node-property"},wn=Object(ie["createElementVNode"])("span",{class:"vue-node-operator"},"=",-1),Sn={class:"vue-node-string"};function Vn(e,t,n,o,r,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{class:"vue-node",onClick:t[4]||(t[4]=function(){return i.selectNode&&i.selectNode.apply(i,arguments)}),onContextmenu:t[5]||(t[5]=Object(ie["withModifiers"])((function(){return i.showMenu&&i.showMenu.apply(i,arguments)}),["stop","prevent"])),onMousedown:t[6]||(t[6]=Object(ie["withModifiers"])((function(){return i.dropStart&&i.dropStart.apply(i,arguments)}),["stop"]))},[i.isText?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{key:1,class:"vue-node-str",onMousemove:t[2]||(t[2]=function(){return i.dropMove&&i.dropMove.apply(i,arguments)}),onMouseup:t[3]||(t[3]=function(){return i.dropUp&&i.dropUp.apply(i,arguments)})},Object(ie["toDisplayString"])(n.node.getText()),33)):(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:0},[Object(ie["createElementVNode"])("span",{class:"vue-node-tag",onMousemove:t[0]||(t[0]=function(){return i.dropMove&&i.dropMove.apply(i,arguments)}),onMouseup:t[1]||(t[1]=function(){return i.dropUp&&i.dropUp.apply(i,arguments)})},Object(ie["toDisplayString"])(n.node.rawTag),33),i.attrs.length?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",Cn,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.attrs,(function(e,t){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{class:"vue-node-attr",style:Object(ie["normalizeStyle"])(t>0?i.marginLeft:null),key:e.name},[Object(ie["createElementVNode"])("span",Nn,Object(ie["toDisplayString"])(e.attrName),1),null!==e.attrValue?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:0},[wn,Object(ie["createElementVNode"])("span",Sn,Object(ie["toDisplayString"])(e.attrValue),1)],64)):Object(ie["createCommentVNode"])("",!0)],4)})),128))])):Object(ie["createCommentVNode"])("",!0)],64))],32)}var En={props:{node:Object},inject:["$Structure"],computed:{isText:function(){return this.node.isText()},marginLeft:function(){},attrs:function(){return this.node.props}},data:function(){return{}},methods:{selectNode:function(){this.$Structure.selectNode(this.node)},dropStart:function(e){this.$Structure.dropStart(e,{node:this.node,tag:this.node.tag})},dropMove:function(e){this.$Structure.dropMove(e,this.node)},dropUp:function(e){this.$Structure.dropUp(e,this.node)},showMenu:function(e){this.$Structure.showContextMenu(e,this.node)}}};n("1a8f");En.render=Vn;var Bn=En,In={mounted:function(){var e=this;this.dropPosProxyElement=null,window.addEventListener("mousemove",(function(t){e.dropPosProxyElement&&(t._stopMove||(e.dropPosProxyElement.style.display="none"))})),window.addEventListener("mouseup",(function(t){e.dropPosProxyElement&&(document.body.removeChild(e.dropPosProxyElement),e.dropPosProxyElement=null)}))},methods:{dropStart:function(e,t){this.editor.dropStart(e,t,{x:0,y:0,width:"100px",height:"30px"})},event:function(e,t,n){if(!e._stopMove){var o=this.editor.dropManager,r=this.editor.dropManager.dropData;if(r){if(o.isOffspring(t))return;var i=Pn(e,t);if("after"===i&&t.getAfterNode()===r)return;if("before"===i&&t.getBeforeNode()===r)return;n.call(this,i),e._stopMove=!0}}},dropMove:function(e,t){var n=this;this.event(e,t,(function(t){null==n.dropPosProxyElement&&(n.dropPosProxyElement=document.createElement("div"),n.dropPosProxyElement.className="vuc-structure-pos-proxy",document.body.appendChild(n.dropPosProxyElement));var o=e.target.getBoundingClientRect(),r={display:"block",top:o.top+"px",left:o.left+"px",width:o.width-7+"px",height:"0px"},i=!1;"before"===t||("after"===t?r.top=o.top+o.height+"px":(i=!0,r.height=o.height+"px")),n.setProxyClass(i),Object.assign(n.dropPosProxyElement.style,r)}))},setProxyClass:function(e){e?this.dropPosProxyElement.classList.add("vuc-structure-pos-proxy-inner"):this.dropPosProxyElement.classList.remove("vuc-structure-pos-proxy-inner")},dropUp:function(e,t){var n=this;this.event(e,t,(function(e){var o="inner"==e?t:t.getParentNode(),r={pos:e,targetNode:t,parentNode:o};n.editor.dropManager.getDropVucNode(r).then((function(o){o&&("inner"===e?n.editor.appendNode(t,o):n.editor.insertNode(t,e,o,!0))}))}))}}};function Pn(e,t){var n=6,o=13;return(void 0===t.tag||t.children.length)&&(n=o=10),e.offsetY<=n?"before":e.offsetY>o?"after":"inner"}function An(e){var t=e.getConfig();if(t&&t.slots){var n=t.slots.map((function(e){return{text:e.name,slot:e,handler:function(t,n){n.insertToSlot(t,e.slot)}}}));return n}}function Tn(e){var t=e.getParentNode();if(t){var n=t.getConfig();if(n&&n.slots){var o=e.getBelongSlotName(),r=n.slots.map((function(e){if(e.slot!==o)return{text:e.name,slot:e,handler:function(t,n){n.moveToSlot(t,e.slot)}}})).filter((function(e){return e}));return r}}}function _n(){return[{text:"移动",handler:function(e,t){t.dropStart(this.event,e,{x:0,y:0,width:"100px",height:"30px"})}},{text:"前移",handler:function(e,t){t.moveToBefore(e)}},{text:"后移",handler:function(e,t){t.moveToAfter(e)}},{text:"删除",handler:function(e,t){t.removeNode(e)}}]}function Dn(e,t){var n=[{text:"复制",handler:function(e,t){t.copyNode(e)}},{text:"剪切",handler:function(e,t){t.cutNode(e)}},{text:"重复",handler:function(e,t){t.repeatNode(e)}}];if(t&&t!==e){n.push({text:"粘贴",children:[{text:"前面",handler:function(e,t){t.parseNode(e,"before")}},{text:"后面",handler:function(e,t){t.parseNode(e,"after")}}]});var o=An(e);o&&n.push({text:"粘贴到插槽",children:o})}return n}function Mn(e){if(e){var t=Tn(e);if(t&&t.length)return[{text:"移动到",children:t}]}}function Fn(e){var t=e.currentNode,n=_n(),o=Dn(t,e.curCopyNode),r=Mn(t);return o&&o.length&&(n.push({divided:!0}),n=n.concat(o)),r&&r.length&&(n.push({divided:!0}),n=n.concat(r)),n}var $n={components:{VueNode:Bn,ContextMenu:xt["d"],ExpandAltOutlined:gn.a,ExpandOutlined:xn.a,Tree:ft["Tree"],Tooltip:ft["Tooltip"]},provide:function(){return{$Structure:this}},mixins:[In],data:function(){return{showMenu:!1,contextMenuStyle:{},openState:!0,contenxtMenuItems:[]}},computed:{vucAst:function(){return this.editor.vucAst},curVucNode:function(){return this.editor.currentNode},selectedKeys:function(){return this.curVucNode?[this.curVucNode._astId]:[]},cls:function(){return this.openState?"":"vuc-structure-close"},ast:function(){var e;if(null!==(e=this.vucAst)&&void 0!==e&&e.rootNode)return[this.vucAst.rootNode]},editor:function(){return this.$parent}},methods:{toggleState:function(){this.openState=!this.openState},getVucNode:function(e){return this.editor.getVucNode(e)},selectNode:function(e){this.curVucNode!==e&&this.editor.selectVucNode(e)},handleMenu:function(e){e.handler(this.curVucNode,this.editor)},showContextMenu:function(e,t){this.selectNode(t);var n=this.$el.getBoundingClientRect();this.showMenu=!0,this.contextMenuStyle={top:e.pageY-n.y+"px",left:e.pageX-n.x+"px"},this.contenxtMenuItems=Fn(this.editor)}}};n("2f34");$n.render=jn;var Ln=$n,Rn=Ln,Un={data:function(){return{curCopyNode:null,copyOrCut:null}},methods:{copyNode:function(e){this.curCopyNode=e,this.copyOrCut="copy"},cutNode:function(e){this.curCopyNode=e,this.copyOrCut="cut"},parseNode:function(e,t,n){n||(n="copy"==this.copyOrCut?this.curCopyNode.clone():this.curCopyNode),this.insertNode(e,t,n),"cut"===this.copyOrCut&&n===this.curCopyNode&&(this.curCopyNode=null)},insertNode:function(e,t,n,o){n&&(o||(e.getSlotName()?e.parent.insertToSlot(n,e.getSlotName()):n.getSlotName()&&n.delSlot()),"before"===t?e.insertBefore(n):e.insertAfter(n),this.selectVucNode(n))},insertToSlot:function(e,t,n){n||(n="copy"==this.copyOrCut?this.curCopyNode.clone():this.curCopyNode),n&&(e.insertToSlot(n,t||"default"),this.selectVucNode(n),"cut"===this.copyOrCut&&n===this.curCopyNode&&(this.curCopyNode=null))},repeatNode:function(e){var t=e.clone();e.insertAfter(t),this.selectVucNode(t)},moveToBefore:function(e){e.moveToBefore(),this.selectVucNode(e)},moveToAfter:function(e){e.moveToAfter(),this.selectVucNode(e)},moveToSlot:function(e,t){e.moveToSlot(t),this.selectVucNode(e)},appendNode:function(e,t){e.appendNode(t),this.selectVucNode(t)},removeNode:function(e){if(e.vucAst.rootNode==e)e.vucAst.setRootNode(null),this.clearSelected();else{var t,n=e;"template"===(null===(t=e.parent)||void 0===t?void 0:t.tag)&&1===e.parent.children.length&&(n=e.parent);var o=n.getAfterNode()||n.getBeforeNode()||n.parent;n.remove(),this.selectVucNode(o)}}}},zn={emits:["select-node"],inject:["$designer"],components:{VucEditorRuler:Yt,VucEditorNodeNav:en,VucEditorNodeTools:hn,VucEditorNodeSelectedLayer:rn,VucEditorNodeHoverLayer:un,StructureEditor:Rn,ContextMenu:xt["d"]},mixins:[qt,Ht,Un],props:{vucAst:Object,options:{type:Object,default:function(){return{}}}},data:function(){return{scrollLeft:0,scrollTop:0,menuState:!1,contextMenuStyle:{},currentNode:null,hoverVucNode:null,rightPanleWidth:300,rootNode:null,contenxtMenuItems:[]}},computed:{showRuler:function(){return void 0===this.options.showRuler||this.options.showRuler},showStructure:function(){return this.options.showStructure}},created:function(){this.$designer.editor=this},mounted:function(){this.loadVuc()},watch:{vucAst:function(e,t){null===t||void 0===t||t.unmount(),this.loadVuc()},currentNode:function(e){this.$emit("select-node",e)},rootNode:{handler:function(e){he("onNodeTreeChange").forEach((function(t){t(e)}))},deep:!0}},methods:{scroll:function(){this.scrollTop=this.$el.querySelector(".vuc-app-wrapper").scrollTop,this.scrollLeft=this.$el.querySelector(".vuc-app-wrapper").scrollLeft},selectVucNode:function(e,t){this.currentNode=e,this.currentSelectElement=t},clearSelected:function(){this.currentNode=null},showMenu:function(e){var t=e.pageY,n=e.pageX;this.menuState=!0,this.contextMenuStyle={top:t+"px",left:n+"px"},this.contenxtMenuItems=Fn(this)},handleMenu:function(e){var t=this.currentNode;e.handler(t,this)},getVucNode:function(e){return this.vucAst.getVucNodeByAstId(e)},getVucNodeElement:function(e){return document.querySelector('[data-ast-id="'.concat(e._astId,'"]'))},resizeRight:function(e){var t=this,n=e.pageX,o=this.rightPanleWidth,r=function(e){var r=o-(e.pageX-n);r>1e3&&(r=1e3),r<200&&(r=200),t.rightPanleWidth=r},i=function e(){window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",e)};window.addEventListener("mousemove",r),window.addEventListener("mouseup",i)},updateLayerPos:function(){var e=this;this.$nextTick((function(){e.$refs.selectedLayer.updatePos(),e.$refs.hoverLayer.updatePos(),e.$refs.nodeTools.updatePos()}))},reloadVuc:function(){this.vucAst&&(this.vucAst.unmount(),this.loadVuc())},loadVuc:function(){this.vucAst&&(this.vucAst.createVucProxyApp(),this.rootNode=this.vucAst.rootNode,this.mountVuc())},mountVuc:function(){var e=this.$el.querySelector(".vuc-app-wrapper");this.vucAst.mount(e)},forceUpdateVuc:function(){this.vucAst.forceUpdate()}}};n("6a19");zn.render=kt;var qn=zn,Kn=qn,Hn=Kn,Wn={name:"VucDesigner",components:{DesignerViews:mt,VucEditor:Hn},provide:function(){return{$designer:this}},computed:{leftViewStyle:function(){return{width:"250px",borderRightWidth:"1px"}},rightViewStyle:function(){return{width:this.rightViewWidth+"px",borderLeftWidth:"1px"}}},data:function(){return{rightViewWidth:300}},methods:{resizeRight:function(e){var t=this,n=e.pageX,o=this.rightViewWidth,r=function(e){var r=o-(e.pageX-n);r>1e3&&(r=1e3),r<300&&(r=300),t.rightViewWidth=r},i=function e(t){window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",e)};window.addEventListener("mousemove",r),window.addEventListener("mouseup",i)}}};Wn.render=dt;var Gn=Wn,Yn=Gn;function Xn(e,t,n,o,r,i){return Object(ie["openBlock"])(),Object(ie["createBlock"])(Object(ie["resolveDynamicComponent"])(i.editorComponent),Object(ie["mergeProps"])(e.$attrs,{value:r.val,"onUpdate:value":t[0]||(t[0]=function(e){return r.val=e})}),null,16,["value"])}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){Qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eo={};function to(e,t){eo[e]=t}function no(e){var t;return null===(t=eo[e])||void 0===t?void 0:t.Editor}function oo(e){return eo[e]}var ro=n("6071");ro.keys().forEach((function(e){var t=ro(e),n=t.default;to(n.editorConfig.id,Zn(Zn({},n.editorConfig),{},{Editor:n}))}));var io={emits:["update:value"],inheritAttrs:!1,props:{editor:String,value:[String,Number,Boolean]},computed:{editorComponent:function(){return no(this.editor)}},data:function(){return{val:this.value}},watch:{value:function(){this.val=this.value},val:function(){this.val!==this.value&&this.$emit("update:value",this.val)}}};io.render=Xn;var ao=io;re.registerConfig({registerValueEditor:to});var co={};re.setVucProxyHooks({onBeforeRender:function(e){co={},e.cancelOutline=function(e){co[e._astId]=!0}},onRender:function(e){var t=e.node,n=e.attrMap;co[t._astId]&&(n["no-outline"]="")}});var lo={class:"vuc-explorer"},uo={class:"vuc-explorer-group"},so=["onDblclick","onClick","onMousedown"];function fo(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("CollapsePanel"),c=Object(ie["resolveComponent"])("Collapse");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",lo,[Object(ie["createVNode"])(c,{style:{border:"none",outline:"none"},tabindex:"999","active-key":r.activeKey,"onUpdate:active-key":t[0]||(t[0]=function(e){return r.activeKey=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.components,(function(t){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{header:t.title,key:t.title},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("div",uo,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(t.children,(function(t){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{class:Object(ie["normalizeClass"])(["vuc-explorer-item",{"vuc-explorer-item-selected":t===r.curSelected}]),onDblclick:function(e){return i.append(t)},onClick:function(e){return i.select(t)},onMousedown:function(e){return i.dropStart(e,t)}},[Object(ie["renderSlot"])(e.$slots,"default",Object(ie["normalizeProps"])(Object(ie["guardReactiveProps"])(t)),(function(){return[Object(ie["createTextVNode"])(Object(ie["toDisplayString"])(t.title),1)]}))],42,so)})),256))])]})),_:2},1032,["header"])})),128))]})),_:3},8,["active-key"])])}var po={inject:["$designer"],computed:{activeEditor:function(){return this.$designer.editor},vucAst:function(){return this.activeEditor.vucAst}}},mo={mixins:[po],components:{Collapse:ft["Collapse"],CollapsePanel:ft["CollapsePanel"]},props:{components:{type:Array,default:function(){return[]}}},data:function(){return{curSelected:null,activeKey:this.components.map((function(e){return e.title}))}},methods:{getV:function(e){var t=Object.assign({},e),n=t.node;return"string"===typeof n&&(t.node=J(n)),t},dropStart:function(e,t){this.activeEditor.dropStart(e,this.getV(t),{x:0,y:0,width:"100px",height:"30px"})},select:function(e){this.curSelected=e},append:function(e){var t=this.activeEditor.currentNode||this.vucAst.rootNode;if(t||!this.vucAst.rootNode){var n;if(e.onDblclick)return e.onDblclick(t);var o=this.getV(e).node;if(Object(u["isFunction"])(o)){var r=o;o=r({parentNode:t,dblClick:!0})}Object(u["isString"])(o)&&(o=J(o)),null!==(n=o)&&void 0!==n&&n.tag&&(t?o.tag===t.tag?this.activeEditor.insertNode(t,"after",o):this.activeEditor.appendNode(t,o):(this.vucAst.setRootNode(o),this.activeEditor.selectVucNode(o)))}}}};n("39d4");mo.render=fo;var ho=mo,vo=ho;function bo(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("code-list"),c=Object(ie["resolveComponent"])("DataForm"),l=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[Object(ie["createVNode"])(a,{data:r.items,columns:r.columns,mode:n.mode,value:e.val,"onUpdate:value":t[0]||(t[0]=function(t){return e.val=t}),onAddItem:i.doEdit,onClickItem:i.doEdit,onDeleteItem:i.doDel,"row-key":"path",defaultExpandedRowKeys:i.defaultExpandedRowKeys},null,8,["data","columns","mode","value","onAddItem","onClickItem","onDeleteItem","defaultExpandedRowKeys"]),Object(ie["createVNode"])(l,{title:"编辑",visible:r.editState,"onUpdate:visible":t[1]||(t[1]=function(e){return r.editState=e}),width:"800px",onOk:i.doSave,"mask-closable":!1,destroyOnClose:""},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{vucAst:e.vucAst,vucData:r.curData},null,8,["vucAst","vucData"])]})),_:1},8,["visible","onOk"])])}var yo=n("283b"),jo=n.n(yo),Oo=n("3166"),go=n.n(Oo);function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xo=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.valueName,o=void 0===n?"value":n,r=t.valName,i=void 0===r?"val":r,a=t.type,c=void 0===a?String:a,l=t.mode,u=void 0===l?"computed":l,s=t.emitUpdate,d=void 0===s||s,f={emits:["update:".concat(o)],props:ko({},o,c)};"computed"==u?f.computed=ko({},i,{get:function(){return this[o]},set:function(e){this.$emit("update:".concat(o),e)}}):(f.data=function(){return ko({},i,null)},f.watch=(e={},ko(e,o,{immediate:!0,handler:function(){this[i]=this[o]}}),ko(e,i,(function(){d&&this.emitUpdate()})),e),f.methods={emitUpdate:function(){this.$emit("update:".concat(o),this[i])}});return f};function Co(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("FormItem"),l=Object(ie["resolveComponent"])("SelectOption"),u=Object(ie["resolveComponent"])("Select"),s=Object(ie["resolveComponent"])("value-editor"),d=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(d,{labelCol:{flex:"100px"},wrapperCol:{flex:1},model:n.vucData,rules:r.ruleValidate},{default:Object(ie["withCtx"])((function(){return[r.isArraySub?Object(ie["createCommentVNode"])("",!0):(Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{key:0,label:"标识",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.vucData.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.vucData.id=e})},null,8,["value"])]})),_:1})),Object(ie["createVNode"])(c,{label:"备注",name:"name"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.vucData.name,"onUpdate:value":t[1]||(t[1]=function(e){return n.vucData.name=e})},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"值类型"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u,{value:r.editorId,"onUpdate:value":t[2]||(t[2]=function(e){return r.editorId=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.editorOptions,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(l,{value:e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createTextVNode"])(Object(ie["toDisplayString"])(e.name),1)]})),_:2},1032,["value"])})),256))]})),_:1},8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"值内容",name:"code"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(s,Object(ie["mergeProps"])({value:r.data[r.editorId],"onUpdate:value":t[3]||(t[3]=function(e){return r.data[r.editorId]=e}),editor:r.editorId},i.editorOption.propsData),null,16,["value","editor"])]})),_:1}),(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.formExtras,(function(e){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],null,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(e.formItems,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{label:e.label,key:e.label},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(),Object(ie["createBlock"])(Object(ie["resolveDynamicComponent"])(e.component),{"vuc-ast":n.vucAst,data:n.vucData},null,8,["vuc-ast","data"]))]})),_:2},1032,["label"])})),128))],64)})),256))]})),_:1},8,["model","rules"])}function No(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("DownOutlined"),c=Object(ie["resolveComponent"])("MenuItem"),l=Object(ie["resolveComponent"])("Menu"),u=Object(ie["resolveComponent"])("Dropdown");return Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{trigger:["click"]},{overlay:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,null,{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.editors,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{onClick:function(t){return i.selectEditor(e)},class:Object(ie["normalizeClass"])({"item-selected":n.editorId==e.id}),key:e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createTextVNode"])(Object(ie["toDisplayString"])(e.name),1)]})),_:2},1032,["onClick","class"])})),128))]})),_:1})]})),default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",Object(ie["normalizeProps"])(Object(ie["guardReactiveProps"])(e.$attrs)),[Object(ie["createTextVNode"])(Object(ie["toDisplayString"])(n.title)+" ",1),Object(ie["createVNode"])(a)],16)]})),_:1})}var wo=n("c44b"),So=n.n(wo),Vo={name:"EditorDropdown",emits:["update:editorId"],components:{DownOutlined:So.a,Dropdown:ft["Dropdown"],Menu:ft["Menu"],MenuItem:ft["MenuItem"]},props:{editors:Array,editorId:String,title:String},methods:{selectEditor:function(e){this.$emit("update:editorId",e.id)}}};Vo.render=No;var Eo=Vo,Bo=[];function Io(e){Bo.push(e)}function Po(){return Bo}function Ao(e,t){return e.props&&Object(u["isFunction"])(e.props)?e.props(t):e.props}function To(e,t){if(!e)return null;var n=Object(u["parseComponentAndProps"])(Object(u["isString"])(e)?e:e.type),o=n.id,r=n.props,i={id:o};Object(u["isString"])(e)||Object.assign(i,e),Object(u["isFunction"])(e.props)?i.props=function(){var t=e.props.apply(null,arguments);return Object.assign(r,t)}:Object(u["isObject"])(e.props)?i.props=Object.assign(r,e.props):i.props=r;var a=oo(i.id);return a?Object.assign({propsData:Ao(i,t),validateValue:function(e,t){return null!==e&&void 0!==e&&(t=t||_o(e),("any"==a.dataType||t==a.dataType)&&(!a.validate||a.validate(e,this.propsData)))},name:a.name,dataType:a.dataType},i):void 0}function _o(e){return Object(c["isStringType"])(e)?"string":Object(c["isNumberType"])(e)?"number":Object(c["isBooleanType"])(e)?"boolean":"object"}var Do={components:{CodeEditor:xt["b"],EditorDropdown:Eo,ValueEditor:ao,Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"],Select:ft["Select"],SelectOption:ft["SelectOption"]},props:{vucAst:Object,vucData:Object},data:function(){return{data:{},editorOptions:["string","number","boolean?trueText=真&falseText=假","expression?#inline=false&height=300"].map((function(e){return To(e)})),formExtras:Object(ie["markRaw"])(Po()),editorId:"expression",parentPath:null,ruleValidate:{id:[{required:!0,message:"标识必填",trigger:"blur"},{validator:function(e,t,n){return new Promise((function(e,n){Object(u["isIdentifier"])(t)||n("非法的标识符")}))},trigger:"blur"}]},isArraySub:/\[\d+\]/.test(this.vucData.id)}},computed:{editorOption:function(){return this.getEditorOption(this.editorId)},title:function(){return"值(".concat(this.editorOption.name,")")}},watch:{editorId:function(e,t){if(t){var n=this.editorOption,o=this.data[t];n.validateValue(o)&&(this.data[e]=o)}},data:{deep:!0,handler:function(){this.vucData.code=this.data[this.editorId]}},vucData:{immediate:!0,handler:function(){if(this.vucData.path){var e=Object(u["parsePath"])(this.vucData.path),t=e.parentPath;this.parentPath=t}}},"vucData.id":function(e){this.vucData.path=this.parentPath?this.parentPath+"."+e:e}},mounted:function(){this.autoSetEditorId()},methods:{getEditorOption:function(e){return this.editorOptions.find((function(t){return t.id===e}))},autoSetEditorId:function(){var e=this.vucData.code;if(null===e||void 0===e||Mo(e))this.editorId="expression";else{var t=this.editorOptions,n=t.find((function(t){return"expression"!=t.id&&t.validateValue(e)}));this.editorId=n?n.id:"expression"}this.data[this.editorId]=e}}};function Mo(e){return["null","","undefined"].includes(e)}Do.render=Co;var Fo=Do,$o={string:"字符串",number:"数字",boolean:"布尔",array:"数组",object:"对象",expr:"表达式"},Lo={components:{DataForm:Fo,CodeList:xt["c"],Modal:ft["Modal"]},props:{mode:String},mixins:[po,xo()],data:function(){return{curData:null,editState:!1,items:[],columns:[{dataIndex:"id",title:"标识符",formatter:function(e,t){return e+(t.name?" (".concat(t.name,")"):"")}},{dataIndex:"type",title:"类型",width:60,formatter:function(e){return $o[e]}}]}},watch:{vucAst:{immediate:!0,handler:function(e){this.items=e.datas}}},computed:{defaultExpandedRowKeys:function(){var e=[];return go()(this.value).forEach((function(t){var n=jo()(e);void 0===n?e.push(t):/^\d+$/.test(t)?e.push(n+"[".concat(t,"]")):e.push(n+"."+t)})),e.pop(),e}},methods:{doEdit:function(e){this.editData={},e&&(this.editData={id:e.id,name:e.name,path:e.path,code:e.code}),this.curData=Object.assign({},this.editData),this.editState=!0},doSave:function(){var e=this;this.curData.id&&(this.vucAst.saveData(this.curData,this.editData.id),Po().forEach((function(t){t.onSave&&t.onSave(e.curData,e.editData,e.vucAst)})),this.editState=!1)},doDel:function(e){this.vucAst.delData(e.path)}}};Lo.render=bo;var Ro=Lo,Uo=n("b3ab"),zo=n.n(Uo);function qo(e){function t(t){var n,o,r=t.path||t.id;try{n=new Function("return "+t.code).call(e.vucInstance)}catch(f){return console.error(f),f.description||f.message}var i=Object(u["parsePath"])(r),a=i.parentPath,c=i.arrayIndex,s=i.isArray,d=t.name?"/*".concat(t.name,"*/"):"";return o=s?Object(l["parseExpression"])("[ ".concat(d," ").concat(t.code," ]")).elements[0]:Object(l["getFirstProperty"])("{ ".concat(d," ").concat(t.id,": ").concat(t.code," }")),t=Object(l["objectPropertyExpr2JSON"])(o,a,c),{newValue:n,arrayIndex:c,parentPath:a,data:t,dataExpression:o}}e.dataProperty=e.getExportProperty("data",Object(l["getFirstProperty"])("{ data() { return {} } }"));var n=jo()(e.dataProperty.value.body.body).argument;e.dataProperties=n.properties,e.datas=Object(l["objectExpr2JSON"])(n),Object.assign(e,{saveData:function(e,n){var o=t(e);o.oldId=n||e.id,o.parentPath?this.saveOtherData(o):this.saveRootData(o)},saveRootData:function(e){var t=e.dataExpression,n=e.oldId,o=e.newValue,r=e.data,i=this.dataProperties,a=this.datas,c=Object(l["updateProperty"])(i,t,n);-1!=c?(a.splice(c,1,r),Wo(this.vucInstance,n)):a.push(r),Ho(this.vucInstance,r.id,o)},saveOtherData:function(e){var t=e.dataExpression,n=e.oldId,o=e.newValue,r=e.parentPath,i=e.arrayIndex,a=e.data,c=this.getDataProperty(r);if(null==c)return console.error("saveData:不能找到 ".concat(r));"Property"===c.type&&(c=c.value);var u,s=this.getDataByPath(r),d=zo()(this.vucInstance,r);if("ObjectExpression"==c.type){var f=c.properties;u=Object(l["updateProperty"])(f,t,n),delete d[n],d[a.id]=o}else if("ArrayExpression"==c.type){var p=c.elements;p.splice(i,1,t),u=i,-1!=u?d.splice(u,1,o):d.push(o)}-1!=u?s.children.splice(u,1,a):(s.children||(s.children=[]),s.children.push(a))},delData:function(e){var t=Object(u["parsePath"])(e),n=t.parentPath,o=t.arrayIndex,r=t.isArray,i=t.id;if(n){var a=this.getDataProperty(n);"Property"===a.type&&(a=a.value);var c,l=this.getDataByPath(n),s=zo()(this.vucInstance,n);if("ObjectExpression"!=a.type||r)"ArrayExpression"==a.type&&r&&(a.elements.splice(o,1),c=o,s.splice(c,1));else{var d=a.properties;c=d.findIndex(Ko(i)),d.splice(c,1),delete s[i]}l.children.splice(c,1),0==l.children.length?l.children=null:r&&l.children.forEach((function(e,t){e.id="[".concat([t],"]"),e.path=n+e.id}))}else{var f=this.dataProperties,p=this.datas,m=f.findIndex(Ko(i));f.splice(m,1),p.splice(m,1),Wo(this.vucInstance,i)}},getDataProperty:function(e){var t=go()(e),n=t.shift(),o=this.dataProperties.find(Ko(n));while(void 0!==(n=t.shift())&&o)"Property"==o.type&&(o=o.value),o="ObjectExpression"==o.type?o.properties.find(Ko(n)):"ArrayExpression"==o.type?o.elements[n]:null;return o},getDataByPath:function(e){var t=go()(e),n=t.shift(),o=this.datas.find((function(e){return e.id==n}));while(void 0!==(n=t.shift())&&o)o=o.children?"array"==o.type?o.children[n]:"object"==o.type?o.children.find((function(e){return e.id==n})):null:null;return o}})}function Ko(e){return function(t){return Object(l["getPropertyId"])(t)==e}}function Ho(e,t,n){e[t]=n}function Wo(e,t){e[t]=void 0}re.registerAstProcess(qo),re.registerConfig("setDataFormExtra",Io);var Go=Ro;function Yo(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("code-list"),c=Object(ie["resolveComponent"])("computed-form"),l=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[Object(ie["createVNode"])(a,{data:i.items,onAddItem:i.doEdit,onClickItem:i.doEdit,onDeleteItem:i.doDel},null,8,["data","onAddItem","onClickItem","onDeleteItem"]),Object(ie["createVNode"])(l,{title:"编辑",visible:r.editState,"onUpdate:visible":t[0]||(t[0]=function(e){return r.editState=e}),width:"800px",onOk:i.doSave,"mask-closable":!1,destroyOnClose:""},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{vucAst:e.vucAst,vucData:r.curData},null,8,["vucAst","vucData"])]})),_:1},8,["visible","onOk"])])}var Xo=n("9a2f"),Jo=n.n(Xo);function Zo(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("FormItem"),l=Object(ie["resolveComponent"])("code-editor"),u=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{"label-col":{span:4},"wrapper-col":{span:18},model:n.vucData,rules:r.ruleValidate},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"标识",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.vucData.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.vucData.id=e}),placeholder:""},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"名称"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.vucData.name,"onUpdate:value":t[1]||(t[1]=function(e){return n.vucData.name=e}),placeholder:""},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"表达式"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.vucData.code,"onUpdate:value":t[2]||(t[2]=function(e){return n.vucData.code=e}),height:300},null,8,["value"])]})),_:1}),(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.formExtras,(function(e){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],null,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(e.formItems,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{label:e.label,key:e.label},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(),Object(ie["createBlock"])(Object(ie["resolveDynamicComponent"])(e.component),{"vuc-ast":n.vucAst,data:n.vucData},null,8,["vuc-ast","data"]))]})),_:2},1032,["label"])})),128))],64)})),256))]})),_:1},8,["model","rules"])}var Qo=[];function er(e){Qo.push(e)}function tr(){return Qo}var nr={components:{CodeEditor:xt["b"],Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"]},props:{vucData:Object,vucAst:Object},data:function(){return{formExtras:tr(),ruleValidate:{id:[{required:!0,message:"标识必填",trigger:"blur"},{validator:function(e,t){return new Promise((function(e,n){Object(u["isIdentifier"])(t)||n("非法的标识符")}))},trigger:"blur"}]}}}};nr.render=Zo;var or=nr,rr={components:{ComputedForm:or,CodeList:xt["c"],Modal:ft["Modal"]},mixins:[po],data:function(){return{curData:null,editState:!1}},computed:{items:function(){return this.vucAst?this.vucAst.computeds:[]}},methods:{doEdit:function(e){this.editData=e,this.curData=Object.assign({},e),this.editState=!0},doSave:function(){if(this.curData.id){var e;if(!Jo()(this.curData,this.editData))this.vucAst.saveComputed(this.curData,null===(e=this.editData)||void 0===e?void 0:e.id);this.editState=!1}},doDel:function(e){this.vucAst.delComputed(e.id)}}};rr.render=Yo;var ir=rr;function ar(e){var t=Object(l["extractAnnotations"])(e.leadingComments),n=Object(l["genFunBodyCode"])(e.value);return{id:Object(l["getPropertyId"])(e),name:t.remark(),code:n}}function cr(e){var t=e.getExportProperty("computed",Object(l["getFirstProperty"])("{computed:{}}")),n=t.value.properties,o=n.map(ar);Object.assign(e,{computeds:o,computedProperty:t,computedProperties:n,saveComputed:function(e,t){t=t||e.id;var n=this.computeds,o=this.computedProperties,r=this.vucInstance,i=Object(l["getFirstProperty"])("{ /*".concat(e.name,"*/ ").concat(e.id," : function(){ ").concat(e.code," } }")),a=Object(l["updateProperty"])(o,i,t);-1!=a?(n.splice(a,1,e),lr(r,t)):n.push(e),sr(r,e),r.$forceUpdate()},delComputed:function(e){var t=this.computeds,n=this.computedProperties,o=this.vucInstance,r=n.findIndex((function(t){return e==Object(l["getPropertyId"])(t)}));n.splice(r,1),t.splice(r,1),lr(o,data.id),o.$forceUpdate()}})}function lr(e,t){delete e.$.ctx[t]}function ur(){}function sr(e,t){var n=new Function(t.code);n=n.bind(e,e);var o=Object(ie["computed"])({get:n,set:ur});Object.defineProperty(e.$.ctx,t.id,{enumerable:!0,configurable:!0,get:function(){return o.value},set:function(e){return o.value=e}})}re.registerAstProcess(cr),re.registerConfig("setComputedFormExtra",er);var dr=ir;function fr(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("code-list"),c=Object(ie["resolveComponent"])("MethodEditorModal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[Object(ie["createVNode"])(a,{data:i.items,onAddItem:i.doEdit,onClickItem:i.doEdit,onDeleteItem:i.doDel},null,8,["data","onAddItem","onClickItem","onDeleteItem"]),Object(ie["createVNode"])(c,{ref:"modal"},null,512)])}function pr(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("method-editor"),c=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{visible:r.editState,"onUpdate:visible":t[0]||(t[0]=function(e){return r.editState=e}),title:"方法编辑",width:"800px",onOk:i.doSave,"mask-closable":!1,destroyOnClose:""},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{ref:"editor",method:r.curData},null,8,["method"])]})),_:1},8,["visible","onOk"])}var mr=n("ef6a"),hr=n.n(mr);function vr(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("FormItem"),l=Object(ie["resolveComponent"])("argument-table"),u=Object(ie["resolveComponent"])("code-editor"),s=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(s,{"label-col":{span:4},"wrapper-col":{span:18},model:n.method,rules:r.ruleValidate,ref:"form"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"标识",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.method.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.method.id=e}),placeholder:"请输入标识"},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"名称",name:"name"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.method.name,"onUpdate:value":t[1]||(t[1]=function(e){return n.method.name=e}),placeholder:"请输入名称"},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"参数列表"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.method.params},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"代码",name:"code"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u,{value:n.method.code,"onUpdate:value":t[2]||(t[2]=function(e){return n.method.code=e})},null,8,["value"])]})),_:1})]})),_:1},8,["model","rules"])}var br={components:{CodeEditor:xt["b"],ArgumentTable:xt["a"],Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"]},props:{method:Object},data:function(){return{ruleValidate:{id:[{required:!0,message:"标识必填",trigger:"blur"},{validator:function(e,t){return new Promise((function(e,n){Object(u["isIdentifier"])(t)||n("非法的标识符")}))},trigger:"blur"}]}}},methods:{validate:function(){return this.$refs.form.validate()}}};br.render=vr;var yr=br,jr={mixins:[po],data:function(){return{editState:!1,curData:{}}},components:{MethodEditor:yr,Modal:ft["Modal"]},methods:{doEdit:function(e){this.editData=e,this.curData=hr()(Object.assign({params:[]},e)),this.editState=!0},doSave:function(){var e=this;this.curData.id&&this.$refs.editor.validate().then((function(t){if(t){var n;if(!Jo()(e.curData,e.editData))e.vucAst.saveMethod(e.curData,null===(n=e.editData)||void 0===n?void 0:n.id);e.editState=!1}}))}}};jr.render=pr;var Or=jr,gr={mixins:[po],data:function(){return{editState:!1,curData:{}}},components:{MethodEditorModal:Or,CodeList:xt["c"]},computed:{items:function(){return this.vucAst?this.vucAst.methods:[]}},methods:{doEdit:function(e){this.$refs.modal.doEdit(e)},doDel:function(e){this.vucAst.delMethod(e.id)}}};gr.render=fr;var kr=gr;function xr(e){return Object(l["fn2json"])(e)}function Cr(e){var t=e.getExportProperty("methods",Object(l["getFirstProperty"])("{ methods: { } }")),n=t.value.properties,o=n.map(xr);Object.assign(e,{methods:o,methodProperty:t,methodProperties:n,saveMethod:function(t,n){n=n||t.id;var o=this.methods,r=this.methodProperties,i=wr(t.params),a=Nr(t),c=Object(l["getFirstProperty"])("{ ".concat(a," ").concat(t.id,"(").concat(i,") { ").concat(t.code," } }")),u=Object(l["updateProperty"])(r,c,n);-1!=u?(o.splice(u,1,t),delete this.vucInstance[n]):o.push(t),this.vucInstance[t.id]=e.createFunction(wr(t.params),t.code,this.vucInstance),this.vucInstance.$forceUpdate()},delMethod:function(e){var t=this.methods,n=this.methodProperties,o=n.findIndex((function(t){return e==Object(l["getPropertyId"])(t)}));n.splice(o,1),t.splice(o,1),delete this.vucInstance[e],this.vucInstance.$forceUpdate()}})}function Nr(e){var t,n=[];return e.name&&n.push("* @name ".concat(e.name)),null===(t=e.annotations)||void 0===t||t.forEach((function(e){n.push("* ".concat(e.name," ").concat(e.params))})),e.remark&&n.push(e.remark),n=n.concat(e.params.map((function(e){var t=e.req?"[".concat(e.id,"]"):e.id;return"* @param ".concat(t," ").concat(e.desc||"")}))),n.length?"/**\n".concat(n.join("\n")," \n*/"):""}function wr(e){return e.map((function(e){return e.id})).join(",")}re.registerAstProcess(Cr);var Sr=kr;function Vr(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("code-list"),c=Object(ie["resolveComponent"])("watch-form"),l=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[Object(ie["createVNode"])(a,{data:i.items,onAddItem:i.doEdit,onClickItem:i.doEdit,onDeleteItem:i.doDel},null,8,["data","onAddItem","onClickItem","onDeleteItem"]),Object(ie["createVNode"])(l,{visible:r.editState,"onUpdate:visible":t[0]||(t[0]=function(e){return r.editState=e}),title:"编辑",destroyOnClose:"",width:"800px",keyboard:!1,"mask-closable":!1,onOk:i.doSave},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{vucAst:e.vucAst,data:r.curData},null,8,["vucAst","data"])]})),_:1},8,["visible","onOk"])])}var Er=Object(ie["createTextVNode"])("deep"),Br=Object(ie["createTextVNode"])("immediate");function Ir(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("FormItem"),l=Object(ie["resolveComponent"])("Col"),u=Object(ie["resolveComponent"])("Checkbox"),s=Object(ie["resolveComponent"])("argument-table"),d=Object(ie["resolveComponent"])("code-editor"),f=Object(ie["resolveComponent"])("Row"),p=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(p,{model:n.data,labelCol:{style:{width:"100px"}},wrapperCol:{style:{flex:1}},rules:r.ruleValidate,ref:"form"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(f,null,{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{span:12},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"标识",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.data.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.data.id=e}),placeholder:"需观察键标识",readonly:n.idReadOnly},null,8,["value","readonly"])]})),_:1})]})),_:1}),Object(ie["createVNode"])(l,{span:12},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"备注",name:"name"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.data.name,"onUpdate:value":t[1]||(t[1]=function(e){return n.data.name=e})},null,8,["value"])]})),_:1})]})),_:1}),Object(ie["createVNode"])(l,{span:24},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"选项"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u,{checked:n.data.deep,"onUpdate:checked":t[2]||(t[2]=function(e){return n.data.deep=e})},{default:Object(ie["withCtx"])((function(){return[Er]})),_:1},8,["checked"]),Object(ie["createVNode"])(u,{checked:n.data.immediate,"onUpdate:checked":t[3]||(t[3]=function(e){return n.data.immediate=e})},{default:Object(ie["withCtx"])((function(){return[Br]})),_:1},8,["checked"])]})),_:1})]})),_:1}),Object(ie["createVNode"])(l,{span:24},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"参数列表"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(s,{value:n.data.params},null,8,["value"])]})),_:1})]})),_:1}),Object(ie["createVNode"])(l,{span:24},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"代码",name:"code"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(d,{value:n.data.code,"onUpdate:value":t[4]||(t[4]=function(e){return n.data.code=e})},null,8,["value"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])}var Pr={components:{CodeEditor:xt["b"],ArgumentTable:xt["a"],Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"],Checkbox:ft["Checkbox"],Row:ft["Row"],Col:ft["Col"]},props:{idReadOnly:Boolean,data:Object,vucAst:Object},data:function(){return{ruleValidate:{id:[{required:!0,message:"标识必填",trigger:"blur"}]}}}};Pr.render=Ir;var Ar=Pr,Tr={components:{Modal:ft["Modal"],WatchForm:Ar,CodeList:xt["c"]},mixins:[po],data:function(){return{curData:null,editState:!1}},computed:{items:function(){var e;return null===(e=this.vucAst)||void 0===e?void 0:e.watchs}},methods:{doEdit:function(e){this.editData=e,this.curData=Object.assign({params:[]},e),this.editState=!0},doSave:function(){if(this.curData.id){var e;if(!Jo()(this.curData,this.editData))this.vucAst.saveWatch(this.curData,null===(e=this.editData)||void 0===e?void 0:e.id);this.editState=!1}},doDel:function(e){this.vucAst.delWatch(e.id)}}};Tr.render=Vr;var _r=Tr,Dr=Object(ie["createTextVNode"])("编辑");function Mr(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("Button"),c=Object(ie["resolveComponent"])("WatchForm"),l=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],null,[Object(ie["createVNode"])(a,{onClick:i.openWatchForm},{default:Object(ie["withCtx"])((function(){return[Dr]})),_:1},8,["onClick"]),Object(ie["createVNode"])(l,{title:"监听",visible:r.visible,"onUpdate:visible":t[0]||(t[0]=function(e){return r.visible=e}),width:"800px",onOk:i.save,destroyOnClose:""},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{"vuc-ast":n.vucAst,data:r.watchData,idReadOnly:""},null,8,["vuc-ast","data"])]})),_:1},8,["visible","onOk"])],64)}var Fr={components:{Modal:ft["Modal"],Button:ft["Button"],WatchForm:Ar},props:{data:Object,vucAst:Object},data:function(){return{visible:!1,watchData:{id:void 0,params:[]}}},methods:{openWatchForm:function(){var e=this.data.path||this.data.id;if(e){var t=this.vucAst.watchs.find((function(t){return t.id===e}));t?this.watchData=Object.assign({},t):this.watchData.id=e,this.visible=!0}else ft["message"].error("请先填写正确标识")},save:function(){this.data.watchData=this.watchData,this.visible=!1}}};Fr.render=Mr;var $r=Fr;function Lr(e,t,n){return Lr=Rr()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=Function.bind.apply(e,o),i=new r;return n&&Ur(i,n.prototype),i},Lr.apply(null,arguments)}function Rr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ur(e,t){return Ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ur(e,t)}function zr(e){return Wr(e)||Hr(e)||Kr(e)||qr()}function qr(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kr(e,t){if(e){if("string"===typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gr(e,t):void 0}}function Hr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Wr(e){if(Array.isArray(e))return Gr(e)}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Yr(e){var t=e,n=!1,o=!1;"ObjectExpression"===t.value.type&&t.value.properties.forEach((function(e){var r=Object(l["getPropertyId"])(e);"handler"===r?t=e.value:"deep"===r&&"Literal"===e.value.type?n=e.value.value:"immediate"===r&&"Literal"===e.value.type&&(o=e.value.value)}));var r=Object(l["fn2json"])(t,u),i=r.name,a=r.params,c=r.remark,u=r.code;return i=i||c,{id:Object(l["getPropertyId"])(e),name:i,params:a,deep:n,immediate:o,code:u}}function Xr(e){var t=e.getExportProperty("watch",Object(l["getFirstProperty"])("{watch:{}}")),n=t.value.properties,o=n.map(Yr);Object.assign(e,{watchs:o,watchProperty:t,watchProperties:n,saveWatch:function(e,t){t=t||e.id;var n=this.watchs,o=this.watchProperties,r=Object(l["getFirstProperty"])(Jr(e)),i=Object(l["updateProperty"])(o,r,t);-1!=i?n.splice(i,1,e):n.push(e),this._teardownWatch(t),this._watch(e)},delWatch:function(e){var t=this.watchs,n=this.watchProperties;this._teardownWatch(e);var o=n.findIndex((function(t){return e==Object(l["getPropertyId"])(t)}));n.splice(o,1),t.splice(o,1)},_watch:function(e){var t=e.params.map((function(e){return e.id})),n=Lr(Function,zr(t).concat([e.code]));this.unwatchs[e.id]=this.vucInstance.$watch(e.id,n,e)},_teardownWatch:function(e){this.unwatchs[e]&&(this.unwatchs[e](),delete this.unwatchs[e])}})}function Jr(e){var t="";e.name&&(t="//".concat(e.name));var n=go()(e.id).length>1?"'".concat(e.id,"'"):e.id,o="(".concat(e.params.map((function(e){return e.id})).join(","),"){").concat(e.code,"}");return e.immediate||e.deep?(o="handler"+o,"{\n          ".concat(t," \n          ").concat(n,":{ \n            ").concat(e.immediate?"immediate:true,":"","\n            ").concat(e.deep?"deep:true,":"","\n            handler").concat(o,"\n          }\n        }")):"{".concat(t).concat(n).concat(o,"}")}re.registerAstProcess(Xr);var Zr={onSave:function(e,t,n){e.watchData&&(t.path&&e.path!==t.path?n.delWatch(t.path):t.id&&e.id!==t.id&&n.delWatch(t.id),e.watchData.id=e.path||e.id,n.saveWatch(e.watchData))},formItems:[{label:"监听",component:$r}]};re.setDataFormExtra(Zr),re.setComputedFormExtra(Zr);var Qr=_r;function ei(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("code-list"),c=Object(ie["resolveComponent"])("HookEditor"),l=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[Object(ie["createVNode"])(a,{data:i.items,onAddItem:i.doEdit,onClickItem:i.doEdit,onDeleteItem:i.doDel},null,8,["data","onAddItem","onClickItem","onDeleteItem"]),Object(ie["createVNode"])(l,{visible:r.editState,"onUpdate:visible":t[0]||(t[0]=function(e){return r.editState=e}),title:"方法编辑",width:"800px",onOk:i.doSave,"mask-closable":!1,destroyOnClose:""},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{ref:"editor",method:r.curData},null,8,["method"])]})),_:1},8,["visible","onOk"])])}function ti(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("FormItem"),l=Object(ie["resolveComponent"])("code-editor"),u=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{"label-col":{span:4},"wrapper-col":{span:18},model:n.method,rules:r.ruleValidate,ref:"form"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"标识",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.method.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.method.id=e}),placeholder:"请输入标识"},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"代码",name:"code"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.method.code,"onUpdate:value":t[1]||(t[1]=function(e){return n.method.code=e})},null,8,["value"])]})),_:1})]})),_:1},8,["model","rules"])}var ni={components:{CodeEditor:xt["b"],ArgumentTable:xt["a"],Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"]},props:{method:Object},data:function(){return{ruleValidate:{id:[{required:!0,message:"标识必填",trigger:"blur"}],code:[{required:!0,message:"代码必填",trigger:"blur"}]}}},methods:{validate:function(){return this.$refs.form.validate()}}};ni.render=ti;var oi=ni,ri={mixins:[po],data:function(){return{editState:!1,curData:{}}},components:{Modal:ft["Modal"],HookEditor:oi,CodeList:xt["c"]},computed:{items:function(){return this.vucAst?this.vucAst.hooks:[]}},methods:{doEdit:function(e){this.editData=e,this.curData=hr()(Object.assign({params:[]},e)),this.editState=!0},doSave:function(){var e=this;this.curData.id&&this.$refs.editor.validate().then((function(t){if(t){var n;if(!Jo()(e.curData,e.editData))e.vucAst.saveMethod(e.curData,null===(n=e.editData)||void 0===n?void 0:n.id);e.editState=!1}}))},doDel:function(e){this.vucAst.delMethod(e.id)}}};ri.render=ei;var ii=ri;function ai(e){return Object(l["fn2json"])(e)}function ci(e){var t=Object(ie["computed"])((function(){return["beforeCreate","created","beforeMount","mounted"].map((function(t){return e.getExportProperty(t)})).filter((function(e){return e}))}));Object(ie["watch"])(t,(function(){e.hooks=t.value.map(ai)}),{immediate:!0}),e.updateHookBody=function(t,n){var o=Object(l["getFirstProperty"])("{ ".concat(t,"() { ").concat(n," } }"));Object(l["updateProperty"])(e.exportDefault.declaration.properties,o,t)},e.getHookBody=function(t){var n=e.getExportProperty(t);return null===n||void 0===n?void 0:n.value.body.body}}re.registerAstProcess(ci);var li=ii;function ui(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("Item");return i.config?(Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{key:0,title:i.config.label},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:r.text,"onUpdate:value":t[0]||(t[0]=function(e){return r.text=e}),onBlur:i.change,onPressEnter:i.change,spellcheck:"false"},null,8,["value","onBlur","onPressEnter"])]})),_:1},8,["title"])):Object(ie["createCommentVNode"])("",!0)}var si={props:{vucNode:Object},computed:{isTextNode:function(){return this.vucNode&&this.vucNode.isText()}}},di={components:{Item:xt["e"],Input:ft["Input"]},mixins:[po,si],data:function(){return{text:""}},computed:{config:function(){if(null!=this.vucNode){var e=this.vucNode.getConfig("text");return this.vucNode.isText()||!0===e?{label:"文本"}:Object(u["isObject"])(e)?e:void 0}}},watch:{vucNode:{handler:function(){null!=this.vucNode&&(this.text=this.getText())},immediate:!0}},methods:{change:function(){this.getText()!=this.text&&this.vucNode.setText(this.text)},getText:function(){return this.vucNode.getText()}}};di.render=ui;var fi=di,pi=fi,mi={class:"vuc-panel-view"};function hi(e,t,n,o,r,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",mi,[Object(ie["renderSlot"])(e.$slots,"default")])}var vi={props:{title:String}};n("04f1");vi.render=hi;var bi=vi,yi=bi;function ji(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("PropPanel");return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{class:"vuc-mode-view",items:i.props},null,8,["items"])}function Oi(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("PropItem");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.items,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{key:e.name+e.vucNode._astId,config:e.prop,name:e.name,vucNode:e.vucNode},null,8,["config","name","vucNode"])})),128))])}var gi={key:0,class:"vuc-prop-item-var-name"},ki={key:1,class:"vuc-prop-item-var-placeholder"};function xi(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("EditorDropdown"),c=Object(ie["resolveComponent"])("LinkOutlined"),l=Object(ie["resolveComponent"])("ValueEditor"),u=Object(ie["resolveComponent"])("Tooltip"),s=Object(ie["resolveComponent"])("VariableSelect"),d=Object(ie["resolveComponent"])("Item");return r.hasConfig&&i.editorOption?(Object(ie["openBlock"])(),Object(ie["createBlock"])(d,{key:0,class:"vuc-prop-item"},{title:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{editorId:r.editorId,"onUpdate:editorId":[t[0]||(t[0]=function(e){return r.editorId=e}),i.changeEditor],title:i.title,editors:r.editorOptions},null,8,["editorId","onUpdate:editorId","title","editors"]),Object(ie["createElementVNode"])("span",{class:"vuc-prop-item-var",onClick:t[1]||(t[1]=function(e){return r.showVariable=!0})},[r.propValue.dataValue?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",gi,Object(ie["toDisplayString"])(r.propValue.dataValue),1)):(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",ki,"绑定变量")),Object(ie["createVNode"])(c)])]})),default:Object(ie["withCtx"])((function(){return["expression"==r.editorId?(Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{key:0,color:"#f50",title:r.errorMessager,visible:i.showError,placement:"bottomLeft"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,Object(ie["mergeProps"])({value:r.propValue[r.editorId],"onUpdate:value":[t[2]||(t[2]=function(e){return r.propValue[r.editorId]=e}),i.changeValue],editor:r.editorId},i.editorOption.propsData),null,16,["value","editor","onUpdate:value"])]})),_:1},8,["title","visible"])):(Object(ie["openBlock"])(),Object(ie["createBlock"])(l,Object(ie["mergeProps"])({key:1,value:r.propValue[r.editorId],"onUpdate:value":[t[3]||(t[3]=function(e){return r.propValue[r.editorId]=e}),i.changeValue],editor:r.editorId},i.editorOption.propsData),null,16,["value","editor","onUpdate:value"])),r.showVariable?(Object(ie["openBlock"])(),Object(ie["createBlock"])(s,{key:2,visible:r.showVariable,"onUpdate:visible":t[4]||(t[4]=function(e){return r.showVariable=e}),value:r.propValue.dataValue,"onUpdate:value":t[5]||(t[5]=function(e){return r.propValue.dataValue=e}),"vuc-ast":n.vucNode.vucAst},null,8,["visible","value","vuc-ast"])):Object(ie["createCommentVNode"])("",!0)]})),_:1})):Object(ie["createCommentVNode"])("",!0)}var Ci=n("81e8"),Ni=n.n(Ci);function wi(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("DataPanel"),c=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{title:"选择变量",visible:r.showModal,bodyStyle:{padding:"0 5px"},width:"400px",onOk:i.save,onCancel:i.cancel,afterClose:i.afterClose,maskClosable:!1},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:e.val,"onUpdate:value":t[0]||(t[0]=function(t){return e.val=t}),mode:"input"},null,8,["value"])]})),_:1},8,["visible","onOk","onCancel","afterClose"])}var Si={emits:["update:value","update:visible"],mixins:[xo({mode:"watch",emitUpdate:!1})],components:{DataPanel:Ro,ComputedPanel:ir,MethodPanel:kr,Modal:ft["Modal"],Tabs:ft["Tabs"],TabPane:ft["TabPane"]},props:{vucAst:Object,visible:Boolean},data:function(){return{showModal:this.visible}},watch:{visible:function(e){this.showModal=e}},computed:{treeData:function(){return this.vucAst.datas},requests:function(){return this.vucAst.requests}},methods:{afterClose:function(){this.$emit("update:visible",!1)},cancel:function(){this.showModal=!1},save:function(){this.showModal=!1,this.emitUpdate()}}};n("9766");Si.render=wi;var Vi=Si;function Ei(e,t){return Ti(e)||Ai(e,t)||Ii(e,t)||Bi()}function Bi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ii(e,t){if(e){if("string"===typeof e)return Pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pi(e,t):void 0}}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Ai(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done);a=!0)if(i.push(o.value),t&&i.length===t)break}catch(l){c=!0,r=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw r}}return i}}function Ti(e){if(Array.isArray(e))return e}var _i={name:"prop-item",components:{ValueEditor:ao,DownOutlined:So.a,LinkOutlined:Ni.a,VariableSelect:Vi,EditorDropdown:Eo,Item:xt["e"],Tooltip:ft["Tooltip"]},emits:["change"],inject:["$designer"],props:{name:String,label:String,config:Object,vucNode:Object},data:function(){var e=this.getPropConfig(),t=!!e;return e=Object.assign({},e,this.config),{hasConfig:t,propConfig:e,propValue:{},value:null,treeData:[],editorId:"",editorOptions:[],errorMessager:"",showVariable:!1}},computed:{title:function(){return this.label||this.propConfig.label},showError:function(){return!!this.errorMessager},editorOption:function(){var e=this;return this.editorOptions.find((function(t){return t.id==e.editorId}))},propAttr:function(){return this.vucNode.getBind(this.name)},data:function(){return this.getData()}},watch:{"propValue.dataValue":function(e){this.changeDataValue(e)},propAttr:function(){this._isSelfChange_?this._isSelfChange_=!1:this.updatePropValue()},data:{handler:function(e,t){(t||e)&&(this.propValue.expression=null===e||void 0===e?void 0:e.code,this.autoSetEditorId(null===e||void 0===e?void 0:e.code))}}},created:function(){this.hasConfig&&(this.updateEditorOptions(),this.updatePropValue())},methods:{getData:function(){if(this.propValue.dataValue)return this.vucNode.vucAst.getDataByPath(this.propValue.dataValue)},getPropConfig:function(){var e=this.vucNode.getConfig("props");return e&&e[this.name]},updateEditorOptions:function(){var e=this,t=Object(u["castArray"])(this.propConfig.editors).concat(["expression"]).map((function(t){return To(t,e.vucNode)}));this.editorOptions=t.filter((function(e){return e}))},updatePropValue:function(){var e=this.propAttr,t=this.propValue;if(t.dynamic=!1,e){var n=e.attrValue,o=e.isVBind();e.onlyAttrName()&&(o=!0,n="true"),o&&Object(c["isSimplePath"])(n)?t.dataValue=n:(t.expression=o?n:"'".concat(n,"'"),this.autoSetEditorId(t.expression))}else this.editorId=this.editorOptions[0].id},changeEditor:function(){var e=this.propValue[this.editorId];void 0!==e&&null!==e&&this.changeValue()},changeValue:function(){var e=this.editorOption.dataType,t=this.propValue[this.editorId];null!==t&&void 0!==t&&(t=t.toString());var n=t,o=this.propValue.dataValue,r="string"==e;if(this.errorMessager="",o){var i=this.$designer.editor.vucAst,a=i.getDataByPath(o);if(a.path===o&&a.code===n)return;this.errorMessager=i.saveData({id:o.split(".").pop(),name:null===a||void 0===a?void 0:a.name,path:o,code:n}),i.vucInstance.$forceUpdate()}else t&&(r&&(t=t.substring(1,t.length-1)),this.setNodeAttr(t,!r))},changeDataValue:function(e){var t;this.setNodeAttr(e,!0);var n=null===(t=this.getData())||void 0===t?void 0:t.code;this.propValue.expression=n,this.autoSetEditorId(n)},setNodeAttr:function(e,t){var n=this.name,o=this.vucNode,r=(t?":":"")+n,i=e?o.setAttrValue(r,e):o.delAttr(r);i&&(this._isSelfChange_=!0,this.$emit("change",{vucNode:o,value:e,dynamic:t}))},autoSetEditorId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.editorOptions.filter((function(e){return"expression"!=e.id})),n=t.find((function(t){return t.validateValue(e)}));if(!n&&Di(e)&&t.length){var o=Ei(t,1);n=o[0]}n?(this.editorId=n.id,this.propValue[n.id]=e):this.editorId="expression"}}};function Di(e){return["null","","undefined"].includes(e)}n("fbf2");_i.render=xi;var Mi=_i,Fi={props:{items:Array},components:{PropItem:Mi}};Fi.render=Oi;var $i=Fi,Li={components:{PropPanel:$i},mixins:[si],computed:{props:function(){var e=[],t=this.vucNode;if(!t)return e;var n=t.getConfig();if(!n)return e;for(var o in n.props)e.push({name:o,vucNode:t});return e}}};n("5981");Li.render=ji;var Ri=Li,Ui={class:"vuc-mode-view"};function zi(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("DirectiveForm");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",Ui,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.directives,(function(t){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{directive:t,vucNode:e.vucNode,key:t.name},null,8,["directive","vucNode"])})),128))])}var qi={class:"vuc-direct"},Ki={class:"vuc-direct-header"},Hi=["title"],Wi={class:"vuc-direct-extra"},Gi={key:0,class:"vuc-direct-body"},Yi={key:0,style:{"text-align":"right",margin:"6px 0"}},Xi=Object(ie["createTextVNode"])("确定"),Ji=Object(ie["createTextVNode"])("取消");function Zi(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("Switch"),c=Object(ie["resolveComponent"])("code-editor"),l=Object(ie["resolveComponent"])("FormItem"),u=Object(ie["resolveComponent"])("Button"),s=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(s,{ref:"form","label-col":{span:8},"wrapper-col":{span:16},model:r.editData,"show-message":!1},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("div",qi,[Object(ie["createElementVNode"])("div",Ki,[Object(ie["createElementVNode"])("span",{class:"vuc-direct-title",title:n.directive.describe},Object(ie["toDisplayString"])(i.dirName),9,Hi),Object(ie["createElementVNode"])("span",Wi,[Object(ie["createVNode"])(a,{checked:n.directive.enable,"onUpdate:checked":t[0]||(t[0]=function(e){return n.directive.enable=e}),size:"small",onChange:t[1]||(t[1]=function(e){return i.changeEnable(n.directive)})},null,8,["checked"])])]),n.directive.enable?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",Gi,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.directive.props,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(l,{name:e.name,required:e.required,label:e.describe,key:e.name},{default:Object(ie["withCtx"])((function(){return[r.editState?(Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{key:0,style:{"margin-top":"-4px"},value:r.editData[e.name],"onUpdate:value":function(t){return r.editData[e.name]=t},inline:"",sm:""},null,8,["value","onUpdate:value"])):(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("code",{key:1,onClick:t[2]||(t[2]=function(e){return i.setEditState(!0)})},Object(ie["toDisplayString"])(n.directive.data[e.name]),1))]})),_:2},1032,["name","required","label"])})),128)),r.editState?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",Yi,[Object(ie["createVNode"])(u,{onClick:i.saveForm,size:"small",type:"primary"},{default:Object(ie["withCtx"])((function(){return[Xi]})),_:1},8,["onClick"]),Object(ie["createVNode"])(u,{onClick:t[3]||(t[3]=function(e){return i.setEditState(!1)}),size:"small",style:{"margin-left":"6px"}},{default:Object(ie["withCtx"])((function(){return[Ji]})),_:1})])):Object(ie["createCommentVNode"])("",!0)])):Object(ie["createCommentVNode"])("",!0)])]})),_:1},8,["model"])}function Qi(e,t){return ra(e)||oa(e,t)||ta(e,t)||ea()}function ea(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ta(e,t){if(e){if("string"===typeof e)return na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?na(e,t):void 0}}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function oa(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done);a=!0)if(i.push(o.value),t&&i.length===t)break}catch(l){c=!0,r=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw r}}return i}}function ra(e){if(Array.isArray(e))return e}var ia={name:"model",describe:"双向绑定",props:[{name:"value",describe:"源数据",required:!0}]},aa=[{name:"show",describe:"可见性",props:[{name:"value",describe:"条件",required:!0}]},{name:"if",describe:"条件渲染",props:[{name:"value",describe:"条件",required:!0}]},{name:"for",describe:"基于源数据多次渲染",props:[{name:"source",describe:"源数据数组",required:!0},{name:"value",describe:"别名",required:!0},{name:"index",describe:"索引"},{name:"key",describe:"key"}]},{name:"text",describe:"插入文本",props:[{name:"value",describe:"文本",required:!0}]},{name:"html",describe:"插入html",props:[{name:"value",describe:"HTML",required:!0}]}];function ca(e){if(!e)return{};var t=e.name,n=e.attrValue;return"for"===t?ma(n):{value:n}}function la(e,t){return e===t||!e&&"modelValue"===t||"modelValue"===e&&!t}function ua(e){var t=e.data,n=t.value,o=t.index,r=t.source,i="v-".concat(e.name);return"v-for"===i&&(n="(".concat(n).concat(o&&" , ".concat(o),") in ").concat(r)),e.arg&&(i+=":"+e.arg),{name:i,value:n}}function sa(e,t){var n=e&&e.map((function(e){var n=t.find((function(t){return"model"==t.name&&la(t.getArgContent(),e)}));return Object.assign({arg:e,enable:null!=n,data:ca(n)},ia)}));return n=n||[],n.concat(aa.map((function(e){var n=t.find((function(t){return t.name==e.name}));return Object.assign({enable:null!=n,data:ca(n)},e)})))}var da=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,fa=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,pa=/^\(|\)$/g;function ma(e){var t=e.match(da);if(t){var n=Qi(t,3),o=n[1],r=n[2],i={source:r.trim(),value:void 0,key:void 0,index:void 0},a=o.trim().replace(pa,"").trim(),c=a.match(fa);if(c){a=a.replace(fa,"").trim();var l=c[1].trim();if(l&&(i.key=l),c[2]){var u=c[2].trim();u&&(i.index=u)}}return a&&(i.value=a),i}}var ha={components:{CodeEditor:xt["b"],Form:ft["Form"],FormItem:ft["FormItem"],Button:ft["Button"],Switch:ft["Switch"]},props:{directive:Object,vucNode:Object},data:function(){return{editState:!1,editData:null}},computed:{dirName:function(){var e=this.directive,t=e.name,n=e.arg;return t="v-".concat(t),n?t+":"+n:t}},watch:{editState:function(e){e&&(this.editData=Object.assign({},this.directive.data))}},methods:{setEditState:function(e){this.editState=e,e||(this.directive.enable=!this.directive.openEnable,this.directive.openEnable=!1)},changeEnable:function(){if(this.editState=this.directive.enable,this.editState)this.directive.openEnable=!0;else{var e=ua(this.directive),t=e.name;this.vucNode.delAttr(t)}},saveForm:function(){var e=this;this.validate().then((function(t){if(t){e.editState=!1,e.directive.data=e.editData,e.directive.openEnable=!1;var n=ua(e.directive),o=n.name,r=n.value;e.vucNode.setAttrValue(o,r),"v-for"===o&&e.vucNode.setAttrValue(":key",e.editData.key)}}))},validate:function(){return this.$refs.form.validate()}}};n("6bf0");ha.render=Zi;var va=ha,ba={components:{DirectiveForm:va},data:function(){return{directives:[]}},mixins:[po,si],watch:{vucNode:{handler:"loadDirectives",immediate:!0}},methods:{loadDirectives:function(){if(!this.vucNode)return this.directives=[];var e=this.vucNode.getDirectives();this.directives=sa(this.vucNode.getConfig("vModel"),e)}}};ba.render=zi;var ya=ba,ja=ya,Oa={key:0,class:"vuc-mode-view"};function ga(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("event-editor"),c=Object(ie["resolveComponent"])("Modal"),l=Object(ie["resolveComponent"])("code-list");return e.vucNode?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",Oa,[Object(ie["createVNode"])(c,{visible:r.editState,"onUpdate:visible":t[0]||(t[0]=function(e){return r.editState=e}),title:"事件编辑",width:"800px","mask-closable":!1,onOk:i.saveEvent},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{ref:"editor",isHTML:i.isHTML,methods:i.VucMethods,event:r.curEvent,eventTypes:i.eventTypes},null,8,["isHTML","methods","event","eventTypes"])]})),_:1},8,["visible","onOk"]),Object(ie["createVNode"])(l,{data:i.curVucNodeEvents,onClickItem:i.editorEvent,onAddItem:i.addEvent,onDeleteItem:i.delEvent,"row-key":"id",columns:r.columns},null,8,["data","onClickItem","onAddItem","onDeleteItem","columns"])])):Object(ie["createCommentVNode"])("",!0)}var ka=n("50a1"),xa=n.n(ka),Ca=n("b32c"),Na=n.n(Ca),wa=[{name:"鼠标事件",events:[{id:"click",name:"点击",mouseModifier:!0},{id:"dblclick",name:"双击事件",mouseModifier:!0},{id:"mousedown",name:"鼠标按钮按下",mouseModifier:!0},{id:"mouseup",name:"鼠标按钮释放",mouseModifier:!0},{id:"mousemove",name:"鼠标移动"},{id:"mouseover",name:"鼠标移入"},{id:"mouseout",name:"鼠标移出"},{id:"mousewheel",name:"滚轮滚动"},{id:"scroll",name:"滚动条滚动"}]},{name:"表单事件",events:[{id:"blur",name:"失去焦点"},{id:"change",name:"内容改变"},{id:"contextmenu",name:"上下文菜单"},{id:"focus",name:"获得焦点"},{id:"input",name:"输入"},{id:"submit",name:"提交表单"},{id:"select",name:"文本被选中"}]},{name:"键盘事件",events:[{id:"keydown",name:"按下按键",keyModifier:!0},{id:"keypress",name:"敲击按键",keyModifier:!0},{id:"keyup",name:"释放按键",keyModifier:!0}]},{name:"其他",events:[{id:"load",name:"加载成功"},{id:"error",name:"发生错误"}]}],Sa=[{id:"stop",name:"阻止事件继续传播"},{id:"prevent",name:"阻止事件默认行为"},{id:"capture",name:"使用捕获模式"},{id:"self",name:"只当事件发生在当前元素时"},{id:"once",name:"只触发一次"},{id:"passive",name:"提升移动端滚动性能"}],Va=[{id:"enter"},{id:"tab"},{id:"delete"},{id:"esc"},{id:"space"},{id:"up"},{id:"down"},{id:"left"},{id:"right"}],Ea=[{id:"ctrl"},{id:"alt"},{id:"shift"},{id:"meta"},{id:"exact"}],Ba=[{id:"left"},{id:"right"},{id:"middle"}];function Ia(){return wa}function Pa(e){var t=e.map((function(e){return e.id}));return wa.map((function(e){return{name:e.name,events:e.events.map((function(e){return Object.assign({},e,{id:e.id,label:e.id})})).filter((function(e){return!t.includes(e.id)}))}}))}var Aa=/^@|^v-on:/,Ta=/\.[^.\]]+(?=[^\]]*$)/g;function _a(e){var t={id:"",code:"",modifiers:[],sysModifiers:[],keyModifier:void 0,mouseModifier:void 0},n=e.match(Ta);if(n&&(e=e.replace(Ta,"")),Aa.test(e)&&(e=e.replace(Aa,"")),n){var o=wa.flatMap((function(e){return e.events})).find((function(t){return t.id==e}));n.forEach((function(e){e=e.substring(1),Ma(Sa,e)&&t.modifiers.push(e),o.keyModifier?Ma(Va,e)&&(t.keyModifier=e):Ma(Ba,e)&&(t.mouseModifier=e),Ma(Ea,e)&&t.sysModifiers.push(e)}))}return t.id=e,t}function Da(e){return Aa.test(e)}function Ma(e,t){return e.find((function(e){return e.id==t}))}function Fa(e){var t=[];for(var n in e)if(Da(n)){var o=e[n],r=_a(n);r.code=o,r.key=n,t.push(r)}return t}function $a(e){return Object.assign({id:"",code:"",modifiers:[],sysModifiers:[],keyModifier:void 0,mouseModifier:void 0},e)}function La(e){var t=[e.id,e.keyModifier,e.mouseModifier].concat(e.modifiers).concat(e.sysModifiers);return"@"+t.filter((function(e){return e})).join(".")}var Ra={style:{color:"#aaa","margin-left":"12px"}},Ua={style:{color:"#aaa","margin-left":"12px"}},za={key:0,style:{color:"#aaa","margin-left":"12px"}},qa=Object(ie["createTextVNode"])("内联脚本");function Ka(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("SelectOption"),c=Object(ie["resolveComponent"])("SelectOptGroup"),l=Object(ie["resolveComponent"])("Select"),u=Object(ie["resolveComponent"])("FormItem"),s=Object(ie["resolveComponent"])("code-editor"),d=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(d,{"label-col":{span:4},"wrapper-col":{span:20},model:n.event,rules:r.ruleValidate,ref:"form"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u,{label:"事件类型",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.event.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.event.id=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.eventGroups,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{label:e.name,key:e.name},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(e.events,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{value:e.id,label:e.label||e.id,key:e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",null,Object(ie["toDisplayString"])(e.label||e.id),1),Object(ie["createElementVNode"])("span",Ra,Object(ie["toDisplayString"])(e.name),1)]})),_:2},1032,["value","label"])})),128))]})),_:2},1032,["label"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(ie["createVNode"])(u,{label:"事件修饰符"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.event.modifiers,"onUpdate:value":t[1]||(t[1]=function(e){return n.event.modifiers=e}),mode:"multiple"},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.modifiers,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{value:e.id,label:e.id,key:e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",null,Object(ie["toDisplayString"])(e.id),1),Object(ie["createElementVNode"])("span",Ua,Object(ie["toDisplayString"])(e.desc),1)]})),_:2},1032,["value","label"])})),128))]})),_:1},8,["value"])]})),_:1}),i.showKeyModifier?(Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{key:0,label:"按键修饰符"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.event.keyModifier,"onUpdate:value":t[2]||(t[2]=function(e){return n.event.keyModifier=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.keyModifiers,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{value:e.id,label:e.id,key:e.id},null,8,["value","label"])})),128))]})),_:1},8,["value"])]})),_:1})):Object(ie["createCommentVNode"])("",!0),i.showMouseModifier?(Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{key:1,label:"鼠标修饰符"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.event.mouseModifier,"onUpdate:value":t[3]||(t[3]=function(e){return n.event.mouseModifier=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.mouseModifiers,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{value:e.id,label:e.id,key:e.id},null,8,["value","label"])})),128))]})),_:1},8,["value"])]})),_:1})):Object(ie["createCommentVNode"])("",!0),i.showSysModifier?(Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{key:2,label:"系统修饰"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.event.sysModifiers,"onUpdate:value":t[4]||(t[4]=function(e){return n.event.sysModifiers=e}),mode:"multiple"},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.sysModifiers,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{value:e.id,label:e.id,key:e.id},null,8,["value","label"])})),128))]})),_:1},8,["value"])]})),_:1})):Object(ie["createCommentVNode"])("",!0),Object(ie["createVNode"])(u,{label:"代码",name:"code"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:r.type,"onUpdate:value":t[5]||(t[5]=function(e){return r.type=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.methods,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{key:e.id,value:e.id,label:e.name||e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",null,Object(ie["toDisplayString"])(e.id),1),e.name?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",za,Object(ie["toDisplayString"])(e.name),1)):Object(ie["createCommentVNode"])("",!0)]})),_:2},1032,["value","label"])})),128)),Object(ie["createVNode"])(a,{value:r.customCode,label:"内联脚本"},{default:Object(ie["withCtx"])((function(){return[qa]})),_:1},8,["value"])]})),_:1},8,["value"]),r.type===r.customCode?(Object(ie["openBlock"])(),Object(ie["createBlock"])(s,{key:0,value:n.event.code,"onUpdate:value":t[6]||(t[6]=function(e){return n.event.code=e}),style:{"margin-top":"10px"}},null,8,["value"])):Object(ie["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["model","rules"])}var Ha={components:{CodeEditor:xt["b"],Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"],Select:ft["Select"],SelectOption:ft["SelectOption"],SelectOptGroup:ft["SelectOptGroup"]},props:{methods:{type:Array,default:function(){return[]}},event:Object,eventTypes:Array,isHTML:Boolean},data:function(){return{ruleValidate:{id:[{required:!0,message:"事件类型必选"}],code:[{required:!0,message:"代码必填",trigger:"blur"}]},modifiers:Sa,sysModifiers:Ea,keyModifiers:Va,mouseModifiers:Ba,type:"",customCode:"custom code"}},computed:{eventGroups:function(){return this.isHTML||null==this.eventTypes?Ia():[{name:"组件事件",events:this.eventTypes}].concat(Pa(this.eventTypes))},eventConfig:function(){return this.findEvent(this.event.id)},showKeyModifier:function(){return this.eventConfig&&this.eventConfig.keyModifier},showMouseModifier:function(){return this.eventConfig&&this.eventConfig.mouseModifier},showSysModifier:function(){return this.showKeyModifier||this.showMouseModifier}},watch:{type:function(e){e!==this.customCode&&(this.event.code=e)},event:{handler:function(){var e=this;this.methods.find((function(t){return t.id===e.event.code}))?this.type=this.event.code:this.type=this.customCode},immediate:!0}},methods:{validate:function(){return this.$refs.form.validate()},findEvent:function(e){return this.eventGroups.flatMap((function(e){return e.events})).find((function(t){return t.id===e}))}}};Ha.render=Ka;var Wa=Ha,Ga={components:{EventEditor:Wa,PlusOutlined:xa.a,DeleteOutlined:Na.a,CodeList:xt["c"],Modal:ft["Modal"]},mixins:[po,si],data:function(){return{curEvent:{},editState:!1,columns:[{dataIndex:"id",title:"事件名称",editor:!0,width:80},{dataIndex:"code",title:"事件内容"}]}},computed:{VucMethods:function(){return this.vucAst?this.vucAst.methods:[]},isHTML:function(){return this.vucNode&&this.vucNode.isHTML()},curVucNodeEvents:function(){var e=this.vucNode;return e?Fa(e.getAttrMap()):[]},eventTypes:function(){var e;return this.vucNode&&(e=this.vucNode.getConfig("eventTypes")),e||[]}},methods:{addEvent:function(){this.editorEvent()},editorEvent:function(e){this.vucNode&&(this.curEvent=$a(e),this.editState=!0)},saveEvent:function(){var e=this,t=this.vucNode;this.$refs.editor.validate().then((function(n){if(n){var o=La(e.curEvent);t.setAttrValue(o,e.curEvent.code),e.editState=!1}}))},delEvent:function(e){var t=this.vucNode,n=La(e);t.delAttr(n)}}};Ga.render=ga;var Ya=Ga;function Xa(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("quick-event-item");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.evnetConfigs,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{key:(e.vucNode||n.vucNode)._astId+e.id,id:e.id,name:e.name,vucNode:e.vucNode||n.vucNode},null,8,["id","name","vucNode"])})),128))])}var Ja=Object(ie["createTextVNode"])(" 新增方法 "),Za=Object(ie["createTextVNode"])("内联脚本");function Qa(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("v-nodes"),c=Object(ie["resolveComponent"])("Divider"),l=Object(ie["resolveComponent"])("plus-outlined"),u=Object(ie["resolveComponent"])("SelectOption"),s=Object(ie["resolveComponent"])("Select"),d=Object(ie["resolveComponent"])("CodeEditor"),f=Object(ie["resolveComponent"])("Modal"),p=Object(ie["resolveComponent"])("MethodEditorModal"),m=Object(ie["resolveComponent"])("Item");return Object(ie["openBlock"])(),Object(ie["createBlock"])(m,{title:n.name},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(s,{value:r.type,"onUpdate:value":t[1]||(t[1]=function(e){return r.type=e}),class:"vuc-quick-select",placeholder:"请选择方法",style:{width:"calc(100% -  40px)"},allowClear:""},{dropdownRender:Object(ie["withCtx"])((function(e){var n=e.menuNode;return[Object(ie["createVNode"])(a,{vnodes:n},null,8,["vnodes"]),Object(ie["createVNode"])(c,{style:{margin:"4px 0"}}),Object(ie["createElementVNode"])("div",{style:{padding:"5px 12px",cursor:"pointer"},onClick:t[0]||(t[0]=function(){return i.addMethod&&i.addMethod.apply(i,arguments)})},[Ja,Object(ie["createVNode"])(l,{class:"vuc-quick-select-icon"})])]})),default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.methods,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{value:e.id,key:e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",null,Object(ie["toDisplayString"])(e.id),1)]})),_:2},1032,["value"])})),128)),Object(ie["createVNode"])(u,{value:r.customCode,label:"内联脚本"},{default:Object(ie["withCtx"])((function(){return[Za]})),_:1},8,["value"])]})),_:1},8,["value"]),Object(ie["createElementVNode"])("a",{style:{"margin-left":"6px"},onClick:t[2]||(t[2]=function(){return i.editEvent&&i.editEvent.apply(i,arguments)})},"编辑"),r.type==r.customCode?(Object(ie["openBlock"])(),Object(ie["createBlock"])(f,{key:0,visible:r.editState,"onUpdate:visible":t[4]||(t[4]=function(e){return r.editState=e}),title:"脚本编辑",width:"700px","mask-closable":!1,onOk:i.saveEvent},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(d,{value:r.editCode,"onUpdate:value":t[3]||(t[3]=function(e){return r.editCode=e})},null,8,["value"])]})),_:1},8,["visible","onOk"])):Object(ie["createCommentVNode"])("",!0),Object(ie["createVNode"])(p,{ref:"methodEditorModal"},null,512)]})),_:1},8,["title"])}var ec=n("d64c"),tc=n.n(ec),nc={inject:["$designer"],components:{Item:xt["e"],CodeEditor:xt["b"],vNodes:function(e,t){var n=t.attrs;return n.vnodes},MethodEditorModal:Or,EditOutlined:tc.a,PlusOutlined:xa.a,Select:ft["Select"],SelectOption:ft["SelectOption"],Modal:ft["Modal"],Divider:ft["Divider"]},props:{id:String,name:String,vucNode:Object},data:function(){return{type:"",customCode:"custom code",editCode:"",editState:!1}},computed:{methods:function(){return this.getMethods()},eventInfo:function(){return this.getEventInfo()}},watch:{type:function(e){this.setEventCode(e!=this.customCode?e:this.editCode)},eventInfo:{handler:function(e){e.code&&(this.methods.find((function(t){return t.id===e.code}))?this.type=e.code:(this.editCode=e.code,this.type=this.customCode))},immediate:!0}},methods:{addMethod:function(){this.$refs.methodEditorModal.doEdit()},setEventCode:function(e){if(e!==this.eventInfo.code){this.eventInfo.code=e;var t=La(this.eventInfo);this.eventInfo.code?this.vucNode.setAttrValue(t,this.eventInfo.code):this.vucNode.delAttr(t)}},getMethods:function(){var e=this.$designer.editor.vucAst;return e&&e.vucInstance?e.methods:[]},getEventInfo:function(){if(!this.vucNode)return[];var e=Fa(this.vucNode.getAttrMap()),t=this.id;return e.find((function(e){return e.id==t}))||$a({id:t})},editEvent:function(){var e=this;if(this.type==this.customCode)this.editState=!0,this.editCode=this.eventInfo.code;else{var t=this.methods.find((function(t){return t.id===e.eventInfo.code}));t&&this.$refs.methodEditorModal.doEdit(t)}},saveEvent:function(){this.editState=!1,this.setEventCode(this.editCode)}}};n("67a7");nc.render=Qa;var oc=nc,rc={props:{items:Array,vucNode:Object},components:{QuickEventItem:oc},data:function(){return{evnetConfigs:this.items}},watch:{vucNode:{immediate:!0,handler:"updateEventConfigs"},items:function(){this.evnetConfigs=this.items}},methods:{updateEventConfigs:function(e){if(e){var t=e.getConfig("eventTypes");this.evnetConfigs=t?t.filter((function(e){return e.quick})):[]}}}};rc.render=Xa;var ic=rc,ac={key:0,class:"vuc-mode-view"},cc={class:"vuc-style-inline"};function lc(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("style-item");return e.vucNode?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",ac,[Object(ie["createElementVNode"])("div",cc,[Object(ie["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(e){return i.addItem()})},"内联样式 {"),(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.styles,(function(e,t){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{item:e,editType:i.getEditType(e),onEditover:i.editover,onEnterValue:i.editNext,onClick:function(e){return i.addItem(t)},key:e.id},null,8,["item","editType","onEditover","onEnterValue","onClick"])})),128)),Object(ie["createElementVNode"])("div",{onClick:t[1]||(t[1]=function(e){return i.addItem()})},"}")])])):Object(ie["createCommentVNode"])("",!0)}function uc(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("StyleCode");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{class:Object(ie["normalizeClass"])(["vuc-style-item",n.item.comment?"vuc-style-nocomment":"vuc-style-comment"])},[Object(ie["withDirectives"])(Object(ie["createElementVNode"])("input",{type:"checkbox",class:"vuc-style-checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.item.comment=e}),onChange:t[1]||(t[1]=function(t){return e.$emit("editover",n.item)}),onClick:t[2]||(t[2]=Object(ie["withModifiers"])((function(){}),["stop"]))},null,544),[[ie["vModelCheckbox"],n.item.comment]]),Object(ie["createVNode"])(a,{modelValue:n.item.k,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.item.k=e}),onClick:t[4]||(t[4]=Object(ie["withModifiers"])((function(){}),["stop"])),editstate:"key"==r.eType,onEnter:i.onEnterKey,onEditover:i.changeKey},null,8,["modelValue","editstate","onEnter","onEditover"]),Object(ie["createElementVNode"])("span",{class:"vuc-style-colon",onClick:t[5]||(t[5]=Object(ie["withModifiers"])((function(){}),["stop"]))},":"),Object(ie["createVNode"])(a,{modelValue:n.item.v,"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.item.v=e}),onClick:t[7]||(t[7]=Object(ie["withModifiers"])((function(){}),["stop"])),editstate:"value"==r.eType,onEnter:i.onEnterValue,onEditover:i.changeValue},null,8,["modelValue","editstate","onEnter","onEditover"]),Object(ie["createElementVNode"])("span",{class:"vuc-style-colon",onClick:t[8]||(t[8]=Object(ie["withModifiers"])((function(){}),["stop"]))},";")],2)}var sc=["innerHTML","contenteditable"];function dc(e,t,n,o,r,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{class:"vuc-style-code",innerHTML:r.innerText,contenteditable:r.editable,spellcheck:"false",onKeydown:t[0]||(t[0]=Object(ie["withKeys"])(Object(ie["withModifiers"])((function(){return i.onEnter&&i.onEnter.apply(i,arguments)}),["prevent"]),["enter"])),onFocus:t[1]||(t[1]=function(e){return r.isLocked=!0}),onBlur:t[2]||(t[2]=function(){return i.editover&&i.editover.apply(i,arguments)}),onClick:t[3]||(t[3]=function(){return i.onClick&&i.onClick.apply(i,arguments)}),onInput:t[4]||(t[4]=function(){return i.changeText&&i.changeText.apply(i,arguments)})},null,40,sc)}var fc={emits:["update:modelValue","editover","enter"],props:{modelValue:{type:String,default:""},editstate:Boolean},data:function(){return{innerText:this.modelValue,editable:this.editstate,isLocked:!1}},mounted:function(){this.editable&&this.setFocus()},watch:{editstate:function(e){this.editable=e},value:function(){this.isLocked&&this.innerText||(this.innerText=this.value)},editable:{handler:function(e){var t=this;this.$nextTick((function(){e?t.setFocus():window.getSelection().removeAllRanges()}))}}},methods:{setFocus:function(){this.$el.focus(),window.getSelection().selectAllChildren(this.$el)},changeText:function(){this.$emit("update:modelValue",this.$el.innerHTML||" ")},onClick:function(){this.editable=!0},editover:function(){this.isLocked=!1,this.editable=!1,this.$emit("editover")},onEnter:function(){var e=this;this.editover(),this.$nextTick((function(){e.$emit("enter")}))}}};n("0c2b");fc.render=dc;var pc=fc,mc={emits:["editover"],props:{item:Object,editType:{type:String,default:""}},components:{StyleCode:pc},data:function(){return{eType:this.editType}},watch:{editType:function(e){this.eType=e}},methods:{changeKey:function(){this.$emit("editover",this.item,"key")},changeValue:function(){this.$emit("editover",this.item,"value")},onEnterKey:function(){this.eType="value"},onEnterValue:function(){this.eType=void 0,this.$emit("enter-value",this.item)}}};n("3c9b");mc.render=uc;var hc=mc,vc=1;function bc(e){var t=[];if(e){var n={},o=0,r=e.replace(/\/\*+(.*)?\*+\//g,(function(e,t){var r="$"+o++;return n[r]=t,r}));function i(e,o){e.split(";").forEach((function(e){if(e=e.trim(),e)return o&&n[e]?i(n[e],!1):void t.push({id:++vc,k:e.split(":")[0],v:e.split(":")[1],comment:o})}))}i(r,!0)}return t}function yc(e){return e.map((function(e){var t=e.k+":"+e.v+";";return e.comment?t:"/* ".concat(t," */")})).join("")}function jc(){return{id:++vc,k:" ",v:" ",comment:!0}}var Oc={components:{StyleItem:hc},mixins:[si],data:function(){return{curEvent:{},editState:!1,styles:[],currentItem:void 0,styleStr:""}},computed:{styleRawStr:function(){if(this.vucNode){var e=this.vucNode.getStaticBind("style");return e&&e.attrValue}}},watch:{styleRawStr:{handler:function(e){this.styleStr!=e&&(this.styleStr=e,this.styles=bc(e))},immediate:!0}},methods:{editover:function(e,t){if(this.vucNode){var n=0===e.k.trim().length,o=0===e.v.trim().length;if(n||"value"==t&&o){var r=this.styles.indexOf(e);r>-1&&this.styles.splice(r,1)}var i=yc(this.styles);this.styleStr!=i&&(this.styleStr=i,this.vucNode.setStyle(i))}this.currentItem=void 0},editNext:function(e){var t=this;this.$nextTick((function(){e===t.styles[t.styles.length-1]?t.addItem():t.currentItem=t.styles[t.styles.indexOf(e)+1]}))},addItem:function(e){this.vucNode&&(this.currentItem=jc(),void 0===e?this.styles.push(this.currentItem):this.styles.splice(e+1,0,this.currentItem))},getEditType:function(e){var t;return(null===(t=this.currentItem)||void 0===t?void 0:t.id)===e.id?"key":void 0}}};Oc.render=lc;var gc=Oc;function kc(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("quick-style-item");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(r.styleConfigs,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{key:e.id,id:e.id,name:e.name,vucNode:e.vucNode||n.vucNode},null,8,["id","name","vucNode"])})),128))])}function xc(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("Item");return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{class:"vuc-qstyle-item",title:n.name},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:r.value,"onUpdate:value":t[0]||(t[0]=function(e){return r.value=e}),onBlur:i.saveVaule,onKeydown:Object(ie["withKeys"])(i.blur,["enter"]),allowClear:""},null,8,["value","onBlur","onKeydown"])]})),_:1},8,["title"])}var Cc={components:{Item:xt["e"],Input:ft["Input"]},props:{id:String,name:String,vucNode:Object},data:function(){return{value:""}},computed:{styles:function(){var e=this.vucNode.getStaticBind("style");return bc(e&&e.attrValue)},style:function(){var e=this;return this.styles.find((function(t){return t.k==e.id&&t.comment}))}},watch:{style:function(e){e&&(this.value=e.v)}},methods:{saveVaule:function(){if(this.value)this.style?this.style.v=this.value:this.styles.push({k:this.id,v:this.value,comment:!0});else if(this.style){var e=this.styles.indexOf(this.style);this.styles.splice(e,1)}var t=yc(this.styles);this.vucNode.setStyle(t)},blur:function(){this.$el.querySelector("input").blur()}}};Cc.render=xc;var Nc=Cc,wc={components:{QuickStyleItem:Nc},props:{items:Array,vucNode:Object},data:function(){return{styleConfigs:this.items}},watch:{vucNode:{immediate:!0,handler:"updateStyleConfigs"},items:function(){this.styleConfigs=this.items}},methods:{updateStyleConfigs:function(e){e&&(this.styleConfigs=e.getConfig("quickStyles")||[])}}};wc.render=kc;var Sc=wc,Vc=n("a7ed");function Ec(e){var t,n=[],o=null;return Object(Vc["parseHTML"])(e,{start:function(e,r,i){var a={};r.forEach((function(e){var t=e.value;"false"===e.value?t=!1:"true"!==e.value&&""!==e.value||(t=!0),a[e.name]=t})),Object.assign(a,{tag:e,selector:e.startsWith("type.")?e.substr(5):e,num:void 0===a.num?1:a.num,allowChildren:!1!==a.allowChildren}),o||(o=a),t=n[n.length-1],i||n.push(a),t&&(t.children=t.children||[],t.children.push(a))},end:function(){n.length-=1}}),o}function Bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ic(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Pc(e,t,n){return t&&Ic(e.prototype,t),n&&Ic(e,n),e}var Ac=function(){function e(t,n,o,r){Bc(this,e),this.comboType=t,this.rootNode=n,this.nodeMap=o,this.nodeConfigMap=r}return Pc(e,[{key:"includeNode",value:function(e){return Object.values(this.nodeMap).includes(e)}},{key:"eachNodes",value:function(e){var t=this;Object.values(this.nodeMap).forEach((function(n){return e(n,n===t.rootNode)}))}},{key:"getName",value:function(){return this.comboType.name}},{key:"getOptionConfigs",value:function(){return Object(u["isFunction"])(this.comboType.configs)?this.comboType.configs.call(this,this):this.comboType.configs}},{key:"getNode",value:function(e){return this.nodeMap[e]}},{key:"getNodeConfig",value:function(e){return this.nodeConfigMap[e._astId]}},{key:"onDragdrop",value:function(e,t,n){if(this.comboType.onDragdrop)return this.comboType.onDragdrop(e,t,n)}}]),e}(),Tc=Ac;function _c(e){return _c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(e)}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $c(e,t,n){return t&&Fc(e.prototype,t),n&&Fc(e,n),e}var Lc=function(){function e(t){Mc(this,e),Object.assign(this,t),this.rootNode=Ec(t.template)}return $c(e,[{key:"createCombo",value:function(e){var t,n,o=a([this.rootNode],[e]);if(o&&(t=Dc({},this.rootNode.key,e),n=Dc({},e._astId,this.rootNode),i(this.rootNode,e)))return new Tc(this,e,t,n);function r(e){return null==e||0==e.length}function i(e,o){if(r(e.children))return r(o.children)||e.allowChildren;var c=a(e.children,o.children);if(c){for(var l=function(r){if(!c[r+1])return"continue";var a=Rc(c[r+1]),l=e.children[r],u=o.children.find((function(e){return e._astId==a}));return n[u._astId]=l,l.key&&(t[l.key]=u),i(l,u)?void 0:{v:!1}},u=0;u<e.children.length;u++){var s=l(u);if("continue"!==s&&"object"===_c(s))return s.v}return!0}return!1}function a(e,t){var n=Uc(e||[]),o=qc(t||[]);return o.match(n)}}}]),e}();function Rc(e){var t=e.match(/id="(.*?)"/);return t?t[1]:void 0}function Uc(e){return new RegExp("^"+e.map(zc).join("")+"$")}function zc(e){var t="";t=e.tag.startsWith("type.")?'(<.[^<>]*class="'.concat(e.selector,'".*[^<>]*>)'):"any"==e.tag?"(<.[^<>]*>)":"(<".concat(Object(u["formatComponentName"])(e.selector),".*[^<>]*>)");var n=parseInt(e.num);return isNaN(n)?t+=e.num:1!==e.num&&(t+="{".concat(n,"}")),t}function qc(e){return e.map(Kc).join("")}function Kc(e){if(e.isText())return"<text>";var t=e.getConfig(),n=e.tag;if(!t)return"<".concat(n,' id="').concat(e._astId,'">');var o="";return t.type&&(o=t.type.map((function(e){return' class="'.concat(e,'"')})).join("")),"<".concat(n,' id="').concat(e._astId,'"').concat(o,">")}var Hc=Lc,Wc=Object.create(null);function Gc(e){Wc[e.mode]=e}function Yc(e){return Wc[e]}function Xc(e,t,n){if(!e.items)return{};var o=e.items.filter((function(e){var n=t.getNode(e.nodeKey);return!!n&&((!e.excludeTags||!Object(u["castArray"])(e.excludeTags).some((function(e){return n.eqTag(e)})))&&!(!1===e.show||Object(u["isFunction"])(e.show)&&!1===e.show(n)))})).map((function(e){var o=t.getNode(e.nodeKey),r={};return n.forEach((function(t){r[t]=e[t]})),r.vucNode=o,r}));return{items:o}}Gc({mode:"prop",Component:$i,parseComponentProps:function(e,t){return Xc(e,t,["name","label"])}}),Gc({mode:"event",Component:ic,parseComponentProps:function(e,t){return Xc(e,t,["name","id"])}}),Gc({mode:"style",Component:Sc,parseComponentProps:function(e,t){return Xc(e,t,["name","id"])}});var Jc=Object.create(null);function Zc(e){Jc[e.id]=new Hc(e)}function Qc(e){for(var t in Jc){var n=Jc[t],o=n.createCombo(e);if(o)return o}}function el(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=tl(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function tl(e,t){if(e){if("string"===typeof e)return nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nl(e,t):void 0}}function nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}re.registerConfig({registerComboType:Zc,registerComboMode:Gc}),re.registerAstProcess((function(e){function t(n){var o=Qc(n);o?e.combos.push(o):n.children&&n.children.forEach(t)}e.combos=[],e.maybeCombo=function(t){return e.combos.find((function(e){return e.rootNode===t}))};var n=Object(ie["computed"])((function(){return e.rootNode}));Object(ie["watch"])(n,(function(){e.combos=[],e.rootNode&&t(e.rootNode)}),{deep:!0,immediate:!0})})),re.setVucEditorHooks({onBeforeSelectNode:function(e){var t,n=!0,o=el(e.vucAst.combos);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(r.includeNode(e)){if(e===r.rootNode)return!0;n=!1}}}catch(i){o.e(i)}finally{o.f()}return n},onDragdrop:function(e,t,n){var o,r=el(t.vucAst.combos);try{for(r.s();!(o=r.n()).done;){var i=o.value;if(i.includeNode(t)){if(t===i.rootNode&&"inner"!=n)return!0;if("inner"===n){var a=i.getNodeConfig(t);if(a&&a.dragover)return}if(i.onDragdrop(e,t,n))return;return!1}}}catch(c){r.e(c)}finally{r.f()}}}),re.setVucProxyHooks({onBeforeRender:function(e){e.vucAst.combos.forEach((function(t){t.eachNodes((function(n,o){if(!o){var r=t.getNodeConfig(n);if(r.dragover)return;e.cancelOutline&&e.cancelOutline(n)}}))}))}});var ol={key:0,class:"vuc-mode-view"};function rl(e,t,n,o,r,i){return i.comboModes?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",ol,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.comboModes,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(Object(ie["resolveDynamicComponent"])(e.Component),Object(ie["normalizeProps"])(Object(ie["mergeProps"])({key:e.title},e.componentProps)),null,16)})),128))])):Object(ie["createCommentVNode"])("",!0)}var il={emits:["combo-change"],mixins:[po,si],data:function(){return{combo:null}},computed:{comboModes:function(){var e,t=this,n=null===(e=this.combo)||void 0===e?void 0:e.getOptionConfigs();return null===n||void 0===n?void 0:n.map((function(e){var n=Yc(e.mode);return{title:e.title,Component:n.Component,componentProps:n.parseComponentProps(e,t.combo)}}))}},watch:{vucNode:{handler:function(e){this.combo=e?this.vucAst.maybeCombo(e):null},immediate:!0},combo:function(e){this.$emit("combo-change",e)}},methods:{}};il.render=rl;var al=il,cl=Object(ie["createTextVNode"])("更多选项 ");function ll(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("DownOutlined"),c=Object(ie["resolveComponent"])("MenuItem"),l=Object(ie["resolveComponent"])("Menu"),u=Object(ie["resolveComponent"])("Dropdown");return Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{trigger:"click"},{overlay:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,null,{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.nodeList,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{class:Object(ie["normalizeClass"])({"item-selected":n.value==e.node}),onClick:function(t){return i.selectNode(e.node)},key:e.key},{default:Object(ie["withCtx"])((function(){return[Object(ie["createTextVNode"])(Object(ie["toDisplayString"])(e.name||e.key),1)]})),_:2},1032,["class","onClick"])})),128))]})),_:1})]})),default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",Object(ie["mergeProps"])({class:"vuc-combo-drowdown"},e.$attrs),[cl,Object(ie["createVNode"])(a)],16)]})),_:1})}var ul={inheritAttrs:!1,name:"ComboDrowdown",emits:["update:value"],props:{combo:Object,value:Object},components:{DownOutlined:So.a,Dropdown:ft["Dropdown"],Menu:ft["Menu"],MenuItem:ft["MenuItem"]},computed:{nodeList:function(){var e=[{key:"_combo",node:null,name:"组合选项"}];for(var t in this.combo.nodeMap){var n=this.combo.nodeMap[t];e.push({key:t,node:n,name:n.getConfig("name")})}return e}},methods:{selectNode:function(e){this.$emit("update:value",e)}}};ul.render=ll;var sl=ul,dl={class:"vuc-codeeditor"};function fl(e,t,n,o,r,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",dl)}n("e5cc"),n("9d05"),n("63c4");var pl=n("bf73"),ml=n.n(pl),hl=(n("3342"),n("9bd9"),n("2b65"),n("08dc"),n("3a6d"),n("d31d"),n("cb65"),n("8590"),n("42a3"),n("fcfb"),n("34a2"),n("d436"),{emits:["update:value","change"],props:{value:String,width:[String,Number],height:{type:[String,Number],default:300}},data:function(){return{code:this.value}},watch:{value:{handler:function(){var e=this;this.value!=this.code&&(this.code=this.value,this.$nextTick((function(){e._setValue=!0,e.codeMirror.setValue(e.code||""),e.codeMirror.display.lastWrapHeight=0})))},immediate:!0},code:function(){this.code!=this.value&&this.$emit("update:value",this.code)}},mounted:function(){var e=this,t={gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],foldGutter:!0,foldOptions:{widget:"..."}};this.codeMirror=ml()(this.$el,Object.assign({value:this.value||"",lineNumbers:!0,mode:"vue",indentWithTabs:!1,autoCloseBrackets:!0,autoRefresh:!0,extraKeys:{"Alt-/":function(t){t.showHint({editor:e})},Tab:function(e){if(e.somethingSelected())e.indentSelection("add");else{var t=Array(e.getOption("indentUnit")+1).join(" ");e.replaceSelection(t)}},F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))}}},t)),this.codeMirror.setSize(this.width,this.height),this.codeMirror.on("change",ce()((function(){e._setValue?e._setValue=!1:e.code=e.codeMirror.getValue()}),300));var n="";this.codeMirror.on("focus",(function(){n=e.code})),this.codeMirror.on("blur",(function(){n!==e.code&&e.$emit("change",e.code)}))},methods:{}});hl.render=fl;var vl=hl,bl=vl;function yl(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("combo-drowdown"),c=Object(ie["resolveComponent"])("combo-panel"),l=Object(ie["resolveComponent"])("SampleCard"),u=Object(ie["resolveComponent"])("text-panel"),s=Object(ie["resolveComponent"])("props-panel"),d=Object(ie["resolveComponent"])("quick-event-panel"),f=Object(ie["resolveComponent"])("quick-style-panel"),p=Object(ie["resolveComponent"])("event-panel"),m=Object(ie["resolveComponent"])("style-panel"),h=Object(ie["resolveComponent"])("directive-panel"),v=Object(ie["resolveComponent"])("panel-view");return Object(ie["openBlock"])(),Object(ie["createBlock"])(v,{title:"组件选项"},{default:Object(ie["withCtx"])((function(){return[r.combo?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:0},[Object(ie["createVNode"])(a,{class:"vuc-sample-designer-combo-drowdown",combo:r.combo,value:r.configNode,"onUpdate:value":t[0]||(t[0]=function(e){return r.configNode=e})},null,8,["combo","value"]),r.configNode?Object(ie["createCommentVNode"])("",!0):(Object(ie["openBlock"])(),Object(ie["createBlock"])(l,{key:0,title:"组合选项"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{vucNode:n.selectNode},null,8,["vucNode"])]})),_:1}))],64)):Object(ie["createCommentVNode"])("",!0),r.configNode?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:1},[Object(ie["createVNode"])(l,{title:"选项"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u,{vucNode:r.configNode},null,8,["vucNode"]),Object(ie["createVNode"])(s,{vucNode:r.configNode},null,8,["vucNode"]),Object(ie["createVNode"])(d,{vucNode:r.configNode},null,8,["vucNode"]),Object(ie["createVNode"])(f,{vucNode:r.configNode},null,8,["vucNode"])]})),_:1}),Object(ie["createVNode"])(l,{title:"事件"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(p,{vucNode:r.configNode},null,8,["vucNode"])]})),_:1}),Object(ie["createVNode"])(l,{title:"样式"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(m,{vucNode:r.configNode},null,8,["vucNode"])]})),_:1}),Object(ie["createVNode"])(l,{title:"指令"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(h,{vucNode:r.configNode},null,8,["vucNode"])]})),_:1})],64)):Object(ie["createCommentVNode"])("",!0)]})),_:1})}function jl(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("MenuUnfoldOutlined"),c=Object(ie["resolveComponent"])("Card");return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{hoverable:!1,size:"small"},{title:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a),Object(ie["createTextVNode"])(" "+Object(ie["toDisplayString"])(n.title),1)]})),extra:Object(ie["withCtx"])((function(){return[Object(ie["renderSlot"])(e.$slots,"extra")]})),default:Object(ie["withCtx"])((function(){return[Object(ie["renderSlot"])(e.$slots,"default")]})),_:3})}var Ol=n("a3c8"),gl=n.n(Ol),kl={name:"VucCard",components:{MenuUnfoldOutlined:gl.a,Card:ft["Card"]},props:{title:String}};kl.render=jl;var xl=kl,Cl={name:"SampleNodePanel",components:{SampleCard:xl,PanelView:yi,PropsPanel:Ri,StylePanel:gc,EventPanel:Ya,DirectivePanel:ja,TextPanel:pi,ComboPanel:al,ComboDrowdown:sl,QuickEventPanel:ic,QuickStylePanel:Sc},props:{vucAst:Object,selectNode:Object},data:function(){return{configNode:null,combo:null}},watch:{selectNode:{immediate:!0,handler:function(e){this.combo=this.vucAst.maybeCombo(e),this.configNode=this.combo?null:e}}}};Cl.render=yl;var Nl=Cl;function wl(e,t,n,o,r,i){var a=Object(ie["resolveComponent"])("data-panel"),c=Object(ie["resolveComponent"])("SampleCard"),l=Object(ie["resolveComponent"])("computed-panel"),u=Object(ie["resolveComponent"])("method-panel"),s=Object(ie["resolveComponent"])("watch-panel"),d=Object(ie["resolveComponent"])("panel-view");return Object(ie["openBlock"])(),Object(ie["createBlock"])(d,{title:n.title},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{title:"data"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a)]})),_:1}),Object(ie["createVNode"])(c,{title:"computed"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l)]})),_:1}),Object(ie["createVNode"])(c,{title:"methods"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u)]})),_:1}),Object(ie["createVNode"])(c,{title:"watch"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(s)]})),_:1})]})),_:1},8,["title"])}var Sl={name:"SampleOptionPanel",props:{title:String},components:{SampleCard:xl,DataPanel:Go,ComputedPanel:dr,MethodPanel:Sr,WatchPanel:Qr,PanelView:yi}};Sl.render=wl;var Vl=Sl;function El(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?El(Object(n),!0).forEach((function(t){Il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pl(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(ie["isVNode"])(e)}var Al={components:{Designer:Yn,Editor:Hn,ExplorerView:vo,SfcEditor:bl,SampleNodePanel:Nl,SampleOptionPanel:Vl},props:{editorOptions:Object,vueContent:String,explorerComponents:Array},data:function(){return{vucAst:null,selectNode:null,configNode:null,showSfcEditor:!1,sfcCode:null}},watch:{vueContent:{handler:function(e){this.vucAst=ct(e)},immediate:!0}},methods:{changeCurrentNode:function(e){this.selectNode=e},editSfcCode:function(){var e=this.vucAst.getContent();this.showSfcEditor=!0,this.sfcCode=e},saveSfcCode:function(){this.vucAst=ct(this.sfcCode),this.showSfcEditor=!1},importVue:function(){var e=document.createElement("input");e.type="file",e.onchange=function(){var e=this,t=new FileReader;t.onload=function(){e.vucAst=ct(t.result),ft["message"].success("导入成功")},t.readAsText(this.files[0])},e.click()},repeatNode:function(){ft["message"].success("导入成功");var e=this.$refs.editor;e.currentNode&&e.repeatNode(e.currentNode)},delSelect:function(){var e=this.$refs.editor;e.currentNode&&e.removeNode(e.currentNode)},moveToBefore:function(){var e=this.$refs.editor;e.currentNode&&e.moveToBefore(e.currentNode)},moveToAfter:function(){var e=this.$refs.editor;e.currentNode&&e.moveToAfter(e.currentNode)},selectParent:function(){var e,t=this.$refs.editor,n=null===(e=t.currentNode)||void 0===e?void 0:e.getParentNode();n&&t.selectVucNode(n)},forceUpdateVuc:function(){this.$refs.editor.forceUpdateVuc()},reloadVuc:function(){this.$refs.editor.reloadVuc()}},render:function(){var e=this,t={left:function(){return e.$slots.left?e.$slots.left({vucAst:e.vucAst,selectNode:e.selectNode}):Object(ie["createVNode"])(vo,{title:"组件",components:e.explorerComponents},null)},right:function(){return e.$slots.right?e.$slots.right({vucAst:e.vucAst,selectNode:e.selectNode}):[Object(ie["createVNode"])(Nl,{title:"组件选项",vucAst:e.vucAst,selectNode:e.selectNode},null),Object(ie["createVNode"])(Vl,{title:"页面选项"},null)]}},n=[{text:"导入",handler:this.importVue},{text:"前移",handler:this.moveToBefore},{text:"后移",handler:this.moveToAfter},{text:"重复",handler:this.repeatNode},{text:"删除",handler:this.delSelect},{text:"选中父组件",handler:this.selectParent},{text:"编辑源码",handler:this.editSfcCode},{text:"刷新",handler:this.forceUpdateVuc}],o=n.map((function(e){return Object(ie["createVNode"])(ft["Button"],{type:"text",onClick:e.handler},{default:function(){return[e.text]}})}));return this.$slots.toolbar&&(o=this.$slots.toolbar({vucAst:this.vucAst,selectNode:this.selectNode})),Object(ie["createVNode"])("div",{class:"vuc-sample-designer"},[Object(ie["createVNode"])("div",{class:"vuc-sample-designer-toolbar"},[Object(ie["createVNode"])(ft["Space"],null,Pl(o)?o:{default:function(){return[o]}})]),Object(ie["createVNode"])(Yn,{ref:"designer",style:"height: calc(100% - 37px)"},Bl({default:function(){return[Object(ie["createVNode"])(Hn,{ref:"editor",onSelectNode:e.changeCurrentNode,vucAst:e.vucAst,options:e.editorOptions},null)]}},t)),Object(ie["createVNode"])(ft["Modal"],{visible:e.showSfcEditor,"onUpdate:visible":function(t){return e.showSfcEditor=t},title:"源代码",width:"100%",onOk:this.saveSfcCode},{default:function(){return[Object(ie["createVNode"])(bl,{value:e.sfcCode,"onUpdate:value":function(t){return e.sfcCode=t},height:"600px"},null)]}})])}},Tl=(n("c0a8"),Al)},fbf2:function(e,t,n){"use strict";n("9842")},fcfb:function(e,t){e.exports=n("e1de")},ff42:function(e,t,n){"use strict";n("51cc")}})}))}).call(this,n("62e4")(e))},f99b:function(e,t,n){"use strict";n("0641")},fdb9:function(e,t,n){"use strict";n.r(t);var o=n("ddfa");t["default"]={id:"el-slider",name:"滑动输入条",eventTypes:[{id:"input",name:"输入"},{id:"change",name:"值改变"}],type:["input","slider"],props:{modelValue:{label:"值",editors:"number"},max:{label:"最大值",editors:"number"},min:{label:"最小值",editors:"number"},disabled:{label:"禁用",editors:"boolean"},showStops:{label:"显示间断点",editors:"boolean"},range:{label:"范围选择",editors:"boolean"},step:{label:"步长",editors:"number"},showInput:{label:"显示输入框",editors:"boolean"},inputSize:{label:"输入框尺寸",editors:Object(o["a"])()},showInputControls:{label:"输入框按钮",editors:"boolean?defaultValue=true"},vertical:{label:"垂直模式",editors:"boolean"},height:{label:"高度",editors:"string"},debounce:{label:"防抖延迟",editors:"number"},formatTooltip:{label:"格式化"},marks:{label:"刻度"}},vModel:["modelValue"],vucProxyOption:{textProxy:!1}}}});
//# sourceMappingURL=app.29edadbf.js.map