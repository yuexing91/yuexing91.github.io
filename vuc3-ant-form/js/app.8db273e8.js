(function(e){function t(t){for(var r,a,c=t[0],l=t[1],u=t[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/yuexing91.github.io/vuc3-ant-form/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;i.push(["e35a","chunk-vendors"]),n()})({"01d9":function(e,t,n){var r={"./FormItem.js":"2421","./GridFormItem.js":"6d2d"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="01d9"},"0fe9":function(e,t,n){"use strict";n.r(t);n("ddfa");t["default"]={id:"a-row",name:"栅格行",eventTypes:[],type:["row"],slots:[{slot:"default",name:"内容"}],props:{gutter:{label:"间距",editors:"number",help:"栅格间距，单位 px，左右平分"},align:{label:"垂直对齐",editors:"select?@items=:default|top|middle|bottom"},justify:{label:"水平排列",editors:"select?:default|start|end|center|space-around|space-between"}},childLimit:function(e){return"a-col"===e}}},"11ed":function(e,t,n){"use strict";n("b7b3")},"14f9":function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-form",name:"表单",eventTypes:[],type:["container","form"],slots:[{slot:"default",name:"内容"}],props:{model:{label:"数据对象",change:function(e,t,n){var r=n.querySelectorAll(".input");r.forEach((function(n){var r=n.getDirective("model");if(r){var o=r.getAttrValue(),i=o.split(".");if(i[0]==t.attrValue){var a=[e.attrValue].concat(i.slice(1)).join(".");n.setAttrValue(r.getAttrName(),a)}}}))}},rules:{label:"验证规则"},labelAlign:{label:"标签对齐方式",editors:"radio-group?@items=left:左|right:右"},layout:{label:"表单布局",editors:"select?@items=horizontal:水平|vertical:垂直|inline:行内"},labelCol:{label:"标签宽度",editors:"col"},wrapperCol:{label:"控件宽度",editors:"col"},hideRequiredMark:{label:"隐藏必填标记",editors:"boolean"},colon:{label:"显示标签冒号",editors:"boolean?defaultValue=true"}}}},"18fe":function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-card-meta",name:"卡片网格",type:["panel","card"],slots:[{slot:"avatar",name:"头像/图标"},{slot:"title",name:"标题内容"},{slot:"description",name:"描述内容"}],props:{title:{label:"标题",editors:"string"},description:{label:"描述",editors:"string"}}}},"1dd2":function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-cascader",name:"级联选择框",type:["input","cascader"],eventTypes:[{id:"change",name:"值改变"},{id:"search",name:"搜索时"}],slots:[],props:{options:{label:"选项数据源",editors:{type:"array",props:{keyName:"value",isTreeData:!0,fields:[{name:"value",label:"选项值"},{name:"label",label:"选项文本"}]}}},loadData:{label:"动态加载",help:"用于动态加载选项，无法与 showSearch 一起使用"},size:{label:"尺寸",editors:"select?@items=large:大|:中|small:小"},expandTrigger:{label:"移入展开",editors:"boolean"},changeOnSelect:{label:"选择即改变",editors:"boolean"},allowClear:{label:"清除按钮",editors:"boolean?defaultValue=true"},autofocus:{label:"默认获取焦点",editors:"boolean"},showSearch:{label:"可搜索",editors:"boolean"},notFoundContent:{label:"搜索为空提示文本",editors:"string"},placeholder:{label:"占位符",editors:"string"},value:{label:"值",editors:"string"},defaultValue:{label:"默认值"}},vModel:["value"]}},"1fa5":function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-tabs",name:"标签页组",eventTypes:[{id:"change",name:"标签页切换"},{id:"edit",name:"新增或删除"},{id:"nextClick",name:"点击下一页"},{id:"prevClick",name:"点击上一页"},{id:"tabClick",name:"标签页点击"}],type:["panel","tabs"],slots:[{slot:"default",name:"内容"},{slot:"tabBarExtraContent",name:"额外内容"}],props:{activeKey:{label:"激活标签页",editors:"string"},size:{label:"尺寸",editors:"select?@items=small:小|default:中|large:大"},type:{label:"类型",editors:"select?@items=line:默认|card:卡片|editable-card:可编辑卡片"},tabPosition:{label:"位置",editors:"select?@items=top|right|bottom|left",help:"页签位置"},tabBarGutter:{label:"间隙",editors:"number",help:"tabs 之间的间隙"},tabBarStyle:{label:"样式",help:"tab bar 的样式"},animated:{label:"动画切换",editors:"boolean?defaultValue=true"}},vModel:["activeKey"],childLimit:function(e){return"a-tab-pane"===e},editorTools:[{title:"添加标签页",icon:"PlusCircleOutlined",handler:function(e,t){t.appendNode('<a-tab-pane tab="新增标签页'.concat(t.children.length+1,'"></a-tab-pane>'))}}]}},2218:function(e,t,n){},2421:function(e,t,n){"use strict";n.r(t);var r='<a-form-item key="formItem">\n      <type.input key="input" allowChildren="true"/>\n    </a-form-item>';t["default"]={id:"FormItem",name:"表单项",template:r,configs:function(e){var t=[{title:"属性",mode:"prop",items:[{nodeKey:"formItem",name:"name"},{nodeKey:"formItem",name:"label",label:"字段标签"},{nodeKey:"formItem",name:"required"},{nodeKey:"input",name:"options"},{nodeKey:"input",name:"autosize"},{nodeKey:"input",name:"min"},{nodeKey:"input",name:"max"},{nodeKey:"input",name:"count"},{nodeKey:"input",name:"allowHalf"},{nodeKey:"input",name:"size"},{nodeKey:"input",name:"checkedChildren"},{nodeKey:"input",name:"unCheckedChildren"},{nodeKey:"input",name:"valueFormat"},{nodeKey:"input",name:"format"},{nodeKey:"input",name:"allowClear"},{nodeKey:"input",name:"mode",excludeTags:["a-date-picker"]},{nodeKey:"input",name:"placeholder"},{nodeKey:"input",name:"showTime"},{nodeKey:"input",name:"step"},{nodeKey:"input",name:"disabled"},{nodeKey:"formItem",name:"rules"}]},{title:"事件",mode:"event",items:[{nodeKey:"input",id:"change",name:"值变更事件"}]},{title:"样式",mode:"style",items:[{nodeKey:"input",id:"width",name:"宽度",excludeTags:["a-checkbox-group","a-radio-group"]}]}];return t}}},"2db1":function(e,t,n){"use strict";n.r(t);var r=n("ddfa");t["default"]={id:["a-tree-select"],name:"树形选择框",eventTypes:[{id:"change",name:"值改变"},{id:"select",name:"选中"},{id:"search",name:"搜索时"},{id:"treeExpand",name:"展开树"}],type:["input","tree-select"],slots:[{slot:"placeholder",name:"选择框默认文字"}],vModel:["value","treeExpandedKeys","searchValue"],props:{treeData:{label:"数据源"},loadData:{label:"异步加载"},replaceFields:{label:"替代字段"},multiple:{label:"多选",editors:"boolean"},treeCheckable:{label:"复选框",editors:"boolean"},treeIcon:{label:"显示树节点图标",editors:"boolean"},size:{label:"尺寸",editors:Object(r["a"])()},autofocus:{label:"默认获取焦点",editors:"boolean"},placeholder:{label:"占位文本\t",editors:"string"},allowClear:{label:"清空按钮",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},maxTagCount:{label:"最多显示标签数",editors:"number"},maxTagPlaceholder:{label:"隐藏标签时显示的内容"},showSearch:{label:"可搜索",editors:"boolean",help:"使单选模式可搜索"},value:{label:"值",editors:"string"},defaultValue:{label:"默认值",editors:"string"}}}},"2f66":function(e,t,n){"use strict";n.r(t);var r=n("ddfa");t["default"]={id:"a-button",name:"按钮",eventTypes:[{id:"click",name:"点击",quick:!0}],slots:[{slot:"default",name:"按钮内容"},{slot:"icon",name:"图标"}],type:["button"],props:{type:{label:"按钮类型",editors:"select?@items=default|primary|dashed|text|danger|link"},ghost:{label:"幽灵按钮",editors:"boolean",help:"幽灵属性，使按钮背景透明"},size:{label:"尺寸",editors:Object(r["a"])()},shape:{label:"按钮形状",editors:"select?@items=circle|round|:default"},disabled:{label:"禁用",editors:"boolean"},loading:{label:"载入状态",editors:"boolean"},block:{label:"块级按钮",editors:"boolean"}},antIcon:{label:"按钮图标",editors:"icon",slot:"icon"},text:{label:"按钮文本"},childLimit:function(){return!1},vucProxyOption:{textProxy:!1}}},3428:function(e,t,n){"use strict";n.r(t),t["default"]={id:["a-col"],name:"栅格",eventTypes:[],type:["col"],slots:[{slot:"default",name:"内容"}],props:{flex:{label:"flex",editors:"string"},span:{label:"栅格占位格数",editors:"number",help:"占位格数，可选值为0~24"},order:{label:"顺序",editors:"number",help:"栅格的顺序"},offset:{label:"间隔",editors:"number",help:"栅格左侧的间隔格数"},push:{label:"向右移动",editors:"number",help:"栅格向右移动格数"},pull:{label:"向左移动",editors:"number",help:"栅格向左移动格数"},xs:{label:"xs",editors:"number",help:"<576px 响应式栅格"},sm:{label:"sm",editors:"number",help:"≥576px 响应式栅格"},md:{label:"md",editors:"number",help:"≥768px 响应式栅格"},lg:{label:"lg",editors:"number",help:"≥992px 响应式栅格"},xl:{label:"xl",editors:"number",help:"≥1200px 响应式栅格"},xxl:{label:"xxl",editors:"number",help:"≥1600px 响应式栅格"}},parentLimit:function(e){return"a-row"===e.tag}}},"3b36":function(e,t,n){"use strict";n("85f1")},"3dae":function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-card-grid",name:"卡片网格",type:["panel","card"],slots:[{slot:"default",name:"卡片网格内容"}],props:{hoverable:{label:"悬浮",editors:"boolean",help:"鼠标移过时可浮起"}}}},4499:function(e,t,n){"use strict";t["a"]={getProps:function(){return{valueFormat:{label:"值格式化",editors:"string"},format:{label:"显示格式化",editors:"string"},inputReadOnly:{label:"禁用输入框",editors:"boolean"},size:{label:"尺寸",editors:"radio-group?@items=large:大|:中|small:小"},mode:{label:"面板状态",editors:"select?@items=time|date|month|year|decade"},open:{label:"弹层是否展开",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},placeholder:{label:"占位符",editors:"string"},allowClear:{label:"清除按钮",editors:"boolean?defaultValue=true"},autofocus:{label:"默认获取焦点",editors:"boolean"}}}}},"44d6":function(e,t,n){"use strict";n.r(t);var r=n("4499");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t["default"]={id:"a-week-picker",name:"星期选择框",type:["input","week-picker"],eventTypes:[{id:"change",name:"值改变"}],slots:[],props:i({value:{label:"值",editors:"string"}},r["a"].getProps()),vModel:["value"]}},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"24217","./ku.js":"24217","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="4678"},"536c":function(e,t,n){"use strict";n.r(t);var r=n("4499");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t["default"]={id:"a-date-picker",name:"日期选择框",type:["input","date-picker"],eventTypes:[{id:"change",name:"值改变"},{id:"ok",name:"点击确定"}],slots:[],props:i(i({value:{label:"值",editors:"string"},showTime:{label:"支持选择时间",editors:"boolean"}},r["a"].getProps()),{},{showToday:{label:"显示今天按钮",editors:"boolean?defaultValue=true"}}),vModel:["value"]}},"5fe2":function(e,t,n){"use strict";n.r(t);var r=n("ddfa");t["default"]={id:"a-input-password",name:"输入框",type:["input"],eventTypes:[{id:"change",name:"值改变"},{id:"pressEnter",name:"按下回车"}],props:{value:{label:"值",editors:"string"},size:{label:"尺寸",editors:Object(r["a"])()},visibilityToggle:{label:"切换按钮",editors:"boolean?defaultValue=true"},placeholder:{label:"占位文本\t",editors:"string"}},vModel:["value"]}},6921:function(e,t,n){"use strict";n.r(t),t["default"]={id:["a-select-opt-group"],name:"选项分组",eventTypes:[],props:{label:{label:"组名",editors:"string"}},vucProxyOption:{textProxy:!1},vucEditorOption:{onBeforeSelectNode:!1}}},"69f6":function(e,t,n){"use strict";n.r(t);var r=n("4499");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t["default"]={id:"a-range-picker",name:"时间范围选择框",type:["input","range-picker"],eventTypes:[{id:"change",name:"值改变"},{id:"ok",name:"点击确定"}],slots:[],props:i({value:{label:"值",editors:"string"},separator:{label:"分隔符",editors:"string"},showTime:{label:"支持选择时间",editors:"boolean"}},r["a"].getProps()),vModel:["value"]}},"6d2d":function(e,t,n){"use strict";n.r(t);var r=n("2421"),o='\n<a-col key="col">\n  <a-form-item key="formItem">\n    <type.input key="input" allowChildren="true"/>\n  </a-form-item>\n</a-col>';t["default"]={id:"GridFormItem",name:"栅格表单项",template:o,configs:function(e){var t=r["default"].configs(e);return t[0].items.splice(2,0,{nodeKey:"col",name:"span",label:"栅格数"}),t}}},"82fd":function(e,t,n){"use strict";n.r(t);var r=n("ddfa");t["default"]={id:["a-select"],name:"下拉框",eventTypes:[{id:"change",name:"值变更"},{id:"select",name:"选中"},{id:"deselect",name:"取消选中"},{id:"focus",name:"获得焦点"},{id:"blur",name:"失去焦点"},{id:"inputKeydown",name:"键盘按下"},{id:"mouseenter",name:"鼠标移入"},{id:"mouseleave",name:"鼠标移出"},{id:"dropdownVisibleChange",name:"展开下拉菜单"},{id:"popupScroll",name:"下拉列表滚动"},{id:"search",name:"搜索时"}],type:["input","select"],slots:[{slot:"placeholder",name:"选择框默认文字"},{slot:"notFoundContent",name:"下拉列表为空时内容"},{slot:"suffixIcon",name:"后缀图标"},{slot:"removeIcon",name:"多选框清除图标"},{slot:"clearIcon",name:"多选框清空图标"},{slot:"menuItemSelectedIcon",name:"选中的条目图标"}],props:{mode:{label:"模式",editors:"select?@items=default:单选|multiple:多选|tags:标签|combobox:组合框"},options:{label:"下拉选项",editors:{name:"选项",type:"array",props:{keyName:"value",fields:[{name:"value",label:"选项值"},{name:"label",label:"选项文本"},{name:"disabled",label:"禁用",type:"boolean"}]}},help:"选项数据，如果设置则不需要手动构造 selectOption 节点"},value:{label:"值",editors:"string"},bordered:{label:"边框",editors:"boolean?defaultValue=true"},size:{label:"尺寸",editors:Object(r["a"])()},autofocus:{label:"默认获取焦点",editors:"boolean"},placeholder:{label:"占位文本\t",editors:"string"},allowClear:{label:"清空按钮",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},maxTagCount:{label:"最多显示标签数",editors:"number"},maxTagTextLength:{label:"最大标签文本长度",editors:"number"},open:{label:"展开",editors:"boolean",help:"是否展开下拉菜单"},defaultOpen:{label:"默认展开",editors:"boolean",help:"是否默认展开下拉菜单"},readonly:{label:"只读",editors:"boolean"},showSearch:{label:"可搜索",editors:"boolean",help:"使单选模式可搜索"},showArrow:{label:"下拉箭头",editors:"boolean?defaultValue=true"}},vModel:["value"],optionEditor:{title:"下拉框选项",tag:"a-select-option",getData:function(e){return{value:e.getAttrValue("value"),label:e.getAttrValue("label")||e.getText()}},setData:function(e,t){e.setAttrValue("value",t.value),e.getBind("label")?e.setAttrValue("label",t.label):e.setText(t.label)}}}},"85f1":function(e,t,n){},"89f7":function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-rate",name:"评分",type:["input","rate"],eventTypes:[{id:"change",name:"值改变"},{id:"hoverChange",name:"鼠标经过变更"}],slots:[{slot:"character",name:"自定义字符"}],props:{count:{label:"星星总数",editors:"number"},allowHalf:{label:"允许半选",editors:"boolean"},allowClear:{label:"再次点击清除",editors:"boolean?defaultValue=true"},character:{label:"自定义字符",editors:"string"},disabled:{label:"禁用",editors:"boolean"},tooltips:{label:"提示"},value:{label:"值",editors:"number"}},vModel:["value"]}},"8a33":function(e,t,n){"use strict";n.r(t);n("ddfa");t["default"]={id:"a-auto-complete",name:"自动完成",eventTypes:[{id:"change",name:"值改变"},{id:"select",name:"选中"},{id:"focus",name:"获得焦点"},{id:"blur",name:"失去焦点"},{id:"dropdownVisibleChange",name:"展开下拉菜单"},{id:"search",name:"搜索时"}],type:["input","auto-complete"],props:{value:{label:"值",editors:"string"},defaultValue:{label:"默认值",editors:"string"},options:{label:"数据源",editors:{name:"选项",type:"array",props:{keyName:"value",fields:[{name:"value",label:"选项值"},{name:"label",label:"选项文本"},{name:"disabled",label:"禁用",type:"boolean"}]}}},allowClear:{label:"清空按钮",editors:"boolean"},defaultActiveFirstOption:{label:"默认高亮第一个",editors:"boolean?defaultValue=true"},placeholder:{label:"占位文本\t",editors:"string"},disabled:{label:"禁用",editors:"boolean"},readonly:{label:"只读",editors:"boolean"},backfill:{label:"方向键反馈",editors:"boolean",help:"使用键盘选择选项的时候把选中项回填到输入框中"}},vModel:["value"]}},"8b3d":function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-radio-group",name:"单选框组",eventTypes:[{id:"change",name:"值改变"}],type:["input","radio"],props:{value:{label:"值",editors:"string"},defaultValue:{label:"默认选中的值",editors:"string"},options:{label:"选项",editors:{name:"选项",type:"array",props:{keyName:"value",fields:[{name:"value",label:"选项值"},{name:"label",label:"选项文本"},{name:"disabled",label:"禁用",type:"boolean"}]}}},disabled:{label:"禁用",editors:"boolean"},size:{label:"尺寸",editors:"select?@items=large|default|small",help:"只对按钮样式生效"},buttonStyle:{label:"按钮风格样式",editors:"select?@items=outline|solid",help:"只对按钮样式生效"},name:{label:"名称",editors:"string"}},optionEditor:{title:"单选框选项",tag:"a-radio",getData:function(e){return{value:e.getAttrValue("value"),label:e.getText()}},setData:function(e,t){e.setAttrValue("value",t.value),e.setText(t.label)}},vModel:["value"],vucProxyOption:{textProxy:!1}}},"8c84":function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-tab-pane",name:"标签页",type:["panel","tab-pane"],slots:[{slot:"default",name:"内容"},{slot:"tab",name:"标题"}],props:{key:{label:"key",editors:"string"},tab:{label:"标题",editors:"string"},disabled:{label:"禁用",editors:"boolean"},forceRender:{label:"隐藏时渲染",editors:"boolean"}},onDrop:function(e,t,n){var r="inner"==n?t:t.getParentNode();return"aTabs"===r.tag}}},"8c9a":function(e,t,n){"use strict";n.r(t);var r=n("ddfa");t["default"]={id:"a-input-search",name:"搜索框",eventTypes:[{id:"search",name:"搜索"}],slots:[{slot:"enterButton",name:"确认按钮"}],type:["input"],props:{value:{label:"值",editors:"string"},defaultValue:{label:"默认值",editors:"string"},loading:{label:"搜索中状态",editors:"boolean"},enterButton:{label:"确认按钮",editors:"boolean"},size:{label:"尺寸",editors:Object(r["a"])()},placeholder:{label:"占位文本\t",editors:"string"}},vModel:["value"]}},9328:function(e,t,n){"use strict";n.r(t),t["default"]={id:["a-select-option"],name:"选项",eventTypes:[],props:{value:{label:"值",editors:"string"},label:{label:"值",editors:"string"},disabled:{label:"禁用",editors:"boolean"}},vucProxyOption:{textProxy:!1},vucEditorOption:{onBeforeSelectNode:!1}}},"95e6":function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-switch",name:"开关",eventTypes:[{id:"change",name:"值改变"}],type:["input","switch"],props:{size:{label:"尺寸",editors:"radio-group?@items=:默认|small:小"},disabled:{label:"禁用",editors:"boolean"},checkedChildren:{label:"选中时文本",editors:"string"},unCheckedChildren:{label:"未选中文本",editors:"string"},autofocus:{label:"自动获取焦点",editors:"boolean"},loading:{label:"加载中状态",editors:"boolean"},checked:{label:"是否选中",editors:"boolean"}},vModel:["checked"],vucProxyOption:{textProxy:!1}}},"9b8a":function(e,t,n){var r={"./AutoComplete.js":"8a33","./Button.js":"2f66","./Card.js":"bf67","./CardGrid.js":"3dae","./CardMeta.js":"18fe","./Cascader.js":"1dd2","./CheckGroup.js":"beed","./Checkbox.js":"b485","./Col.js":"3428","./DatePicker.js":"536c","./Form.js":"14f9","./FormItem.js":"b525","./Input.js":"de00","./InputGroup.js":"f3e3","./InputNumber.js":"cf63","./InputPassword.js":"5fe2","./InputSearch.js":"8c9a","./MonthPicker.js":"bbbb","./Radio.js":"b182","./RadioButton.js":"a5bc","./RadioGroup.js":"8b3d","./RangePicker.js":"69f6","./Rate.js":"89f7","./Row.js":"0fe9","./Select.js":"82fd","./SelectOptGroup.js":"6921","./SelectOption.js":"9328","./Slider.js":"fdb9","./Switch.js":"95e6","./TabPane.js":"8c84","./Tabs.js":"1fa5","./Textarea.js":"b142","./TreeSelect.js":"2db1","./WeekPicker.js":"44d6"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="9b8a"},a5bc:function(e,t,n){"use strict";n.r(t);var r=n("b182");t["default"]=Object.assign({},r["default"],{id:"a-radio-button"})},af01:function(e,t,n){},b142:function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-textarea",name:"文本域",eventTypes:[{id:"pressEnter",name:"按下回车"}],type:["input","textarea"],props:{value:{label:"值",editors:"string"},defaultValue:{label:"默认值",editors:"string"},allowClear:{label:"清空按钮",editors:"boolean"},autosize:{label:"高度自适应",editors:"boolean"},showCount:{label:"字数统计",editors:"boolean"},placeholder:{label:"占位文本\t",editors:"string"},disabled:{label:"禁用",editors:"boolean"},readonly:{label:"只读",editors:"boolean"}},vModel:["value"]}},b182:function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-radio",name:"单选框",eventTypes:[{id:"change",name:"值改变"}],type:["input","radio"],props:{checked:{label:"是否选中",editors:"boolean"},value:{label:"值",editors:"string"},disabled:{label:"禁用",editors:"boolean"}},vModel:["checked"],vucEditorOption:{onBeforeSelectNode:function(e){return"aRadioGroup"!==e.parent.tag}},vucProxyOption:{textProxy:!1}}},b485:function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-checkbox",name:"复选框",eventTypes:[{id:"change",name:"值改变"}],type:["input","checkbox"],props:{checked:{label:"是否选中",editors:"boolean"},value:{label:"值",editors:"string"},autofocus:{label:"自动获取焦点",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},indeterminate:{label:"indeterminate",editors:"boolean"}},vModel:["checked"],vucEditorOption:{onBeforeSelectNode:function(e){return"aCheckboxGroup"!==e.parent.tag}},vucProxyOption:{textProxy:!1}}},b525:function(e,t,n){"use strict";function r(e,t){return l(e)||c(e,t)||i(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function l(e){if(Array.isArray(e))return e}function u(e,t){return t.isVBind()?e+"[".concat(t.attrValue,"]"):e+"."+t.attrValue}n.r(t),t["default"]={id:"a-form-item",name:"表单项",eventTypes:[],type:["container","form-item"],slots:[{slot:"default",name:"内容",rules:{type:/^(input|button|container)$/}},{slot:"label",name:"标签",selector:".ant-form-item-label"}],props:{name:{label:"字段名",editors:"string",change:function(e,t,n){var o=n.closest("a-form"),i=n.findChild(".input");if(i&&o){var a=o.getAttrValue(":model");if(a){var c=i.getConfig("vModel",[]),l=r(c,1),s=l[0];if(s){var d="v-model";s&&(d+=":"+s);var f="",p=e&&e.attrValue;p&&(f=u(a,e)),i.setAttrValue(d,f)}}}}},label:{label:"标签文本",editors:"string"},labelAlign:{label:"标签对齐方式",editors:"radio-group?@items=left:左|right:右"},labelCol:{label:"标签布局",editors:"col"},wrapperCol:{label:"控件布局",editors:"col"},rules:{label:"验证规则",editors:"validator"},help:{label:"提示信息",editors:"string"},extra:{label:"额外提示信息",editors:"string"},colon:{label:"标签冒号",editors:"boolean?defaultValue=true"},required:{label:"是否必填",editors:"boolean"}}}},b7b3:function(e,t,n){},bbbb:function(e,t,n){"use strict";n.r(t);var r=n("4499");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t["default"]={id:"a-month-picker",name:"月份选择框",type:["input","month-picker"],eventTypes:[{id:"change",name:"值改变"}],slots:[],props:i({value:{label:"值",editors:"string"}},r["a"].getProps()),vModel:["value"]}},beed:function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-checkbox-group",name:"复选框组",eventTypes:[{id:"change",name:"值改变"}],slots:[{slot:"label",name:"复选框标签"}],type:["input","checkbox-group"],props:{value:{label:"默认值"},options:{label:"选项",editors:{name:"选项",type:"array",props:{keyName:"value",fields:[{name:"value",label:"选项值"},{name:"label",label:"选项文本"},{name:"disabled",label:"禁用",type:"boolean"}]}}},disabled:{label:"禁用",editors:"boolean"},name:{label:"名称",editors:"string"}},vModel:["value"],optionEditor:{title:"复选框选项",tag:"a-checkbox",getData:function(e){return{value:e.getAttrValue("value"),label:e.getText()}},setData:function(e,t){e.setAttrValue("value",t.value),e.setText(t.label)}},vucProxyOption:{onBeforeRender:function(e,t){e.dfs((function(e){t.cancelOutline(e)}))}}}},bf67:function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-card",name:"卡片",eventTypes:[{id:"tabChange",name:"页签切换"}],type:["panel","card"],slots:[{slot:"default",name:"卡片内容"},{slot:"title",name:"卡片标题"},{slot:"extra",name:"额外内容"},{slot:"cover",name:"卡片封面"},{slot:"actions",name:"卡片操作组"},{slot:"tabBarExtraContent",name:"标签页额外内容"}],props:{title:{label:"标题",editors:"string",help:"标题"},size:{label:"尺寸",editors:"select?@items=default|small"},type:{label:"类型",editors:"select?@items=inner|:default"},bordered:{label:"边框",editors:"boolean?defaultValue=true"},extra:{label:"额外内容",editors:"string"},headStyle:{label:"标题区样式"},bodyStyle:{label:"内容区样式"},hoverable:{label:"悬浮",editors:"boolean",help:"鼠标移过时可浮起"},loading:{label:"加载中",editors:"boolean",help:"当卡片内容还在加载中时，可以用 loading 展示一个占位"},tabList:{label:"标签页"},activeTabKey:{label:"激活标签页",editors:"string"},defaultActiveTabKey:{label:"默认激活标签页",editors:"string",helper:"初始化选中页签的 key，如果没有设置 activeTabKey"}}}},cf63:function(e,t,n){"use strict";n.r(t);var r=n("ddfa");t["default"]={id:"a-input-number",name:"数字框",type:["input","input-number"],eventTypes:[{id:"change",name:"值改变"},{id:"pressEnter",name:"按下回车"}],slots:[],props:{value:{label:"值",editors:"string"},defaultValue:{label:"默认值",editors:"string"},step:{label:"步长",editors:"number"},precision:{label:"数值精度",editors:"number"},decimalSeparator:{label:"小数点",editors:"string"},size:{label:"尺寸",editors:Object(r["a"])()},disabled:{label:"禁用",editors:"boolean"},max:{label:"最大值",editors:"number"},min:{label:"最小值",editors:"number"},formatter:{label:"格式化"},parser:{label:"解析器"}},vModel:["value"]}},d4c6:function(module,__webpack_exports__,__webpack_require__){"use strict";var ant_design_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b558"),ant_design_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("9839");function isNumber(e){return/^\-?[0-9]+\.?[0-9]*$/.test(e)}__webpack_exports__["a"]={inject:["$designer"],components:{Input:ant_design_vue__WEBPACK_IMPORTED_MODULE_0__["a"],Select:ant_design_vue__WEBPACK_IMPORTED_MODULE_1__["d"],SelectOption:ant_design_vue__WEBPACK_IMPORTED_MODULE_1__["b"]},emits:"update:value",props:{value:String},data:function(){return{inputValue:{},type:"col"}},watch:{value:{handler:function handler(v){if(v)try{var col=eval("( ".concat(v," )"));col.span?(this.type="col",this.inputValue.col=col.span):col.flex&&(this.type="flex",this.inputValue.flex=col.flex)}catch(e){console.log(e)}},immediate:!0}},methods:{onChange:function(){var e="";if(this.inputValue[this.type])if("flex"==this.type){var t=isNumber(this.inputValue.flex)?this.inputValue.flex:"'".concat(this.inputValue.flex,"'");e="{ flex: ".concat(t," }")}else"col"==this.type&&(e="{ span: ".concat(this.inputValue.col," }"));this.$emit("update:value",e)}},editorConfig:{id:"col",dataType:"object",name:"栅格"}}},ddfa:function(e,t,n){"use strict";function r(){return{name:"选项",type:"radio-group",props:{items:[{value:"large",label:"大"},{value:"default",label:"中"},{value:"small",label:"小"}]}}}n.d(t,"a",(function(){return r}))},de00:function(e,t,n){"use strict";n.r(t);var r=n("ddfa");t["default"]={id:"a-input",name:"输入框",type:["input"],eventTypes:[{id:"change",name:"值改变"},{id:"pressEnter",name:"按下回车"}],slots:[{slot:"prefix",name:"前缀图标"},{slot:"suffix",name:"后缀图标"},{slot:"addonBefore",name:"前置标签"},{slot:"addonAfter",name:"后置标签"}],props:{value:{label:"值",editors:"string"},defaultValue:{label:"默认值",editors:"string"},size:{label:"尺寸",editors:Object(r["a"])()},type:{label:"类型",editors:"select?@items=text|password|url|email|date|number|tel"},allowClear:{label:"清空按钮",editors:"boolean"},placeholder:{label:"占位文本\t",editors:"string"},disabled:{label:"禁用",editors:"boolean"},readonly:{label:"只读",editors:"boolean"},maxlength:{label:"最大输入长度",editors:"number"},prefix:{label:"前缀",editors:"string"},suffix:{label:"后缀",editors:"string"}},vModel:["value"],antIcon:[{label:"前缀图标",slot:"prefix"},{label:"后缀图标",slot:"suffix"}]}},e35a:function(e,t,n){"use strict";n.r(t);var r=n("7a23");function o(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("FormDesigner");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{formExplorerComponents:i.formExplorerComponents},null,8,["formExplorerComponents"])}n("202f"),n("2218"),n("af01");var i=n("e41d"),a=n("9b8a"),c=n("01d9");function l(e){return e.keys().map((function(t){return e(t).default}))}var u=l(a),s=l(c);function d(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("SampleNodePanel"),l=Object(r["resolveComponent"])("FormMode"),u=Object(r["resolveComponent"])("SampleCard"),s=Object(r["resolveComponent"])("PanelView"),d=Object(r["resolveComponent"])("SampleOptionPanel"),f=Object(r["resolveComponent"])("SampleDesigner");return Object(r["openBlock"])(),Object(r["createBlock"])(f,{style:{height:"100%"},editorOptions:n.editorOptions,explorerComponents:i.explorerComponents,"vue-content":n.vueContent},{right:Object(r["withCtx"])((function(e){var t=e.vucAst,n=e.selectNode;return[Object(r["createVNode"])(c,{title:"组件选项",vucAst:t,selectNode:n},null,8,["vucAst","selectNode"]),Object(r["createVNode"])(s,{title:"表单选项"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{title:"常规选项"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{"vuc-ast":t},null,8,["vuc-ast"])]})),_:2},1024)]})),_:2},1024),Object(r["createVNode"])(d,{title:"页面选项"})]})),_:1},8,["editorOptions","explorerComponents","vue-content"])}var f=Object(r["createTextVNode"])("简单模式"),p=Object(r["createTextVNode"])("栅格模式");function h(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("SelectOption"),l=Object(r["resolveComponent"])("Select"),u=Object(r["resolveComponent"])("Item"),s=Object(r["resolveComponent"])("PropsPanel");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,{title:"模式"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{value:i.type,"onUpdate:value":t[0]||(t[0]=function(e){return i.type=e}),onChange:a.changeType,style:{width:"100%"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{value:"FormItem"},{default:Object(r["withCtx"])((function(){return[f]})),_:1}),Object(r["createVNode"])(c,{value:"GridFormItem"},{default:Object(r["withCtx"])((function(){return[p]})),_:1})]})),_:1},8,["value","onChange"])]})),_:1}),"GridFormItem"==i.type?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,title:"栅格占位格数"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{value:i.span,"onUpdate:value":t[1]||(t[1]=function(e){return i.span=e}),options:i.spanList,onChange:a.changeSpan,style:{width:"100%"}},null,8,["value","options","onChange"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(s,{"vuc-node":a.formNode},null,8,["vuc-node"])],64)}var v=n("9839");function m(e){return j(e)||O(e)||y(e)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function O(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function j(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k={name:"FormMode",components:{PropsPanel:i["PropsPanel"],Item:i["Item"],Select:v["d"],SelectOption:v["b"]},props:{vucAst:Object},data:function(){for(var e=[],t=1;t<=24;t++)e.push({value:t+""});return{type:"",span:12,spanList:e}},computed:{formNode:function(){return this.vucAst.querySelector("a-form")}},watch:{vucAst:{handler:function(e){var t={FormItem:0,GridFormItem:0},n={};e.combos.forEach((function(e){if(t[e.comboType.id]++,"GridFormItem"===e.comboType.id){var r,o,i=null===(r=e.getNode("col"))||void 0===r||null===(o=r.getBind("span"))||void 0===o?void 0:o.getAttrValue();n[i]=(n[i]||0)+1}}));var r=0;for(var o in n)n[o]>r&&(r=n[o],this.span=o);this.type=t.GridFormItem>t.FormItem?"GridFormItem":"FormItem"},immediate:!0}},methods:{changeType:function(){"FormItem"===this.type?this.changeToFormItem():this.changeToGridFormItem()},changeToFormItem:function(){var e=new WeakMap,t=[],n=[];this.vucAst.combos.forEach((function(r){if("GridFormItem"===r.comboType.id){var o,i=r.rootNode.parent,a=e.get(i);null==a&&(t.push(i),a=[],e.set(i,a)),(o=a).splice.apply(o,[a.length,0].concat(m(r.rootNode.children))),n.push(r.rootNode)}})),t.forEach((function(t){t.insertAfter(e.get(t))})),n.forEach((function(e){return e.remove()})),t.forEach((function(e){e.isEmpty()&&e.remove()}))},changeToGridFormItem:function(){var e=new WeakMap,t=[];this.vucAst.combos.forEach((function(n){if("FormItem"===n.comboType.id){var r=n.rootNode.parent,o=e.get(r);null==o&&(t.push(r),o=[],e.set(r,o)),o.push(n.rootNode)}})),t.forEach((function(t){var n=Object(i["createVucNode"])('<a-row type="flex"></a-row>'),r=e.get(t);r[0].insertBefore(n);var o=r.map((function(e){var t=Object(i["createVucNode"])('<a-col :span="12"></a-col>');return t.appendNode(e),t}));n.appendNode(o)}))},changeSpan:function(){var e=this;this.vucAst.combos.forEach((function(t){"GridFormItem"===t.comboType.id&&t.getNode("col").setAttrValue(":span",e.span)}))}}};k.render=h;var C=k,x=C;function w(){var e={title:"基础",children:[{title:"按钮",node:"<a-button>按钮</a-button>"},{title:"div",node:'<div style="min-height: 20px;"></div>'}]},t={title:"布局",children:[{title:"栅格行",node:'<a-row type="flex"></a-row>'},{title:"栅格列",node:'<a-col :span="12"></a-col>'},{title:"卡片",node:'<a-card title="基础信息"></a-card>'},{title:"标签页",node:'<a-tabs><a-tab-pane tab="标签页1" key="pane1"></a-tab-pane> <a-tab-pane tab="标签页2" key="pane2"></a-tab-pane> </a-tabs>'},{title:"表单项",node:'<a-form-item label="表单项"></a-form-item>'}]},n=JSON.stringify([{value:"1",label:"选项1"},{value:"2",label:"选项2"}]).replace(/"/g,"'"),r=[{title:"输入框",tag:"a-input",node:"<a-input></a-input>"},{title:"文本域",tag:"a-textarea",node:"<a-textarea></a-textarea>"},{title:"下拉框",tag:"a-select",node:'<a-select :options="'.concat(n,'"/>')},{title:"单选框",tag:"a-radio-group",node:'<a-radio-group :options="'.concat(n,'"/>')},{title:"复选框",tag:"a-checkbox-group",node:'<a-checkbox-group :options="'.concat(n,'"/>')},{title:"自动补全框",tag:"a-auto-complete",node:"<a-auto-complete/>"},{title:"级联选择",tag:"a-cascader",node:"<a-cascader/>"},{title:"日期选择框",tag:"a-date-picker",node:'<a-date-picker format="YYYY-MM-DD" valueFormat="YYYY-MM-DD"/>'},{title:"日期区间框",tag:"a-range-picker",node:'<a-range-picker format="YYYY-MM-DD" valueFormat="YYYY-MM-DD"/>'},{title:"月份选择框",tag:"a-month-picker",node:'<a-month-picker format="YYYY-MM" valueFormat="YYYY-MM"/>'},{title:"星期选择框",tag:"a-week-picker",node:'<a-week-picker format="YYYY-wo" valueFormat="YYYY-wo"/>'},{title:"数字输入框",tag:"a-input-number",node:"<a-input-number/>"},{title:"密码框",tag:"a-input-password",node:"<a-input-password/>"},{title:"搜索框",tag:"a-input-search",node:"<a-input-search/>"},{title:"评分",tag:"a-rate",node:"<a-rate/>"},{title:"滑块",tag:"a-slider",node:"<a-slider/>"},{title:"开关",tag:"a-switch",node:"<a-switch/>"}],o={title:"数据录入",children:r.map((function(e){return{title:e.title,tag:function(t){var n=t.parentNode,r=t.targetNode;if(n)return"a-row"===n.tag?"a-col":"a-form"===n.tag||"a-col"===n.tag&&n.isEmpty()||"a-form-item"===(null===r||void 0===r?void 0:r.tag)&&!r.isEmpty()?"a-form-item":"a-form-item"!==n.tag?e.tag:void 0},node:function(t){var n=t.parentNode,r=t.targetNode,o=t.dblClick;if(n){var i='<a-col :span="12"><a-form-item label="'.concat(e.title,'">').concat(e.node,"</a-form-item></a-col>");if("a-row"===n.tag)return i;var a='<a-form-item label="'.concat(e.title,'">').concat(e.node,"</a-form-item>");return"a-form"===n.tag||"a-col"===n.tag&&n.isEmpty()||"a-form-item"===(null===r||void 0===r?void 0:r.tag)&&!r.isEmpty()?a:o&&"a-form-item"===n.tag?n.isEmpty()?e.node:a:void 0}}}}))};return[e,t,o]}var N={components:{FormMode:x,SampleCard:i["SampleCard"],SampleNodePanel:i["SampleNodePanel"],SampleOptionPanel:i["SampleOptionPanel"],SampleDesigner:i["SampleDesigner"],PanelView:i["PanelView"]},props:{vueContent:{type:String,default:function(){return'<template> <a-form :model="formData" :labelCol="{ span: 4 }"></a-form> </template><script> export default {data(){return {formData:{}}}} <\/script>'}},formExplorerComponents:{type:Array,default:function(){return w()}},editorOptions:{type:Object}},data:function(){return{explorerComponents:[]}},watch:{formExplorerComponents:{immediate:!0,handler:function(){this.explorerComponents=this.formExplorerComponents}}}};n("11ed");N.render=d;var S=N,E=S,V=Object(r["createTextVNode"])("栅格(col)"),B=Object(r["createTextVNode"])("弹性(flex)");function P(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("SelectOption"),l=Object(r["resolveComponent"])("Select"),u=Object(r["resolveComponent"])("Input");return Object(r["openBlock"])(),Object(r["createBlock"])(u,{value:i.inputValue[i.type],"onUpdate:value":t[1]||(t[1]=function(e){return i.inputValue[i.type]=e}),onBlur:a.onChange},{addonBefore:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{value:i.type,"onUpdate:value":t[0]||(t[0]=function(e){return i.type=e}),style:{width:"100px"},onChange:a.onChange},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{value:"col"},{default:Object(r["withCtx"])((function(){return[V]})),_:1}),Object(r["createVNode"])(c,{value:"flex"},{default:Object(r["withCtx"])((function(){return[B]})),_:1})]})),_:1},8,["value","onChange"])]})),_:1},8,["value","onBlur"])}var I=n("d4c6");I["a"].render=P;var _=I["a"],T=_,A=["onClick"],D=Object(r["createTextVNode"])(" 添加规则 ");function M(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("Tag"),l=Object(r["resolveComponent"])("CloseOutlined"),u=Object(r["resolveComponent"])("RuleForm"),s=Object(r["resolveComponent"])("Modal"),d=Object(r["resolveComponent"])("PlusOutlined"),f=Object(r["resolveComponent"])("Button");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(i.rules,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"vuc-valid-item",key:t},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(a.getSubRule(e),(function(e,n){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:t+n},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e),1)]})),_:2},1024)})),128)),Object(r["createElementVNode"])("span",{onClick:function(n){return a.editRule(e,t)},style:{cursor:"pointer",color:"#ff4d4f"}},Object(r["toDisplayString"])(e.message),9,A),Object(r["createVNode"])(l,{class:"vuc-valid-close-btn",onClick:function(t){return a.removeRule(e)},style:{}},null,8,["onClick"])])})),128)),Object(r["createVNode"])(s,{visible:i.modalState,"onUpdate:visible":t[0]||(t[0]=function(e){return i.modalState=e}),title:"规则维护",width:"700px",onOk:a.saveRule},{default:Object(r["withCtx"])((function(){return[i.rule?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,rule:i.rule},null,8,["rule"])):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["visible","onOk"]),Object(r["createVNode"])(f,{onClick:a.addRule,type:"dashed",block:"",size:"small",style:{"margin-top":"8px"}},{icon:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d)]})),default:Object(r["withCtx"])((function(){return[D]})),_:1},8,["onClick"])])}var F=n("5efb"),$=n("ed3b"),R=n("7571"),L=n("47ce"),U=n("a878"),z=n("8de4"),K=Object(r["createTextVNode"])("改变值"),q=Object(r["createTextVNode"])("失去焦点"),H=Object(r["createTextVNode"])("必填"),W=Object(r["createTextVNode"])("类型"),Y=Object(r["createTextVNode"])("范围"),G=Object(r["createTextVNode"])(" - "),X=Object(r["createTextVNode"])("长度"),J=Object(r["createTextVNode"])("正则");function Z(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("Input"),l=Object(r["resolveComponent"])("FormItem"),u=Object(r["resolveComponent"])("SelectOption"),s=Object(r["resolveComponent"])("Select"),d=Object(r["resolveComponent"])("Checkbox"),f=Object(r["resolveComponent"])("Switch"),p=Object(r["resolveComponent"])("InputNumber"),h=Object(r["resolveComponent"])("CodeEditor"),v=Object(r["resolveComponent"])("Form");return Object(r["openBlock"])(),Object(r["createBlock"])(v,{"label-width":{style:{width:"100px"}},"wrapper-col":{flex:1}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{label:"错误信息"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{value:n.rule.message,"onUpdate:value":t[0]||(t[0]=function(e){return n.rule.message=e}),allowClear:"",placeholder:"请输入错误信息"},null,8,["value"])]})),_:1}),Object(r["createVNode"])(l,{label:"验证时机"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{value:n.rule.trigger,"onUpdate:value":t[1]||(t[1]=function(e){return n.rule.trigger=e}),allowClear:"",style:{width:"170px"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{value:"change"},{default:Object(r["withCtx"])((function(){return[K]})),_:1}),Object(r["createVNode"])(u,{value:"blur"},{default:Object(r["withCtx"])((function(){return[q]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(r["createVNode"])(l,null,{label:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{checked:n.rule.state.required,"onUpdate:checked":t[2]||(t[2]=function(e){return n.rule.state.required=e})},{default:Object(r["withCtx"])((function(){return[H]})),_:1},8,["checked"])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{checked:n.rule.required,"onUpdate:checked":t[3]||(t[3]=function(e){return n.rule.required=e}),"checked-children":"是","un-checked-children":"否"},null,8,["checked"])]})),_:1}),Object(r["createVNode"])(l,null,{label:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{checked:n.rule.state.type,"onUpdate:checked":t[4]||(t[4]=function(e){return n.rule.state.type=e})},{default:Object(r["withCtx"])((function(){return[W]})),_:1},8,["checked"])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{value:n.rule.type,"onUpdate:value":t[5]||(t[5]=function(e){return n.rule.type=e}),style:{width:"170px"},clearable:""},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(i.types,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:t,value:t},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(r["createVNode"])(l,null,{label:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{checked:n.rule.state.range,"onUpdate:checked":t[6]||(t[6]=function(e){return n.rule.state.range=e})},{default:Object(r["withCtx"])((function(){return[Y]})),_:1},8,["checked"])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{value:n.rule.min,"onUpdate:value":t[7]||(t[7]=function(e){return n.rule.min=e})},null,8,["value"]),G,Object(r["createVNode"])(p,{value:n.rule.max,"onUpdate:value":t[8]||(t[8]=function(e){return n.rule.max=e})},null,8,["value"])]})),_:1}),Object(r["createVNode"])(l,null,{label:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{checked:n.rule.state.len,"onUpdate:checked":t[9]||(t[9]=function(e){return n.rule.state.len=e})},{default:Object(r["withCtx"])((function(){return[X]})),_:1},8,["checked"])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{value:n.rule.len,"onUpdate:value":t[10]||(t[10]=function(e){return n.rule.len=e})},null,8,["value"])]})),_:1}),Object(r["createVNode"])(l,null,{label:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{checked:n.rule.state.pattern,"onUpdate:checked":t[11]||(t[11]=function(e){return n.rule.state.pattern=e})},{default:Object(r["withCtx"])((function(){return[J]})),_:1},8,["checked"])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{value:n.rule.pattern,"onUpdate:value":t[12]||(t[12]=function(e){return n.rule.pattern=e}),inline:"",style:{width:"100%"}},null,8,["value"])]})),_:1})]})),_:1})}var Q=n("3af3"),ee=n("322e"),te=n("bb76"),ne=n("09d9"),re=n("b558"),oe=n("160c"),ie={string:"文本",number:"数字",url:"url",email:"email",integer:"整数",float:"浮点数",array:"数组",enum:"枚举",boolean:"布尔",object:"对象",method:"函数",regexp:"正则",date:"日期",hex:"16进制"},ae={type:function(e){return ie[e.type]},required:function(e){return"必填"},range:function(e){return"范围(".concat(e.min,"-").concat(e.max,")")},len:function(e){return"长度(".concat(e.len,")")},pattern:function(e){return"正则"}};function ce(e){return"number"==typeof e}var le={type:function(e){return!!e.type},required:function(e){return!!e.required},range:function(e){return ce(e.min)||ce(e.max)},len:function(e){return ce(e.len)},pattern:function(e){return!!e.pattern}};function ue(e){for(var t in le){var n=le[t];e.state=e.state||{},e.state[t]=n(e)}return e}function se(e){var t=[];for(var n in e.state){var r=e.state[n];r&&t.push(ae[n](e))}return t}var de={name:"RuleForm",components:{CodeEditor:i["CodeEditor"],Form:Q["a"],FormItem:ee["a"],Checkbox:te["a"],InputNumber:ne["a"],Select:v["d"],SelectOption:v["b"],Input:re["a"],Switch:oe["a"]},props:{rule:Object},data:function(){return{types:ie}},mounted:function(){var e=this,t={min:"range",max:"range",len:"len",type:"type",required:"required",pattern:"pattern"},n=function(n){var r=t[n];e.$watch("rule.".concat(n),(function(){e.rule.state[r]=!0}))};for(var r in t)n(r)}};de.render=Z;var fe=de,pe={inject:["$designer"],props:{value:String,type:{type:String,default:"form-item"}},components:{RuleForm:fe,PlusOutlined:L["a"],CloseOutlined:U["a"],Button:F["a"],Modal:$["a"],Tag:R["a"]},data:function(){return{modalState:!1,rules:[],rule:null}},watch:{value:{handler:function(){this.initRules()},immediate:!0}},methods:{initRules:function(){if(this.val!=this.value){try{this.rules=new Function("return ".concat(this.value)).call().map(this.parseRule)}catch(e){console.error(e),this.rules=[]}this.val=i["esprimaHelper"].formatCode(this.value)}},parseRule:function(e){return e=Object.assign({state:{},required:!1},e),ue(e),e},getSubRule:function(e){return se(e)},addRule:function(){this.modalState=!0,this.index=-1,this.rule=this.parseRule({})},editRule:function(e,t){this.modalState=!0,this.index=t,this.rule=Object.assign({},e,{state:Object.assign({},e.state)})},removeRule:function(e){var t=this.rules.indexOf(e);this.rules.splice(t,1),this.updateRules()},saveRule:function(){this.modalState=!1,-1==this.index?(this.rules.push(this.rule),this.rule=null):this.rules.splice(this.index,1,this.rule),this.updateRules()},updateRules:function(){var e=JSON.stringify(this.rules.map((function(e){return Object(z["a"])(e,(function(t,n){return"state"==n||null==t||!1===e.state[n]}))}))).replace(/"/g,"'");this.$emit("update:value",e)}},editorConfig:{id:"validator",dataType:"object",name:"验证"}};n("3b36");pe.render=M;var he=pe,ve=he,me=n("f23d");function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t,n,o,i,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("button",null,Object(r["toDisplayString"])(n.text),1)}i["Configurator"].registerValueEditor(T.editorConfig.id,ye(ye({},T.editorConfig),{},{Editor:T})),i["Configurator"].registerValueEditor(ve.editorConfig.id,ye(ye({},ve.editorConfig),{},{Editor:ve})),i["Configurator"].setVucProxyHooks("onCreatedApp",(function(e){return e.use(me["default"])})),u.forEach(i["Configurator"].setVucConfig),s.forEach(i["Configurator"].registerComboType);var ge={props:["text"]};ge.render=je;var ke=ge;function Ce(e){return Se(e)||Ne(e)||we(e)||xe()}function xe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function we(e,t){if(e){if("string"===typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}function Ne(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Se(e){if(Array.isArray(e))return Ee(e)}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}i["Configurator"].setVucConfig({id:"demo-button",props:{text:{label:"按钮标签",editors:"string"}}}),i["Configurator"].setVucProxyHooks("onCreatedApp",(function(e){return e.component("DemoButton",ke)}));var Ve={components:{FormDesigner:E},data:function(){return{formExplorerComponents:[].concat(Ce(w()),[{title:"自定义组件",children:[{title:"测试按钮",node:'<demo-button text="按钮"></demo-button>'}]}])}}};Ve.render=o;var Be=Ve;Object(r["createApp"])(Be).mount("#app")},e41d:function(e,t,n){(function(e){var r,o,i;function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}(function(n,c){"object"===a(t)&&"object"===a(e)?e.exports=c():(o=[],r=c,i="function"===typeof r?r.apply(t,o):r,void 0===i||(e.exports=i))})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===a(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fae3")}({"04f1":function(e,t,n){"use strict";n("9845")},"0531":function(e,t){e.exports=n("85b1")},"08dc":function(e,t){e.exports=n("aedd")},"0c2b":function(e,t,n){"use strict";n("5e03")},"0c51":function(e,t,n){},"0e26":function(e,t,n){"use strict";n.r(t),n.d(t,"camelize",(function(){return d})),n.d(t,"capitalize",(function(){return f})),n.d(t,"kebabCase",(function(){return p})),n.d(t,"makeMap",(function(){return g})),n.d(t,"isArray",(function(){return k})),n.d(t,"isFunction",(function(){return C})),n.d(t,"isString",(function(){return x})),n.d(t,"isObject",(function(){return w})),n.d(t,"castArray",(function(){return N})),n.d(t,"someHandlerIsFalse",(function(){return v})),n.d(t,"parseComponentAndProps",(function(){return y})),n.d(t,"isIdentifier",(function(){return E})),n.d(t,"moveArrayItem",(function(){return b})),n.d(t,"parseProps",(function(){return O})),n.d(t,"parsePath",(function(){return j})),n.d(t,"formatComponentName",(function(){return h}));var r=n("cf9e");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){return s(e)||u(e,t)||c(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function s(e){if(Array.isArray(e))return e}function d(e){return e?e.replace(/-(\w)/g,(function(e,t){return t?t.toUpperCase():""})):e}function f(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(e){return e?e.charAt(0).toLowerCase()+e.substring(1).replace(/[A-Z]/g,(function(e){return e?"-"+e.toLowerCase():""})):e}function h(e){return p(e)}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.some((function(e){var t=e;return C(e)&&(t=e.apply(void 0,n)),!1===t}))}function m(e,t){return e.split(t||"|").map((function(e){var t=e.trim().split(":");return{value:t[0],label:t[1]||t[0]}}))}function b(e,t,n){var r=e[t];e.splice(t,1),t<n&&n--,e.splice(n,0,r)}function y(e){var t=e.split("?");return{id:t[0],props:O(t[1])}}function O(e){var t={};return e&&e.split("&").map((function(e){var n=e.split("="),o=i(n,2),a=o[0],c=o[1];a.startsWith("@")?(a=a.substring(1),c=m(c)):a.startsWith("#")&&(a=a.substring(1),Object(r["isNumberType"])(c)?c=parseFloat(c):Object(r["isBooleanType"])(c)&&(c="true"===c)),t[a]=c})),t}function j(e){var t,n,r,o,i;if(t=e.match(/(.*)\[(\d+)\]$/))n=t[1],r=+t[2],o=!0;else{var a=e.split(".");i=a.pop(),n=a.join(".")}return{parentPath:n,arrayIndex:r,isArray:o,id:i}}var g=function(e){var t={};return e.split(",").forEach((function(e){return t[e]=!0})),t},k=Array.isArray,C=function(e){return"function"===typeof e},x=function(e){return"string"===typeof e},w=function(e){return null!==e&&"object"===o(e)},N=function(e){return k(e)?e:[e]},S=g("abstract,arguments,boolean,break,byte,case,catch,char,class*,const,continue,debugger,default,delete,do,double,else,enum*,eval,export*,extends*,false,final,finally,float,for,function,goto,if,implements,import*,in,instanceof,int,interface,let,long,native,new,null,package,private,protected,public,return,short,static,super*,switch,synchronized,this,throw,throws,transient,true,try,typeof,var,void,volatile,while,with,yield"),E=function(e){return!S[e]&&/^[$_a-z][$_a-z0-9]*$/i.test(e)}},"0f9c":function(e,t){e.exports=n("4293")},"0fc0":function(e,t,n){"use strict";n("7bae")},"16d8":function(e,t,n){"use strict";n.r(t);var r=n("8bbf");function o(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("InputNumber");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{max:n.max,min:n.min,value:i.val,"onUpdate:value":t[0]||(t[0]=function(e){return i.val=e}),style:{width:"100%"}},null,8,["max","min","value"])}var i=n("4e72"),a=n("cf9e"),c={components:{InputNumber:i["InputNumber"]},props:{value:[Number,String],max:{type:Number},min:{type:Number}},emits:["update:value"],data:function(){return{val:null}},watch:{value:{handler:function(){this.val=Object(a["isNumberType"])(this.value)?parseFloat(this.value):null},immediate:!0},val:function(){this.$emit("update:value","number"==typeof this.val?this.val.toString():"")}},editorConfig:{id:"number",dataType:"number",name:"数字",validate:function(e){return Object(a["isNumberType"])(e)}}};c.render=o;t["default"]=c},"174f":function(e,t,n){"use strict";n.r(t);var r=n("8bbf");function o(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("Checkbox");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{checked:i.val,"onUpdate:checked":t[0]||(t[0]=function(e){return i.val=e})},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(i.val?n.trueText:n.falseText),1)]})),_:1},8,["checked"])}var i=n("4e72"),a={components:{Checkbox:i["Checkbox"]},props:{value:[String,Number,Boolean],trueValue:{type:[String,Number,Boolean],default:"true"},falseValue:{type:[String,Number,Boolean],default:"false"},trueText:{type:String,default:"是"},falseText:{type:String,default:"否"},defaultValue:String},emits:["update:value"],data:function(){return{val:!1}},watch:{value:{handler:function(e){var t;e=null!==(t=e)&&void 0!==t?t:this.defaultValue,this.val=e===this.trueValue},immediate:!0},val:function(){this.$emit("update:value",this.val?this.trueValue:this.falseValue)}},editorConfig:{id:"boolean",dataType:"boolean",name:"是否",validate:function(e){return"true"===e||"false"===e}}};a.render=o;t["default"]=a},"189e":function(e,t,n){},"18ee":function(e,t,n){"use strict";n("a2d2")},"1a8f":function(e,t,n){"use strict";n("aa71")},"1af5":function(e,t){e.exports=n("f94e")},"1e89":function(e,t,n){"use strict";n.r(t);var r=n("8bbf");function o(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("Select");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{value:i.val,"onUpdate:value":t[0]||(t[0]=function(e){return i.val=e}),style:{width:"100%"},options:n.items,allowClear:""},null,8,["value","options"])}var i=n("4e72"),a=n("59e9"),c={components:{Select:i["Select"]},props:{value:{type:String,default:""},items:Array},emits:["update:value"],data:function(){return{val:null}},watch:{value:{handler:function(){this.val=this.value.substring(1,this.value.length-1)},immediate:!0},val:function(){var e=void 0===this.val?"":"'".concat(this.val,"'");e!==this.value&&this.$emit("update:value",e)}},editorConfig:{id:"select",dataType:"string",name:"选项",validate:function(e,t){if(null!==t&&void 0!==t&&t.items)return e=Object(a["a"])(e),!!t.items.find((function(t){return t.value==e}))}}};c.render=o;t["default"]=c},"283b":function(e,t){e.exports=n("a809")},"2b65":function(e,t){e.exports=n("cbc8")},"2d3f":function(e,t,n){},"2df8":function(e,t,n){"use strict";n.r(t);var r=n("8bbf");function o(e,t,n,o,i,a){return Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(a.component),{value:i.val,"onUpdate:value":t[0]||(t[0]=function(e){return i.val=e}),allowClear:"",style:{width:"100%"},options:a.completeOptions,onBlur:a.changeValue,onSelect:a.changeValue,onPressEnter:a.blur,onSearch:a.onSearch,spellcheck:"false"},null,8,["value","options","onBlur","onSelect","onPressEnter","onSearch"])}var i=n("4e72"),a=n("cf9e"),c={props:{value:{type:String,default:""},items:[Array,Function]},emits:["update:value"],data:function(){return{val:null,options:[]}},computed:{component:function(){return this.items?i["AutoComplete"]:i["Input"]},completeOptions:function(){return Array.isArray(this.items)?this.items:this.options}},watch:{value:{handler:function(){this.val=this.value.substring(1,this.value.length-1)},immediate:!0}},methods:{blur:function(){var e=this.$el.querySelector("input")||this.$el;e.blur()},changeValue:function(){if(this.val!==this.value){var e="'".concat(this.val,"'");e!==this.value&&this.$emit("update:value",e)}},onSearch:function(e){"function"==typeof this.items&&(this.options=this.items.call(null,e))}},editorConfig:{id:"string",name:"字符串",dataType:"string",validate:function(e){return Object(a["isStringType"])(e)}}};c.render=o;t["default"]=c},"2f34":function(e,t,n){"use strict";n("3755")},"300c":function(e,t,n){"use strict";n("45ed")},3166:function(e,t){e.exports=n("8359")},3301:function(e,t,n){},3342:function(e,t){e.exports=n("6d78")},"34a2":function(e,t){e.exports=n("d69f")},3755:function(e,t,n){},"39d4":function(e,t,n){"use strict";n("9512")},"3a6d":function(e,t){e.exports=n("a2c1")},"3c9b":function(e,t,n){"use strict";n("7c98")},"3f65":function(e,t){e.exports=n("344f")},"42a3":function(e,t){e.exports=n("7b00")},"45ed":function(e,t,n){},"4e72":function(e,t){e.exports=n("f23d")},"50a1":function(e,t){e.exports=n("d3bd")},"51cc":function(e,t,n){},5629:function(e,t){e.exports=n("5bf8")},5981:function(e,t,n){"use strict";n("2d3f")},"59e9":function(e,t,n){"use strict";function r(e){return e?e.substring(1,e.length-1):""}n.d(t,"a",(function(){return r}))},"5bb9":function(e,t,n){"use strict";n("ac37")},"5e03":function(e,t,n){},"5e27":function(e,t,n){},6071:function(e,t,n){var r={"./ArrayEditor.vue":"8d6c","./BooleanEditor.vue":"174f","./ExpressionEditor.vue":"ce73","./NumberEditor.vue":"16d8","./RadioGroupEditor.vue":"cec0","./SelectEditor.vue":"1e89","./StringEditor.vue":"2df8"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="6071"},6369:function(e,t,n){},"63c4":function(e,t){e.exports=n("697e")},"67a7":function(e,t,n){"use strict";n("3301")},"6a19":function(e,t,n){"use strict";n("6369")},"6bf0":function(e,t,n){"use strict";n("0c51")},"79bb":function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return q})),n.d(t,"d",(function(){return Z})),n.d(t,"f",(function(){return U})),n.d(t,"e",(function(){return ie}));var r=n("8bbf");function o(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("TableColumn"),l=Object(r["resolveComponent"])("PlusOutlined"),u=Object(r["resolveComponent"])("EditOutlined"),s=Object(r["resolveComponent"])("DeleteOutlined"),d=Object(r["resolveComponent"])("Table");return Object(r["openBlock"])(),Object(r["createBlock"])(d,{"data-source":n.data,"row-key":n.rowKey,rowClassName:o.rowClassName,pagination:!1,transformCellText:a.transformCellText,customRow:o.customRow,defaultExpandedRowKeys:n.defaultExpandedRowKeys,size:"small",class:"vuc-code-table"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.columns,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(c,Object(r["mergeProps"])(e,{ellipsis:""}),null,16)})),256)),Object(r["createVNode"])(c,{width:"55px",align:"center"},{title:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{onClick:a.addItem},null,8,["onClick"])]})),default:Object(r["withCtx"])((function(e){var t=e.record;return[Object(r["createVNode"])(u,{onClick:Object(r["withModifiers"])((function(e){return a.clickItem(t)}),["stop"])},null,8,["onClick"]),Object(r["createVNode"])(s,{onClick:Object(r["withModifiers"])((function(e){return a.delItem(t)}),["stop"])},null,8,["onClick"])]})),_:1})]})),_:1},8,["data-source","row-key","rowClassName","transformCellText","customRow","defaultExpandedRowKeys"])}var i=n("4e72"),a=n("50a1"),c=n.n(a),l=n("b32c"),u=n.n(l),s=n("d64c"),d=n.n(s),f={components:{PlusOutlined:c.a,DeleteOutlined:u.a,EditOutlined:d.a,Table:i["Table"],TableColumn:i["TableColumn"]},emits:["click-item","delete-item","add-item","update:value"],props:{columns:{type:Array,default:function(){return[{dataIndex:"id",title:"标识符",code:!0,width:150},{dataIndex:"name",title:"名称"}]}},data:Array,rowKey:{type:String,default:"id"},mode:String,value:String,defaultExpandedRowKeys:Array},setup:function(e,t){var n=Object(r["toRefs"])(e),o=n.value,i=n.mode,a=n.rowKey;if("input"!=i.value)return{customRow:null,expandedRowKeys:null};var c=Object(r["ref"])(null),l=function(e){return{onClick:function(){u(e[a.value])}}},u=function(e){e===c.value?c.value=null:c.value=e,t.emit("update:value",c.value)};Object(r["watch"])(o,(function(e){c.value=e}),{immediate:!0});var s=function(e,t){var n=[];return t%2===1&&n.push("vuc-table-row-striped"),e[a.value]===c.value&&n.push("vuc-table-row-selected"),n};return{selectKey:c,customRow:l,rowClassName:s}},methods:{addItem:function(){this.$emit("add-item")},clickItem:function(e){this.$emit("click-item",e)},delItem:function(e){this.$emit("delete-item",e)},transformCellText:function(e){var t=e.text,n=e.column,r=e.record;return n.formatter?n.formatter(t,r):t}}};n("81f0");f.render=o;var p=f,h=p;function v(e,t,n,o,i,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:Object(r["normalizeClass"])(["vuc-codeeditor",{"vuc-codeeditor-inline":n.inline,"vuc-codeeditor-small":n.sm}])},null,2)}n("e5cc"),n("9d05"),n("63c4");var m=n("bf73"),b=n.n(m),y=(n("3342"),n("9bd9"),n("2b65"),n("08dc"),n("d31d"),n("8590"),n("0531")),O=n.n(y),j=n("0e26"),g={emits:["update:value","change","blur"],props:{value:String,hints:Array,width:[String,Number],height:{type:[String,Number],default:300},inline:Boolean,sm:{type:Boolean,default:!1}},data:function(){return{code:this.value}},watch:{value:{handler:function(){var e=this;this.value!==this.code&&(this.code=this.value,this.$nextTick((function(){e._setValue=!0,e.codeMirror.setValue(e.code||""),e.codeMirror.display.lastWrapHeight=0})))},immediate:!0},code:function(){this.code!==this.value&&this.$emit("update:value",this.code)}},mounted:function(){var e=this,t=this.inline?{lineNumbers:!1,lineWrapping:!0,viewportMargin:1/0}:{gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],foldGutter:!0};this.codeMirror=b()(this.$el,Object.assign({value:this.value||"",lineNumbers:!0,mode:"javascript",indentWithTabs:!1,autoCloseBrackets:!0,autoRefresh:!0,extraKeys:{"Alt-/":function(t){t.showHint({editor:e})},Tab:function(e){if(e.somethingSelected())e.indentSelection("add");else{var t=Array(e.getOption("indentUnit")+1).join(" ");e.replaceSelection(t)}},F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))}}},t)),this.codeMirror.setSize(this.width,this.inline?null:this.height),this.codeMirror.on("change",O()((function(){e._setValue?e._setValue=!1:(e.code=e.codeMirror.getValue(),e.$emit("change",e.code))}),100));var n="";this.codeMirror.on("focus",(function(){n=e.code})),this.codeMirror.on("blur",(function(){n!==e.code&&e.$emit("change",e.code),e.$emit("blur")})),this.codeMirror.on("beforeChange",(function(t,n){"+input"===n.origin&&e.inline&&2===n.text.length&&""===n.text.join("")&&(n.cancel(),t.getInputField().blur())}))},methods:{_getHint:function(e,t){var n;t=Object(j["castArray"])(t);var r=this.hints;while(n=t.pop()){var o=r.find((function(e){return e.id===n.string}));if(null==o)return;r=o.children}return r.filter((function(t){return t.id.startsWith(e.string)}))},getHint:function(e,t){return{list:this._getHint(e,t).map((function(e){return"method"===e.type?{text:"".concat(e.id,"()"),render:function(t){t.innerHTML='<span class="e-code-hintcode">'.concat(e.id,"(").concat(e.args.map((function(e){return e.req?e.id:"[".concat(e.id,"]")})).join(","),')</span><span class="e-code-hintdesc">').concat(e.desc||"","</span>")}}:{text:"".concat(e.id),render:function(t){t.innerHTML='<span class="e-code-hintcode">'.concat(e.id,'</span> <span class="e-code-hintdesc">').concat(e.desc||"","</span>")}}}))}},refresh:function(){this.codeMirror.refresh()}}};n("5bb9");g.render=v;var k=g,C=k;function x(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("TableEditor");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{columns:i.argsOption,value:n.value,"onUpdate:value":t[0]||(t[0]=function(e){return n.value=e}),rowKey:"id",size:"small",bordered:""},null,8,["columns","value"])}var w=n("f7b0"),N=n.n(w),S=n("0f9c"),E=n.n(S),V=n("3f65"),B=n.n(V);function P(e){return A(e)||T(e)||_(e)||I()}function I(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function A(e){if(Array.isArray(e))return D(e)}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function $(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(r["isVNode"])(e)}var R={components:{CheckOutlined:N.a,EditOutlined:d.a,DeleteOutlined:u.a,PlusOutlined:c.a,CloseOutlined:E.a,ExpandAltOutlined:B.a},emits:["change","update:value"],props:{isTreeData:Boolean,bordered:Boolean,block:Boolean,rowKey:String,columns:Array,size:String,value:Array,buttonText:{type:String,default:"添加"}},data:function(){return{selectedRowKeys:[],curEditRecord:null,editData:{}}},watch:{value:{immediate:!0,handler:function(e){null==e&&this.$emit("update:value",Object(r["toRefs"])([]))}}},methods:{addItem:function(e){if(null===this.curEditRecord||!1!==this.saveItem(this.curEditRecord)){var t={};e?(e.children=e.children||[],e.children.push(t)):this.value.push(t),this.changeEditItem(t),this.isAddNew=!0}},changeEditItem:function(e){this.curEditRecord=e,this.editData=Object.assign({},e),this.isAddNew=!1},saveItem:function(e){var t=this,n=[];this.columns.forEach((function(e){var r;e.validate&&(r=e.validate(t.editData[e.field]))&&n.push(r)}));var r=this.editData[this.rowKey];if(this.eachAllRows((function(e){return e!==t.curEditRecord&&e[t.rowKey]===r}))&&n.push("主键不能重复"),n.length)return n.forEach((function(e){return i["message"].error(e)})),!1;Object.assign(e,this.editData),this.$emit("change"),this.curEditRecord=null},cancelItem:function(){this.isAddNew&&this.deleteEditItem(this.curEditRecord),this.curEditRecord=null},deleteEditItem:function(e){var t=this.findRecord(e),n=t.parent,r=t.index;n.children.splice(r,1),this.$emit("change")},eachAllRows:function(e){var t=function t(n){return n.some((function(n){return!!e(n)||t(n.children||[])}))};return t(this.value)},findRecord:function(e){var t=function t(n){for(var r=0;r<n.children.length;r++){var o=n.children[r];if(o==e)return{parent:n,index:r,paths:[n]};if(o.children){var i=t(o);if(i)return i.paths.push(o),i}}};return t({children:this.value})},getColumns:function(){var e=this;return this.columns.map((function(t,n){var o={default:function(o){var a=o.text,c=o.record,l=t.editor;if("function"==typeof l&&(l=l.call(e,e.editData)),c===e.curEditRecord){var u,s="value",d=Object(r["createVNode"])(i["Input"],null,null),f=e.editData[t.field];"select"==l&&(d=Object(r["createVNode"])(Object(r["resolveComponent"])("Select"),null,null)),"number"==l&&(d=Object(r["createVNode"])(i["InputNumber"],null,null),f=parseFloat(f),f=isNaN(f)?0:f),"expr"==l&&(d=Object(r["createVNode"])(C,{inline:!0},null),f+=""),"boolean"==l&&(d=Object(r["createVNode"])(i["Checkbox"],null,null),s="checked",f=!!f),"object"==F(l)&&(d=l),e.editData[t.field]=f;var p=(u={},M(u,s,e.editData[t.field]),M(u,"onUpdate:".concat(s),(function(n){return e.editData[t.field]=n})),u),h="";return e.isTreeData&&0===n&&(h="width:auto"),Object(r["createVNode"])(d,Object(r["mergeProps"])(t.editorProps,p,{style:h}),null)}var v=a;if(t.formatter&&(v=t.formatter(a)),"select"==l){var m,b=null===(m=t.editorProps)||void 0===m?void 0:m.options.find((function(e){return e.value==a}));b&&(v=b.label)}else"boolean"==l&&(v=a?"是":"否");return v}};return Object(r["createVNode"])(i["TableColumn"],{title:t.title,width:t.width,dataIndex:t.field,ellipsis:!0,key:t.field},o)}))},getActionColumn:function(){var e=this,t={default:function(t){var n=t.record;return n===e.curEditRecord?Object(r["createVNode"])(i["Space"],null,{default:function(){return[Object(r["createVNode"])(N.a,{onClick:function(){return e.saveItem(n)}},null),Object(r["createVNode"])(E.a,{onClick:function(){return e.cancelItem(n)}},null)]}}):Object(r["createVNode"])(i["Space"],null,{default:function(){return[e.isTreeData?Object(r["createVNode"])(c.a,{onClick:function(){return e.addItem(n)}},null):null,Object(r["createVNode"])(d.a,{onClick:function(){return e.changeEditItem(n)}},null),Object(r["createVNode"])(u.a,{onClick:function(){return e.deleteEditItem(n)}},null)]}})}};return Object(r["createVNode"])(i["TableColumn"],{title:"操作",align:"center",width:this.isTreeData?70:50},t)}},render:function(){var e=this,t=10,n=null,o=null,a=function(t){if(null!==n&&n!==t){var r=e.findRecord(t);if(!r.paths.includes(n))return r}},l=function(n){var r=n.currentTarget.getBoundingClientRect();return e.isTreeData&&n.offsetY>t&&n.offsetY<r.height-t?0:n.offsetY>r.height/2?1:-1},u=function(t){return{draggable:"true",onDragstart:function(){o=document.createElement("div"),o.className="vuc-table-editor-drop-cursor";var e=function(){o.style.display="none"},r=function t(){n=null,document.body.removeChild(o),window.removeEventListener("dragover",e),window.removeEventListener("drop",t)};window.addEventListener("dragover",e),window.addEventListener("drop",r),n=t,document.body.appendChild(o)},onDragover:function(e){if(a(t)){var n=l(e),r=e.currentTarget.getBoundingClientRect();Object.assign(o.style,{display:"block",height:0===n?r.height+"px":"1px",width:r.width+"px",left:r.left+"px",top:(1==n?r.bottom:r.top)+"px"}),e.preventDefault(),e.stopPropagation()}},onDrop:function(r){var o=a(t);if(o){e.deleteEditItem(n);var i=l(r);if(0==i)t.children=t.children||[],t.children.push(n);else{var c=o.parent,u=c.children.indexOf(t);c.children.splice(1==i?u+1:u,0,n)}e.$emit("change")}r.preventDefault()},onClick:function(){e.selectedRowKeys=t[e.rowKey]}}},s=function(t,n){var r=[];return t[e.rowKey]===e.selectedRowKeys&&r.push("vuc-table-row-selected"),r},d=[].concat(P(this.getColumns()),[this.getActionColumn()]),f=void 0;return this.value.length>8&&(f={y:300}),Object(r["createVNode"])("div",{class:"vuc-table-editor"},[Object(r["createVNode"])(i["Table"],{bordered:this.bordered,dataSource:this.value,size:this.size,pagination:!1,rowClassName:s,scroll:f,rowKey:this.rowKey,customRow:u},$(d)?d:{default:function(){return[d]}}),Object(r["createVNode"])(i["Button"],{type:"dashed",block:this.block,onClick:function(){return e.addItem()},size:this.size,style:"margin-top: 8px"},{default:function(){return[e.buttonText]},icon:function(){return Object(r["createVNode"])(c.a,null,null)}})])}},L=(n("adfe"),R),U=L,z={props:{value:Array},components:{TableEditor:U},watch:{value:function(){this.$emit("update:value",this.value)}},data:function(){return{argsOption:[{title:"参数名",field:"id",width:140,validate:function(e){return Object(j["isIdentifier"])(e)?"":"".concat(e,"不符合javascript标识符规则")}},{title:"说明",field:"desc"},{title:"是否必填",field:"req",width:100,editor:"boolean"}]}}};z.render=x;var K=z,q=K,H={class:"vuc-ctxmenu"},W=["onClick","onMouseenter","onMouseleave"],Y=["innerHTML"];function G(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("ctxmenu");return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createElementBlock"])("ul",H,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(i.datas,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:Object(r["normalizeClass"])(["vuc-ctxmenu-item",{"vuc-ctxmenu-sub":e.children,"vuc-ctxmenu-divided":e.divided}]),key:e.text,onClick:Object(r["withModifiers"])((function(t){return a.click(t,e)}),["stop"]),onMouseenter:function(t){return e.show=!0},onMouseleave:function(t){return e.show=!1}},[Object(r["createElementVNode"])("span",{innerHTML:e.text},null,8,Y),e.children?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,items:e.children,show:e.show,"onUpdate:show":function(t){return e.show=t},class:"vuc-ctxmenu-submenu",onClickItem:t[0]||(t[0]=function(e){return a.clickSub(e)})},null,8,["items","show","onUpdate:show"])):Object(r["createCommentVNode"])("",!0)],42,W)})),128))],512)),[[r["vShow"],i.visible]])}var X={name:"ctxmenu",emits:["update:show","click-item"],props:["show","items"],data:function(){return{visible:this.show,datas:[]}},watch:{show:function(){this.visible=this.show,this.visible?document.addEventListener("click",this.addClickHandler):document.removeEventListener("click",this.addClickHandler)},items:{immediate:!0,handler:function(){this.datas=this.items.map((function(e){return e.children?Object.assign({show:!1},e):e}))}}},methods:{click:function(e,t){this.$emit("update:show",!1),this.$emit("click-item",Object.assign({event:e},t))},clickSub:function(e){this.$emit("update:show",!1),this.$emit("click-item",e)},addClickHandler:function(){this.$emit("update:show",!1)}}};n("0fc0");X.render=G;var J=X,Z=J,Q={class:"vuc-item"},ee={class:"vuc-item-header"},te={class:"vuc-item-body"};function ne(e,t,n,o,i,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Q,[Object(r["createElementVNode"])("div",ee,[Object(r["renderSlot"])(e.$slots,"title",{},(function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.title),1)]}))]),Object(r["createElementVNode"])("div",te,[Object(r["renderSlot"])(e.$slots,"default")])])}var re={props:{title:String}};n("18ee");re.render=ne;var oe=re,ie=oe},"7bae":function(e,t,n){},"7c98":function(e,t,n){},"81e8":function(e,t){e.exports=n("c6b9")},"81f0":function(e,t,n){"use strict";n("5e27")},8403:function(e,t,n){},8590:function(e,t){e.exports=n("f9d4")},"8bad":function(e,t){e.exports=n("830f")},"8bbf":function(e,t){e.exports=n("7a23")},"8d6c":function(e,t,n){"use strict";n.r(t);var r=n("8bbf");function o(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("table-editor");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{block:"",size:"small","button-text":"新增一项",isTreeData:n.isTreeData,rowKey:n.keyName,columns:a.columns,value:i.array,onChange:a.changeValue},null,8,["isTreeData","rowKey","columns","value","onChange"])}var i=n("79bb"),a=n("f04f"),c=n("cf9e");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{TableEditor:i["f"]},props:{isTreeData:Boolean,value:String,fields:Array,type:{type:String,default:"object"},keyName:{type:String,default:"id"}},inject:["$designer"],emits:["update:value"],data:function(){return{array:[],val:void 0}},computed:{columns:function(){return"object"!==this.type?[{title:"选项",field:this.keyName,type:this.type}]:this.fields.map((function(e){return{title:e.label,field:e.name,editor:e.type,width:"boolean"==e.type?50:null}}))}},watch:{value:{handler:function(){var e=this;if(this.val!=this.value){if(this.value){try{var t=new Function("return ".concat(this.value)).call();"object"!==this.type?this.array=t.map((function(t){return l({},e.keyName,t)})):this.array=t}catch(n){console.error(n)}this.val=this.getFormatCode()}this.array||(this.array=[])}},immediate:!0}},methods:{changeValue:function(){this.val=this.getFormatCode(),this.$emit("update:value",this.val)},getFormatCode:function(){var e=this,t=this.array;return"object"!==this.type&&(t=t.map((function(t){return t[e.keyName]}))),Object(a["jsonObjToCode"])(t)}},editorConfig:{id:"array",dataType:"object",name:"数组",validate:function(e){return Object(c["isArrayType"])(e)}}};u.render=o;t["default"]=u},9512:function(e,t,n){},9652:function(e,t,n){"use strict";n("189e")},9766:function(e,t,n){"use strict";n("f1b6")},9842:function(e,t,n){},9845:function(e,t,n){},"9a2f":function(e,t){e.exports=n("32e8")},"9bb0":function(e,t){e.exports=n("8875")},"9bd9":function(e,t){e.exports=n("4895")},"9c5f":function(e,t,n){},"9d05":function(e,t){e.exports=n("6a70")},a2d2:function(e,t,n){},a3c8:function(e,t){e.exports=n("2079")},a7ed:function(e,t,n){function r(e,t){for(var n=Object.create(null),r=e.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var o=function(e,t,n){return!1},i=r("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),a=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,c=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,l=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,u="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+a.source+"]*",s="((?:"+u+"\\:)?"+u+")",d=new RegExp("^<"+s),f=/^\s*(\/?)>/,p=new RegExp("^<\\/"+s+"[^>]*>"),h=/^<!DOCTYPE [^>]+>/i,v=/^<!\--/,m=/^<!\[/,b=r("script,style,textarea",!0),y={},O={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},j=/&(?:lt|gt|quot|amp|#39);/g,g=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,k=r("pre,textarea",!0),C=function(e,t){return e&&k(e)&&"\n"===t[0]};function x(e,t){var n=t?g:j;return e.replace(n,(function(e){return O[e]}))}function w(e,t){var n,r,a=[],u=t.expectHTML,s=t.isUnaryTag||o,O=t.canBeLeftOpenTag||o,j=0;while(e){if(n=e,r&&b(r)){var g=0,k=r.toLowerCase(),w=y[k]||(y[k]=new RegExp("([\\s\\S]*?)(</"+k+"[^>]*>)","i")),N=e.replace(w,(function(e,n,r){return g=r.length,b(k)||"noscript"===k||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),C(k,n)&&(n=n.slice(1)),t.chars&&t.chars(n),""}));j+=e.length-N.length,e=N,R(k,j-g,j)}else{var S=e.indexOf("<");if(0===S){if(v.test(e)){var E=e.indexOf("--\x3e");if(E>=0){t.shouldKeepComment&&t.comment(e.substring(4,E),j,j+E+3),M(E+3);continue}}if(m.test(e)){var V=e.indexOf("]>");if(V>=0){M(V+2);continue}}var B=e.match(h);if(B){M(B[0].length);continue}var P=e.match(p);if(P){var I=j;M(P[0].length),R(P[1],I,j);continue}var _=F();if(_){$(_),C(_.tagName,e)&&M(1);continue}}var T=void 0,A=void 0,D=void 0;if(S>=0){A=e.slice(S);while(!p.test(A)&&!d.test(A)&&!v.test(A)&&!m.test(A)){if(D=A.indexOf("<",1),D<0)break;S+=D,A=e.slice(S)}T=e.substring(0,S)}S<0&&(T=e),T&&M(T.length),t.chars&&T&&t.chars(T,j-T.length,j)}if(e===n){t.chars&&t.chars(e);break}}function M(t){j+=t,e=e.substring(t)}function F(){var t=e.match(d);if(t){var n,r,o={tagName:t[1],attrs:[],start:j};M(t[0].length);while(!(n=e.match(f))&&(r=e.match(l)||e.match(c)))r.start=j,M(r[0].length),r.end=j,o.attrs.push(r);if(n)return o.unarySlash=n[1],M(n[0].length),o.end=j,o}}function $(e){var n=e.tagName,o=e.unarySlash;u&&("p"===r&&i(n)&&R(r),O(n)&&r===n&&R(n));for(var c=s(n)||!!o,l=e.attrs.length,d=new Array(l),f=0;f<l;f++){var p=e.attrs[f],h=p[3]||p[4]||p[5]||"",v="a"===n&&"href"===p[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;d[f]={name:p[1],value:x(h,v)}}c||(a.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d,start:e.start,end:e.end}),r=n),t.start&&t.start(n,d,c,e.start,e.end)}function R(e,n,o){var i,c;if(null==n&&(n=j),null==o&&(o=j),e){for(c=e.toLowerCase(),i=a.length-1;i>=0;i--)if(a[i].lowerCasedTag===c)break}else i=0;if(i>=0){for(var l=a.length-1;l>=i;l--)t.end&&t.end(a[l].tag,n,o);a.length=i,r=i&&a[i-1].tag}else"br"===c?t.start&&t.start(e,[],!0,n,o):"p"===c&&(t.start&&t.start(e,[],!1,n,o),t.end&&t.end(e,n,o))}R()}var N=/\r?\n/g,S=/./g,E=r("script,style,template",!0);function V(e,t){void 0===t&&(t={});var n={template:null,script:null,styles:[],customBlocks:[],errors:[]},r=0,o=null,i=function(e){n.errors.push(e)};function a(e,t,i,a,l){0===r&&(o={type:e,content:"",start:l,attrs:t.reduce((function(e,t){var n=t.name,r=t.value;return e[n]=r||!0,e}),{})},E(e)?(c(o,t),"style"===e?n.styles.push(o):n[e]=o):n.customBlocks.push(o)),i||r++}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];"lang"===r.name&&(e.lang=r.value),"scoped"===r.name&&(e.scoped=!0),"module"===r.name&&(e.module=r.value||!0),"src"===r.name&&(e.src=r.value)}}function l(n,i){if(1===r&&o){o.end=i;var a=e.slice(o.start,o.end);"template"!==o.type&&t.pad&&(a=u(o,t.pad)+a),o.content=a,o=null}r--}function u(t,n){if("space"===n)return e.slice(0,t.start).replace(S," ");var r=e.slice(0,t.start).split(N).length,o="script"!==t.type||t.lang?"\n":"//\n";return Array(r).join(o)}return w(e,{warn:i,start:a,end:l,outputSourceRange:t.outputSourceRange}),n}t.parseHTML=w,t.parseComponent=V},aa71:function(e,t,n){},ac37:function(e,t,n){},addb:function(e,t){e.exports=n("06f2")},adfe:function(e,t,n){"use strict";n("b714")},b32c:function(e,t){e.exports=n("0803")},b3ab:function(e,t){e.exports=n("ec41")},b714:function(e,t,n){},bf73:function(e,t){e.exports=n("56b3")},c0a8:function(e,t,n){"use strict";n("8403")},c44b:function(e,t){e.exports=n("1151")},cb65:function(e,t){e.exports=n("d5e0")},ce73:function(e,t,n){"use strict";n.r(t);var r=n("8bbf");function o(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("code-editor");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{value:i.val,"onUpdate:value":t[0]||(t[0]=function(e){return i.val=e}),onChange:a.changeValue,inline:n.inline},null,8,["value","onChange","inline"])}var i=n("79bb"),a={components:{CodeEditor:i["b"]},props:{value:String,inline:{type:Boolean,default:!0}},emits:["update:value"],data:function(){return{val:this.value}},watch:{value:function(){this.val=this.value}},methods:{changeValue:function(){this.val!==this.value&&this.$emit("update:value",this.val)}},editorConfig:{id:"expression",dataType:"any",name:"表达式"}};a.render=o;t["default"]=a},cec0:function(e,t,n){"use strict";n.r(t);var r=n("8bbf");function o(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("RadioGroup");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{options:n.items,value:i.val,"onUpdate:value":t[0]||(t[0]=function(e){return i.val=e})},null,8,["options","value"])}var i=n("4e72"),a=n("59e9"),c={components:{RadioGroup:i["RadioGroup"]},props:{value:{type:String,default:""},items:Array},emits:["update:value"],data:function(){return{val:null}},watch:{value:{handler:function(){this.val=this.value.substring(1,this.value.length-1)},immediate:!0},val:function(){var e="'".concat(this.val,"'");e!==this.value&&this.$emit("update:value",e)}},editorConfig:{id:"radio-group",dataType:"string",name:"选项",validate:function(e,t){if(null!==t&&void 0!==t&&t.items)return e=Object(a["a"])(e),!!t.items.find((function(t){return t.value==e}))}}};c.render=o;t["default"]=c},cf9e:function(e,t,n){"use strict";n.r(t),n.d(t,"isStringType",(function(){return u})),n.d(t,"isNumberType",(function(){return i})),n.d(t,"isBooleanType",(function(){return a})),n.d(t,"isFunctionType",(function(){return d})),n.d(t,"isSimplePath",(function(){return s})),n.d(t,"isArrayType",(function(){return c})),n.d(t,"isObjectType",(function(){return l}));var r=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*(?:[\w$]+)?\s*\(/,o=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/;function i(e){return/^-?[0-9]+\.?[0-9]*$/.test(e)}function a(e){return"true"===e||"false"===e}function c(e){return e.startsWith("[")&&e.endsWith("]")}function l(e){return e.startsWith("{")&&e.endsWith("}")}function u(e){return e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")||e.startsWith("`")&&e.endsWith("`")}function s(e){return o.test(e)&&!a(e)}function d(e){return r.test(e)}},d31d:function(e,t){e.exports=n("f4ba")},d436:function(e,t){e.exports=n("693d")},d64c:function(e,t){e.exports=n("ca32")},d9e9:function(e,t){e.exports=n("9ff4")},e1ed:function(e,t){e.exports=n("ee51")},e445:function(e,t){e.exports=n("68c0")},e5cc:function(e,t){e.exports=n("a7be")},eaa4:function(e,t){e.exports=n("37a1")},ef6a:function(e,t){e.exports=n("5c8a")},f04f:function(e,t,n){"use strict";n.r(t),n.d(t,"parseModule",(function(){return c})),n.d(t,"parseScript",(function(){return l})),n.d(t,"parseExpression",(function(){return u})),n.d(t,"extractAnnotations",(function(){return s})),n.d(t,"fn2json",(function(){return d})),n.d(t,"genFunBodyCode",(function(){return f})),n.d(t,"updateProperty",(function(){return h})),n.d(t,"getFirstProperty",(function(){return v})),n.d(t,"astToCode",(function(){return p})),n.d(t,"jsonObjToCode",(function(){return m})),n.d(t,"formatCode",(function(){return b})),n.d(t,"getRemark",(function(){return y})),n.d(t,"objectExpr2JSON",(function(){return j})),n.d(t,"objectPropertyExpr2JSON",(function(){return O})),n.d(t,"getPropertyId",(function(){return g}));var r=n("1af5"),o=n("e445"),i=n.n(o);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e){return r["parseModule"](e,{range:!0,attachComment:!0})}function l(e){return r["parse"](e,{range:!0,attachComment:!0})}function u(e){e.trim().startsWith("{")&&(e="(".concat(e,")"));var t=l(e);if(t.body[0])return t.body[0].expression}function s(e){var t=[],n=[];function r(e){return t.find((function(t){return t.name==="@"+e}))}function o(e){return t.filter((function(t){return t.name==="@"+e}))}function i(){return o("param").map((function(e){var t=e.params[0],n=!t.startsWith("[");return{id:n?t:t.substring(1,t.length-1),req:n,desc:e.params[1]}}))}return null===e||void 0===e||e.forEach((function(e){e.value.split("\n").forEach((function(e){if(e=e.replace(/^[\s\*]*/,""),e.startsWith("@")){var r=e.split(/\s+/);t.push({name:r[0],params:r.slice(1)})}else e&&n.push(e)}))})),{remark:function(e){if(!e)return n.join("\n");n=e.split("\n")},filter:o,find:r,getParams:i,getAnnotations:function(){return t}}}function d(e){var t,n,r=s(e.leadingComments),o=r.find("name"),i=o?o.params[0]:"",a=r.getParams();if("FunctionExpression"===e.type)t=e,n=e.id;else{if("Property"!==e.type)throw Error();t=e.value,n=g(e)}var c=t.params.map((function(e){var t=a.find((function(t){return t.id==e.name}))||{};return{id:e.name,desc:t.desc,req:t.req}})),l=r.getAnnotations().filter((function(e){return"@param"!==e.name&&"@name"!==e.name})),u=r.remark();return{id:n,name:i,params:c,annotations:l,remark:u,code:f(t)}}function f(e){return e.body.body.map((function(e){return p(e)})).join("\n")}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{comment:!0},n=i.a.generate(e,t);return n}function h(e,t,n){var r=e.find((function(e){return g(e)==n}));if(r){var o=e.indexOf(r);return e.splice(o,1,t),o}return e.push(t),-1}function v(e){return"string"==typeof e&&(e=u(e)),e.properties[0]}function m(e){return p(u(JSON.stringify(e)))}function b(e){return p(l(e))}function y(e){var t=s(e.leadingComments);return t.remark()}function O(e,t,n){var r,o,i,c=s(e.leadingComments),l={},u=[];"Property"==e.type?(o=e.value,i=r=g(e),t&&(i=t+"."+i)):(o=e,r="[".concat(n,"]"),i="".concat(t,"[").concat(n,"]"));var d="expr";return"ObjectExpression"==o.type?(u=j(o,i),d="object"):"ArrayExpression"==o.type?(u=j(o,i),d="array"):"Literal"==o.type&&(d=a(o.value)),Object.assign(l,{id:r,name:c.remark(),value:o,path:i,type:d}),u.length&&(l.children=u),Object.defineProperty(l,"code",{get:function(){return p(this.value)}}),l}function j(e,t){return"ObjectExpression"==e.type?e.properties.map((function(e){return O(e,t)})):"ArrayExpression"==e.type?e.elements.map((function(e,n){return O(e,t,n)})):void 0}function g(e){return"Literal"==e.key.type?e.key.value:e.key.name}},f1b6:function(e,t,n){},f7b0:function(e,t){e.exports=n("eb2f")},fae3:function(e,t,n){"use strict";n.r(t),n.d(t,"Designer",(function(){return Gn})),n.d(t,"Editor",(function(){return Hn})),n.d(t,"ValueEditor",(function(){return ar})),n.d(t,"CodeList",(function(){return Ct["c"]})),n.d(t,"CodeEditor",(function(){return Ct["b"]})),n.d(t,"ArgumentTable",(function(){return Ct["a"]})),n.d(t,"ContextMenu",(function(){return Ct["d"]})),n.d(t,"TableEditor",(function(){return Ct["f"]})),n.d(t,"Item",(function(){return Ct["e"]})),n.d(t,"ExplorerView",(function(){return vr})),n.d(t,"DataPanel",(function(){return Wr})),n.d(t,"ComputedPanel",(function(){return so})),n.d(t,"MethodPanel",(function(){return So})),n.d(t,"WatchPanel",(function(){return Qo})),n.d(t,"HooksPanel",(function(){return li})),n.d(t,"TextPanel",(function(){return pi})),n.d(t,"PanelView",(function(){return yi})),n.d(t,"PropsPanel",(function(){return Li})),n.d(t,"PropItem",(function(){return Mi})),n.d(t,"DirectivePanel",(function(){return Oa})),n.d(t,"EventPanel",(function(){return Ga})),n.d(t,"QuickEventPanel",(function(){return ic})),n.d(t,"StylePanel",(function(){return gc})),n.d(t,"QuickStyleItem",(function(){return wc})),n.d(t,"ComboPanel",(function(){return al})),n.d(t,"ComboDrowdown",(function(){return sl})),n.d(t,"SfcEditor",(function(){return bl})),n.d(t,"SampleDesigner",(function(){return Tl})),n.d(t,"SampleNodePanel",(function(){return wl})),n.d(t,"SampleOptionPanel",(function(){return El})),n.d(t,"SampleCard",(function(){return Cl})),n.d(t,"Configurator",(function(){return oe})),n.d(t,"createVucAst",(function(){return ct})),n.d(t,"createVucNode",(function(){return J})),n.d(t,"esprimaHelper",(function(){return l})),n.d(t,"helpers",(function(){return Q}));var r={};if(n.r(r),n.d(r,"createVucNode",(function(){return J})),n.d(r,"isVucNode",(function(){return Z})),"undefined"!==typeof window){var o=window.document.currentScript,i=n("9bb0");o=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var a=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(n.p=a[1])}n("9c5f");var c=n("cf9e"),l=n("f04f"),u=n("0e26"),s={};function d(e){if(e)return s[e]||s[Object(u["formatComponentName"])(e)]}function f(e){Object(u["castArray"])(e.id).forEach((function(t){t=Object(u["formatComponentName"])(t),s[t]=e}))}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var m=function(){function e(t){p(this,e),Object.assign(this,t),this.relAttrName=this.getAttrName(),this.isVBind()&&this.arg&&(this.arg.content=Object(u["camelize"])(this.arg.content)),this.isStaticBind()&&(this.name=Object(u["camelize"])(this.name)),this.attrName=this.getAttrName(),this.attrValue=this.getAttrValue()}return v(e,[{key:"getArgContent",value:function(){return this.arg&&this.arg.content}},{key:"getExpContent",value:function(){return this.exp&&this.exp.content}},{key:"getBindName",value:function(){return this.isStaticBind()?this.name:this.isVBind()?this.getArgContent():null}},{key:"isDirective",value:function(){return this.type===q.DIRECTIVE}},{key:"isBind",value:function(){return this.isStaticBind()||this.isVBind()}},{key:"isStaticBind",value:function(){return this.type===q.ATTRIBUTE}},{key:"isVBind",value:function(){return this.isDirective()&&"bind"===this.name}},{key:"onlyAttrName",value:function(){return null===this.attrValue}},{key:"isEvent",value:function(){return this.isDirective()&&"on"===this.name}},{key:"isSolt",value:function(){return this.isDirective()&&"solt"===this.name}},{key:"isMultipleDirective",value:function(){return this.isDirective()&&["model","on","bind","solt"].includes(this.name)}},{key:"isSamlpeDirective",value:function(){return this.isDirective()&&!["model","on","bind","slot","if","for","text","html","else","else-if","is"].includes(this.name)}},{key:"eq",value:function(e){return this===e||null!=e&&(this.attrName===e.attrName&&this.attrValue===e.attrValue)}},{key:"valueEq",value:function(e){return this.type===e.type&&(6===this.type?(t=this.value,n=e.value):(t=this.exp,n=e.exp),t==n||null!=t&&null!=n&&t.content===n.content);var t,n}},{key:"getAttrName",value:function(){var e=this.name,t=this.arg,n=this.modifiers;switch(this.type){case q.ATTRIBUTE:return e;case q.DIRECTIVE:var r="v-".concat(e),o=K[e];if(t){var i=t.isStatic?t.content:"[".concat(t.content,"]");r=o?o+i:r+":"+i}return n.length&&(r+="."+n.join(".")),r}}},{key:"getAttrValue",value:function(){switch(this.type){case q.ATTRIBUTE:return this.value?this.value.content:null;case q.DIRECTIVE:return this.exp?this.exp.content:null}}},{key:"toString",value:function(){if(void 0!==this.attrValue)return null===this.attrValue?this.relAttrName:"".concat(this.relAttrName,'="').concat(this.attrValue,'"')}}]),e}();function b(e){return j(e)||O(e)||C(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function j(e){if(Array.isArray(e))return x(e)}function g(e,t){return N(e)||w(e,t)||C(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function N(e){if(Array.isArray(e))return e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}var B=1,P=function(){function e(t,n){var r=this;S(this,e),this.type=t.type,this.isText()?(5==this.type?this.content="{{ "+t.content.content+" }}":this.content=t.content,this.props=[]):(this.rawTag=t.tag,this.tag=Object(u["formatComponentName"])(this.rawTag),this.kebabTag=Object(u["kebabCase"])(this.tag),this.tagType=t.tagType,this.props=t.props.map((function(e){return new m(W(e))})),this.children=t.children.filter((function(e){return 3!==e.type&&!(2===e.type&&" "==e.content)})).map((function(t){return t instanceof e?(t.parent=r,t):new e(t,r)}))),this._astId="ast_".concat(B++),T(this,"parent",n),T(this,"_changeCount",0),T(this,"name",this.getConfig("name",this.rawTag)),this.updateKey()}return V(e,[{key:"setAttrValue",value:function(e,t){var n=new m(G(e,t));if(n.isBind())return this._setBind(n);var r=this.getDirective(n.name,n.isMultipleDirective()?n.getArgContent():void 0);return!n.eq(r)&&(this._setAttr(n,r),!0)}},{key:"_pushAttr",value:function(e){this.props.push(e),this.triggerAttrChange(e,null)}},{key:"_spliceAttr",value:function(e){var t;if(Object(u["isString"])(e)){var n=new m(G(e));n=n.isBind()?this.getBind(e):this.getAttr(e),t=this.props.indexOf(n)}else t=Number.isInteger(e)?e:this.props.indexOf(e);if(t>-1){for(var r,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var c=(r=this.props).splice.apply(r,[t,1].concat(i)),l=g(c,1),s=l[0];this.triggerAttrChange(i[0],s)}return t}},{key:"triggerAttrChange",value:function(e,t){var n=this;if((e||t).isBind()){var r=this.getConfig("props"),o=r&&r[(e||t).getBindName()];o&&o.change&&Object(u["castArray"])(o.change).forEach((function(r){return Object(u["isFunction"])(r)?r(e,t,n):null}))}}},{key:"_pushChildren",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.children.push(t)}))}},{key:"_spliceChildren",value:function(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];(n=this.children).splice.apply(n,[e,t].concat(o))}},{key:"_setBind",value:function(e){var t=e.isStaticBind(),n=e.getBindName(),r=this.getStaticBind(n),o=this.getVBind(n),i=t?r:o,a=t?o:r;if(i){if(i.valueEq(e))return!1}else i=a;return this._setAttr(e,i),!0}},{key:"_setAttr",value:function(e,t){t?this._spliceAttr(t,e):this._pushAttr(e)}},{key:"delAttr",value:function(e){return-1!=this._spliceAttr(e)}},{key:"getAttr",value:function(e){var t=new m(G(e));return this.props.find((function(e){return t.attrName===e.attrName}))}},{key:"getAttrValue",value:function(e){var t=this.getAttr(e);return t&&t.attrValue}},{key:"getDirectives",value:function(){return this.props.filter((function(e){return e.isDirective()&&!e.isVBind()&&!e.isEvent()&&!e.isSolt()}))}},{key:"getDirective",value:function(e,t){return this.props.find((function(n){return n.isDirective()&&n.name===e&&(!t||n.getArgContent()===t)}))}},{key:"getBind",value:function(e){return e=Object(u["camelize"])(e),this.props.find((function(t){return t.isBind()&&t.getBindName()===e}))}},{key:"getStaticBind",value:function(e){return e=Object(u["camelize"])(e),this.props.find((function(t){return t.isStaticBind()&&t.getBindName()===e}))}},{key:"getVBind",value:function(e){return e=Object(u["camelize"])(e),this.props.find((function(t){return t.isVBind()&&t.getBindName()===e}))}},{key:"getEvent",value:function(e){return this.getOn(e)}},{key:"getOn",value:function(e){return this.getDirective("on",e)}},{key:"getSlot",value:function(){return this.getDirective("slot")}},{key:"delSlot",value:function(){var e=this.getSlot();this.delAttr(e)}},{key:"getSlotName",value:function(){var e=this.getSlot();return e&&e.getArgContent()}},{key:"getSlotParam",value:function(){var e=this.getSlot();return e&&e.getExpContent()}},{key:"getBelongSlotName",value:function(){var e=this.getParentNode();if(e&&!e.isHTML()){var t=this.getSlotName();return t||"template"!==this.parent.tag||(t=this.parent.getSlotName()),t||"default"}}},{key:"isText",value:function(){return 2===this.type||5===this.type}},{key:"getAttrMap",value:function(){var e={};return this.props&&this.props.forEach((function(t){e[t.attrName]=t.attrValue})),e}},{key:"getAttrsStr",value:function(){return this.props.join(" ")}},{key:"updateKey",value:function(){return this._key=this._astId+"_"+ ++this._changeCount,!0}},{key:"getIndex",value:function(){return this.parent?this.parent.getChildIndex(this):-1}},{key:"getChildIndex",value:function(e){return this.children?this.children.indexOf(e):-1}},{key:"getChild",value:function(e){return this.children[e]}},{key:"getBeforeNode",value:function(){var e=this.getIndex();if(this.parent)return this.parent.getChild(e-1)}},{key:"getAfterNode",value:function(){var e=this.getIndex();if(this.parent)return this.parent.getChild(e+1)}},{key:"getParentNode",value:function(){if(this.parent){if("template"!==this.parent.tag)return this.parent;if(this.parent.parent&&"template"!==this.parent.parent.tag)return this.parent.parent}}},{key:"remove",value:function(){this.parent&&this.parent.removeChild(this)}},{key:"removeChild",value:function(e){var t=this.getChildIndex(e);this._spliceChildren(t,1)}},{key:"insertNode",value:function(e,t){e.parent===this&&e.getIndex()+1<t&&t--,e.remove(),e.parent=this,this._spliceChildren(t,0,e)}},{key:"insertNodes",value:function(e,t){var n=this;Object(u["isString"])(e)&&(e=J(e)),e=Object(u["castArray"])(e),e.forEach((function(r){r.parent===n&&r.getIndex()+1<t&&(t-=e.length),r.remove(),r.parent=n})),this._spliceChildren.apply(this,[t,0].concat(b(e)))}},{key:"appendNode",value:function(e){var t=this;Object(u["isString"])(e)&&(e=J(e)),Object(u["castArray"])(e).forEach((function(e){e.remove(),e.parent=t,t._pushChildren(e)}))}},{key:"insertBefore",value:function(e){var t=this.getIndex();this.parent.insertNodes(e,t)}},{key:"insertAfter",value:function(e){var t=this.getIndex();this.parent.insertNodes(e,t+1)}},{key:"insertToSlot",value:function(e,t){var n=this,r=n.children.find((function(e){return e.getSlotName()==t}));if(r)if("template"===r.tag)r.appendNode(e);else{var o=r.getIndex();r.remove(),r.delSlot(),e.remove(),e.delSlot();var i=_(t,void 0,[r,e]);this.insertNode(i,o)}else{var a=this.getConfig("slots",[]).find((function(e){return e.slot==t})),c=null===a||void 0===a?void 0:a.scope;if("default"!==t||c){e.remove(),e.delSlot();var l=_(t,c,[e]);this.appendNode(l)}else e.delSlot(),e.parent!==n&&this.appendNode(e)}}},{key:"moveToBefore",value:function(){var e=this.getBeforeNode();e&&e.insertBefore(this)}},{key:"moveToAfter",value:function(){var e=this.getAfterNode();e&&this.insertAfter(this)}},{key:"moveToSlot",value:function(e){var t=this.getParentNode();t.insertToSlot(this,e)}},{key:"isEmpty",value:function(){return 0===this.children.length}},{key:"empty",value:function(){this._spliceChildren(0,this.children.length)}},{key:"eqTag",value:function(e){return Object(u["formatComponentName"])(e)===this.tag}},{key:"setStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?":style":"style";this.setAttrValue(n,e)}},{key:"setText",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(this.isText())this.content=t;else{var r=new e({content:t,type:n},this),o=this.children.findIndex((function(e){return e.isText()}));-1==o?this.appendNode(r):this._spliceChildren(o,1,r)}}},{key:"getText",value:function(){return this.isText()?this.content:this.children.map((function(e){return e.isText()?e.getText():""})).join("").trim()}},{key:"clone",value:function(){return J(this.toTemplate())}},{key:"closest",value:function(e){var t=this;while(t.parent){if(t.parent.test(e))return t.parent;t=t.parent}}},{key:"getParents",value:function(){var e=this,t=[];while(e.parent)t.push(e.parent),e=e.parent;return t}},{key:"eachAllNode",value:function(e){function t(n){e(n),n.children&&n.children.forEach(t)}t(this)}},{key:"dfs",value:function(e,t){var n=[];t&&n.push(this),n=n.concat(this.children);while(n.length){var r=n.shift(),o=e(r);if(-1===o)return r;0!==o&&(r.children&&(n=[].concat(r.children).concat(n)))}}},{key:"bfs",value:function(e,t){var n=[];t&&n.push(this),n=n.concat(this.children);while(n.length){var r=n.shift(),o=e(r);if(-1===o)return r;0!==o&&(r.children&&(n=n.concat(r.children)))}}},{key:"querySelector",value:function(e,t){var n=I(e);return this.bfs((function(e){return n(e)?-1:void 0}),t)}},{key:"querySelectorAll",value:function(e,t){var n=I(e),r=[];return this.bfs((function(e){n(e)&&r.push(e)}),t),r}},{key:"getSlotNodes",value:function(e){var t=[];return this.children.forEach((function(n){n.getBelongSlotName()==e&&(n.isTemplateNode()?t=t.concat(n.children):t.push(n))})),t}},{key:"findChild",value:function(e){var t=I(e);return this.children.find(t)}},{key:"findChildren",value:function(e){var t=I(e);return this.children.filter(t)}},{key:"getConfig",value:function(e,t){var n=d(this.tag);return e?n&&n.hasOwnProperty(e)?n[e]:t:n}},{key:"isHTML",value:function(){return X[this.tag]}},{key:"isScopeSlot",value:function(){var e;return"template"===(null===(e=this.parent)||void 0===e?void 0:e.tag)&&this.parent.getSlotParam()}},{key:"isTemplateNode",value:function(){return"template"===this.tag}},{key:"isOffspring",value:function(e){if(this===e)return!0;var t=e;while(1){if(!t.parent)break;if(t.parent===this)return!0;t=t.parent}return!1}},{key:"test",value:function(e){if("."===e[0]){e=e.substr(1);var t=this.getConfig();if(t)return t.type.includes(e)}return this.tag===e||this.tag===Object(u["formatComponentName"])(e)}},{key:"toTemplate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t="\n"+Array(2*(e+1)).fill(" ").join("");if(this.isText())return t+this.getText();var n=this.getAttrsStr();n&&(n=" "+n);var r="".concat(t,"<").concat(this.rawTag).concat(n,">");if(0===e&&(r=r.substring(1)),"img"===this.rawTag)return r;var o="</".concat(this.rawTag,">"),i=this.children,a="";return 1==i.length&&i[0].isText()?a=i[0].getText():i.length&&(o=t+o,a=this.children.map((function(t){return t.toTemplate(e+1)})).join("")),r+a+o}},{key:"toString",value:function(){return this._astId}},{key:"vucAst",get:function(){return this.parent?this.parent.vucAst:this._vucAst}}]),e}();function I(e){return Object(u["isString"])(e)?function(t){return t.test(e)}:e}function _(e,t,n){var r="template",o=[G("#".concat(e),t)];return new P({tag:r,props:o,children:n})}function T(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}var A=P,D=n("8bad"),M=n("e1ed"),F=n("d9e9"),$=Object.create(null);function R(e,t){var n=e,r=$[n];if(r)return r;var o=Object(M["compile"])(e,Object(F["extend"])({hoistStatic:!0,onError:function(e){throw e}},t)),i=(o.code,o.ast);U(i);var a=Object(M["generate"])(i,{prefixIdentifiers:!1}),c=new Function("Vue",a.code)(D);return c._rc=!0,$[n]=c}function L(e,t){return Object(M["parse"])(e,Object(F["extend"])({},t))}function U(e){var t;e.codegenNode&&(e.codegenNode.patchFlag="-2 /* BAIL */"),null===(t=e.children)||void 0===t||t.forEach(U)}function z(e){return z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}var K={bind:":",on:"@",slot:"#"},q={NOT_CONSTANT:0,TEXT:2,CAN_STRINGIFY:3,SIMPLE_EXPRESSION:4,ATTRIBUTE:6,DIRECTIVE:7,JS_CALL_EXPRESSION:14,JS_OBJECT_EXPRESSION:15};function H(e,t){return e.startsWith(t)}function W(e){if(Array.isArray(e))return e.map(W);if("object"==z(e)){var t={};for(var n in e)"loc"!==n&&(t[n]=W(e[n]));return t}return e}function Y(e){if(/^(v-|:|@|#)/.test(e)){var t,n=/(?:^v-([a-z0-9-]+))?(?:(?::|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(e),r=n[1]||(H(e,":")?"bind":H(e,"@")?"on":"slot");if(n[2]){var o="slot"===r,i=n[2],a=!0;i.startsWith("[")?(a=!1,i=i.substr(1,i.length-2)):o&&(i+=n[3]||""),t={type:4,content:i,isStatic:a,constType:a?3:0}}return{type:7,name:r,arg:t,modifiers:n[3]?n[3].substr(1).split("."):[]}}return{type:6,name:e}}function G(e,t){var n=Y(e);return n.type===q.DIRECTIVE?(n.exp=t&&{type:4,content:t,isStatic:!1,constType:0},n):(n.value=t&&{type:2,content:t},n)}var X=Object(u["makeMap"])("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot");function J(e){var t=L(e).children[0];return new A(t)}function Z(e){return e instanceof A}var Q=Object.assign(c,l,u,r),ee=Object.create(null);function te(e,t){ee[e]=t}function ne(e,t){return ee.hasOwnProperty(e)?ee[e]:t}var re={setVucConfig:f,getVucConfig:d,setConfig:te,getConfig:ne,registerConfig:function(e,t){if("string"==typeof e)re[e]=t;else for(var n in e)re[n]=e[n]}},oe=re,ie=n("8bbf"),ae=n("0531"),ce=n.n(ae),le={proxyHooks:{},designerHooks:{},editorHooks:{},createProxyApp:null};function ue(e,t,n){e[t]=e[t]||[],e[t].push(n)}function se(e,t){for(var n in e)t(e[n],n)}function de(e,t,n){function r(t,n){ue(e,t,n)}Object(u["isObject"])(t)?se(t,(function(e,t){return r(t,e)})):r(t,n)}function fe(e,t){de(le.proxyHooks,e,t)}function pe(){return le.proxyHooks}function he(e,t){de(le.editorHooks,e,t)}function ve(e){return le.editorHooks[e]||[]}function me(e){le.createProxyApp=e}function be(){return le.createProxyApp}function ye(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=pe();if(i&&i[e]){var a={},c=Object(u["castArray"])(i[e]);return c.forEach((function(e){Object.assign(a,e.call.apply(e,[t].concat(r)))})),a}}function Oe(e){var t,n,r=e.$.vnode;return null===(t=r.dirs)||void 0===t||null===(n=t.find((function(e){return"AstId"===e.dir.name})))||void 0===n?void 0:n.value}oe.registerConfig("setVucEditorHooks",he),oe.registerConfig("setVucProxyHooks",fe),oe.registerConfig("setVucProxyCreateApp",me);var je={name:"AstId"};function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e}var xe=function(){function e(t,n){var r;ge(this,e),this.context=n,this.node=t,this.attrMap=this.getAttrMap(),this.children=null===(r=t.children)||void 0===r?void 0:r.map((function(t){return new e(t,n)}))}return Ce(e,[{key:"getAttrMap",value:function(){var e,t=this.node,n=this.context,r=[],o={};return null===(e=t.props)||void 0===e||e.forEach((function(e){if(e.isSamlpeDirective()){var t="null",i="undefined",a=(null===e||void 0===e?void 0:e.modifiers.join("."))||"";e.arg&&(t=e.arg.isStatic?"'".concat(e.arg.content,"'"):e.arg.content),e.exp&&(i=e.exp.content),n.dirsMap[e.name]="show"===e.name?ie["vShow"]:Object(ie["resolveDirective"])(e.name),r.push(" { name:'".concat(e.name,"',arg:").concat(t,",modifiers:'").concat(a,"',value: ").concat(i," } "))}else o[e.attrName]=e.attrValue})),t.isText()||(t.isHTML()?o["data-ast-id"]=t._astId:"template"!==t.tag&&(o["v-ast-id"]="'".concat(t._astId,"'"))),o["v-ast-proxy"]="[".concat(r.join(","),"]"),"template"===t.tag||t.isHTML()||t.getBind("key")||(o.key=t._key),o}},{key:"getAttrStr",value:function(){var e=[];for(var t in this.attrMap){var n=this.attrMap[t];void 0===n||(null===n?e.push(t):e.push("".concat(t,'="').concat(n.replace?n.replace(/\"/g,"'"):n,'"')))}return e.join(" ")}},{key:"toTemplate",value:function(){var e=this.node,t=this.context,n=t.vucAst,r=n.errorIdMaps&&n.errorIdMaps[e._astId];if(r)return'<div data-ast-id="'.concat(e._astId,'">渲染出错:').concat(r,"</div>");if(e.isText())return e.getText();try{ye("onRender",this,t);var o=e.getConfig("vucProxyOption");null!==o&&void 0!==o&&o.onRender&&o.onRender(this,t);var i=this.children.map((function(e){return e.toTemplate(t)})).join("\n"),a=this.getAttrStr();return"img"===e.tag?"<".concat(e.tag," ").concat(a,">"):"<".concat(e.tag," ").concat(a,">").concat(i,"</").concat(e.tag,">")}catch(c){return console.error(c),"<span>创建模板出错</span>"}}}]),e}(),we=xe;function Ne(e){return function(){if(e.rootNode){var t=e.createRenderContext();t.dirsMap={},ye("onBeforeRender",t),e.eachAllNode((function(e){var n=e.getConfig("vucProxyOption");n&&n.onBeforeRender&&n.onBeforeRender(e,t)}));var n=new we(e.rootNode,t),r=n.toTemplate(t),o=R(r);try{return o(this)}catch(i){return console.error(i),Object(ie["h"])("div",{style:"color:red"},i.message)}}}}function Se(e){var t=ce()((function(){Object(ie["nextTick"])().then((function(){return e.vucInstance.$forceUpdate(),Object(ie["nextTick"])()})).then((function(){Object.keys(e.errorIdMaps).forEach((function(t){return e.errorIdMaps[t]=void 0}))}))}));return function(n,r,o){var i;while(r&&!i)i=Oe(r),r=r.$parent;console.error(n),i&&(e.errorIdMaps||(e.errorIdMaps=Object(ie["markRaw"])({})),e.errorIdMaps[i]=n.message,t())}}function Ee(e){var t=["created","beforeMount","mounted","beforeUpdate","updated","beforeUnmount","unmounted"],n={};return t.forEach((function(t){n[t]=function(n,r,o){var i,a=e.renderContext.dirsMap,c={};null===(i=r.oldValue)||void 0===i||i.forEach((function(e){c[e.name]=e.value})),r.value.forEach((function(e){var i=a[e.name];if(i){var l={dir:i,instance:r.instance,modifiers:e.modifiers,arg:e.arg,oldValue:c[e.name],value:e.value},u=function(e){var t=i[e];t?t(n,l,o):["mounted","updated"].includes(e)&&i(n,l,o)};if("beforeUpdate"===t&&!c.hasOwnProperty(e.name))return u("created"),u("beforeMount");if("updated"===t&&!c.hasOwnProperty(e.name))return u("mounted");u(t)}}))}})),n}function Ve(e){var t=e.VueOption,n=t.watch,r=e.unwatchs={};return function(){for(var e in n){var t=n[e],o={};Object(u["isString"])(t)?t=this[t]:Object(u["isObject"])(t)?(o=t,t=t.handler):Object(u["isFunction"])(t),r[e]=this.$watch(e,t,o)}}}function Be(e){return function(e){var t=Oe(e);if(t){var n,r,o,i=e.$el;if(3===i.nodeType)i=null!==(r=i.nextElementSibling)&&void 0!==r&&null!==(o=r.dataset)&&void 0!==o&&o.astId?null:i.nextElementSibling;1===(null===(n=i)||void 0===n?void 0:n.nodeType)&&i.setAttribute("data-ast-id",t)}}}function Pe(e){var t=e.vucInstanceMap=Object(ie["markRaw"])({});return e.getVucInstancesById=function(e){return t[e]},function(e){var n=Oe(e);if(n){var r=t[n];r||(r=t[n]=[]),r.push(e)}}}function Ie(e){return function(t){var n=Oe(t);if(n){var r=e.getVucInstancesById(n),o=-1;r&&(o=r.indexOf(t))>-1&&r.splice(o,1)}}}function _e(e,t){var n=e.VueOption,r=Ve(e),o=Object.assign({},n,{name:"VucProxy",render:Ne(e),watch:{}});return o.mixins=o.mixins||[],o.mixins.push({created:function(){this[Symbol.unscopables]={},r.call(this)},directives:{astProxy:Ee(e),astId:je}}),t&&o.mixins.push(t),o}function Te(){var e=be();return null==e?function(e){return Object(ie["createApp"])(e)}:e}function Ae(e,t){var n=_e(e,t),r=Te(),o=r(n),i=Se(e),a=Be(e),c=Pe(e),l=Ie(e);return o.config.errorHandler=i,o.mixin({props:{astId:String},mounted:function(){a(this),c(this)},unmounted:function(){l(this)}}),ye("onCreatedApp",o),o}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),e}var $e=function(){function e(t,n,r){De(this,e),this.file=n,this.loaderResult=r,this.VueOption=t,this.vucInstance=null;var o=t.ast.children.find((function(e){return 3!==e.type}));o&&this.setRootNode(new A(o,null)),this.exportDefault=this.loaderResult.ScriptProgram.body.find((function(e){return"ExportDefaultDeclaration"===e.type}))}return Fe(e,[{key:"setRootNode",value:function(e){e&&Object.defineProperty(e,"_vucAst",{writable:!0,enumerable:!1,configurable:!0,value:this}),this.rootNode=e}},{key:"getExportProperty",value:function(e,t){var n=this.exportDefault.declaration.properties,r=n.find((function(t){return Object(l["getPropertyId"])(t)===e}));return!r&&t&&(r=t,n.push(r)),r}},{key:"getContent",value:function(){var e=["<template>",this.rootNode?this.rootNode.toTemplate():"","</template>","<script>",Object(l["astToCode"])(this.loaderResult.ScriptProgram),"<\/script>"].join("\n");return e}},{key:"getTemplate",value:function(){return this.rootNode?this.rootNode.toTemplate():""}},{key:"querySelector",value:function(e){var t;return null===(t=this.rootNode)||void 0===t?void 0:t.querySelector(e,!0)}},{key:"querySelectorAll",value:function(e){var t;return null===(t=this.rootNode)||void 0===t?void 0:t.querySelectorAll(e,!0)}},{key:"eachAllNode",value:function(e){var t;null===(t=this.rootNode)||void 0===t||t.eachAllNode(e)}},{key:"getVucNodeByAstId",value:function(e){var t=null;return this.rootNode.dfs((function(n){if(n._astId==e)return t=n,-1}),!0),t}},{key:"createVucProxyApp",value:function(){var e=this;this.vucPorxyApp=Ae(this,{created:function(){e.vucInstance=this}})}},{key:"mount",value:function(e){this.vucPorxyAppInstance=this.vucPorxyApp.mount(e)}},{key:"unmount",value:function(){this.vucPorxyAppInstance&&(this.vucPorxyApp.unmount(),this.vucPorxyAppInstance=null)}},{key:"forceUpdate",value:function(){this.vucInstance.$forceUpdate()}},{key:"createRenderContext",value:function(){return this.renderContext={vucAst:this}}}]),e}(),Re=$e,Le=n("1af5"),Ue=function(e,t,n){function r(e){return t.substring(e[0],e[1])}var o=Le["parseModule"](t,{range:!0,attachComment:!0});function i(e){var t=e.specifiers,r=n.findFile(e.source.value),o=r.getPath?r.getPath():r,i="__vuc_require__('".concat(o,"')");return"const "+t.map((function(e){var t=e.imported?e.imported.name:"default";return"".concat(e.local.name," = ").concat(i,".").concat(t)})).join(",")+";"}function a(e){var t=e.declaration,n=t.declarations||[t],o=r(t.range);return o+"\n"+n.map((function(e){return"__vuc_exports__.".concat(e.id.name," = ").concat(e.id.name,";")})).join("\n")}var c=o.body.map((function(e){if("ImportDeclaration"===e.type)return i(e);if("ExportNamedDeclaration"===e.type)return a(e);if("ExportDefaultDeclaration"===e.type){var t=e.declaration;return"__vuc_exports__.default = ".concat(r(t.range))}return r(e.range)})).join("\n");return c+="\n    __vuc_exports__.__createFunction__ = function (params,code,ctx){\n      return eval('(function ('+params+'){' + code + '}).bind(ctx)' )\n    }\n  ",{modules:c,Program:o}},ze=function(e,t,n){var r=L(t),o=r.children.find((function(e){return"template"==e.tag})),i=r.children.find((function(e){return"script"==e.tag})),a=Ue(e,i.children[0].content,n),c=n.getPath(),l="\n      var ex = __vuc_require__('".concat(c,"?js');\n      var __vue_script__ = ex.default;\n      var __vue_template__ = __vuc_require__('").concat(c,"?template').default;\n      var options = typeof __vue_script__ === 'function' ? __vue_script__.options : __vue_script__;\n      if (__vue_template__) {\n        options.render = __vue_template__.render;\n        options.ast = __vue_template__.ast;\n        options._compiled = true;\n        options._filePath = '").concat(c,"';\n      }\n      Object.assign(__vuc_exports__,ex);");return{modules:[{name:c,module:l},{name:c+"?js",module:a.modules},{name:c+"?template",module:function(e,t,n){return t.default={ast:o}}}],ScriptProgram:a.Program,ScriptContent:i.content}};function Ke(e){return Ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t,n){return t&&He(e.prototype,t),n&&He(e,n),e}var Ye={},Ge=function(){function e(){qe(this,e)}return We(e,[{key:"build",value:function(e){var t=this,n=this.modules={},r=ze(this,e.content,e);r.modules.forEach((function(n){var r=t.createModuleFunction(n);r?t.modules[e.getPath()]=r:"object"==Ke(n)&&(t.modules[n.name]=t.createModuleFunction(n.module))}));var o=this.installedModules={};function i(e,t){if(o[e]&&!t)return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}},a=n[e]||Ze(e);return a.call(r.exports,r,r.exports,i),r.exports}return this.entry=function(){return i(e.getPath())},this.require=this.entry.require=i,{entry:this.entry,result:r}}},{key:"createModuleFunction",value:function(e){return Object(u["isString"])(e)?new Function("module","__vuc_exports__","__vuc_require__",e):Object(u["isFunction"])(e)?e:void 0}}]),e}();function Xe(e,t){Ye[e]=t}function Je(e,t){Ye[e]?Ye[e].default=t:Ye[e]={default:t}}function Ze(e){return Ye[e]?function(t,n,r){Object.assign(n,Ye[e])}:null}var Qe=Ge,et=Qe;function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),e}var ot=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];tt(this,e),this.name=t,this.isFolder=n,this.parent=null,this.isFolder&&(this.files=[])}return rt(e,[{key:"getParentName",value:function(){if(this.parent)return this.parent.name}},{key:"addFile",value:function(e){e.parent=this,this.files.push(e)}},{key:"getFile",value:function(e){return this.files.find((function(t){return t.name===e}))}},{key:"findFile",value:function(e){var t=e.split("/");if(1==t.length)return e;var n=this;return t.forEach((function(e){n="."===e?n.parent:".."===e?n.parent.parent:n.getFile(e)})),n}},{key:"getPath",value:function(){return this.parent?this.parent.getPath()+"/"+this.name:this.name}},{key:"setContent",value:function(e){return this.content=e,this}}]),e}(),it=[];function at(e){it.push(e)}function ct(e){var t=new ot("main.vue").setContent(e),n=new et,r=n.build(t),o=r.entry(),i=o.default,a=r.result,c=Object(ie["ref"])(new Re(i,t,a)).value;return c.createFunction=o.__createFunction__,it.forEach((function(e){e(c)})),c}oe.registerConfig({registerAstProcess:at,installModule:Xe,installDefaultModule:Je});var lt={class:"vuc-designer vuc-flex-column"},ut={class:"vuc-panles vuc-flex-mainitem vuc-flex"},st={style:{width:"100px"},class:"vuc-flex-mainitem"};function dt(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("designer-views");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",lt,[Object(ie["createElementVNode"])("div",ut,[Object(ie["createVNode"])(a,{class:"vuc-flex-column",style:Object(ie["normalizeStyle"])(i.leftViewStyle),name:"left"},null,8,["style"]),Object(ie["createElementVNode"])("div",st,[Object(ie["renderSlot"])(e.$slots,"default")]),Object(ie["createVNode"])(a,{class:"vuc-flex-column",style:Object(ie["normalizeStyle"])(i.rightViewStyle),name:"right"},null,8,["style"])]),Object(ie["createElementVNode"])("div",{class:"vuc-panle-resize-handler",onMousedown:t[0]||(t[0]=Object(ie["withModifiers"])((function(){return i.resizeRight&&i.resizeRight.apply(i,arguments)}),["stop","prevent"])),style:Object(ie["normalizeStyle"])({right:o.rightViewWidth+"px"})},null,36)])}var ft=n("4e72"),pt={props:{name:String},render:function(){var e=this,t=[];return this.$parent.$slots[this.name]&&(t=this.$parent.$slots[this.name]()),Object(ie["h"])(ft["Tabs"],{class:"vuc-designer-views",size:"small",tabBarStyle:{margin:0}},{default:function(){return t.map((function(t,n){return t.props?Object(ie["h"])(ft["TabPane"],{tab:t.props.title,key:e.name+"_"+n},{default:function(){return t}}):t}))}})}},ht=pt,vt={class:"vuc-editor",tabIndex:"9999"},mt={class:"vuc-editor-content"},bt={class:"vuc-ceditor"},yt={key:0,class:"vuc-ceditor-panle vuc-ceditor-panle-top"},Ot=Object(ie["createElementVNode"])("div",{class:"vuc-ceditor-empty"},null,-1),jt={class:"vuc-ceditor-panle vuc-ceditor-panle-bottom"},gt={class:"vuc-ceditor-cpanle"};function kt(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("VucEditorRuler"),c=Object(ie["resolveComponent"])("VucEditorNodeSelectedLayer"),l=Object(ie["resolveComponent"])("VucEditorNodeHoverLayer"),u=Object(ie["resolveComponent"])("VucEditorNodeTools"),s=Object(ie["resolveComponent"])("structure-editor"),d=Object(ie["resolveComponent"])("VucEditorNodeNav"),f=Object(ie["resolveComponent"])("context-menu");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",vt,[Object(ie["createElementVNode"])("div",mt,[Object(ie["createElementVNode"])("div",bt,[i.showRuler?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",yt,[Ot,Object(ie["createVNode"])(a,{style:Object(ie["normalizeStyle"])({marginLeft:-o.scrollLeft+"px"}),size:200,scale:10,direction:"row"},null,8,["style"])])):Object(ie["createCommentVNode"])("",!0),Object(ie["createElementVNode"])("div",jt,[i.showRuler?(Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{key:0,style:Object(ie["normalizeStyle"])({marginTop:-o.scrollTop+"px"}),size:200,scale:10,direction:"column"},null,8,["style"])):Object(ie["createCommentVNode"])("",!0),Object(ie["createElementVNode"])("div",gt,[Object(ie["createElementVNode"])("div",{class:"vuc-app-wrapper",onScroll:t[0]||(t[0]=function(){return i.scroll&&i.scroll.apply(i,arguments)}),style:Object(ie["normalizeStyle"])(n.options.wrapperStyle)},null,36)]),Object(ie["createVNode"])(c,{ref:"selectedLayer"},null,512),Object(ie["createVNode"])(l,{ref:"hoverLayer"},null,512),Object(ie["createVNode"])(u,{ref:"nodeTools"},null,512)])]),i.showStructure?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:0},[Object(ie["createElementVNode"])("div",{class:"vuc-panle-resize-handler",onMousedown:t[1]||(t[1]=Object(ie["withModifiers"])((function(){return i.resizeRight&&i.resizeRight.apply(i,arguments)}),["stop","prevent"])),style:Object(ie["normalizeStyle"])({right:o.rightPanleWidth+"px"})},null,36),Object(ie["createVNode"])(s,{style:Object(ie["normalizeStyle"])([{"flex-shrink":"0"},{width:o.rightPanleWidth+"px"}])},null,8,["style"])],64)):Object(ie["createCommentVNode"])("",!0)]),Object(ie["createVNode"])(d),(Object(ie["openBlock"])(),Object(ie["createBlock"])(ie["Teleport"],{to:"body"},[Object(ie["createVNode"])(f,{ref:"ctxmenu",class:"vuc-editor-menu",show:o.menuState,"onUpdate:show":t[2]||(t[2]=function(e){return o.menuState=e}),items:o.contenxtMenuItems,style:Object(ie["normalizeStyle"])(o.contextMenuStyle),onClickItem:i.handleMenu},null,8,["show","items","style","onClickItem"])]))])}var Ct=n("79bb"),xt=n("addb"),wt=n.n(xt);function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t,n){return t&&St(e.prototype,t),n&&St(e,n),e}function Vt(e){var t=window.getComputedStyle(e),n=window.getComputedStyle(e.parentElement);return"flex"===n.display?"column"===n.flexDirection:!!["table","block","flex"].includes(t.display)}var Bt=function(){function e(t,n,r){Nt(this,e),this.rect=t,this.el=r,this.data=n,this.x=t.x,this.y=t.y,this.x1=t.x,this.y1=t.y,this.x2=t.x+t.width,this.y2=t.y+t.height,this.width=t.width,this.height=t.height,this.isBlock=Vt(r)}return Et(e,[{key:"isInside",value:function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)}},{key:"getInsidePos",value:function(e,t){var n=[];return this.isBlock?(n.push({pos:"t",value:t-this.y1}),n.push({pos:"b",value:this.y2-t})):(n.push({pos:"l",value:e-this.x1}),n.push({pos:"r",value:this.x2-e})),Object.assign({rect:this,inside:!0},wt()(n,"value"))}},{key:"getPos",value:function(e,t){if(this.isBlock){if(t<this.y1&&e>=this.x1&&e<=this.x2)return"t";if(t>this.y2&&e>=this.x1&&e<=this.x2)return"b"}else{if(e<this.x1&&t>=this.y1&&t<=this.y2)return"l";if(e>this.x2&&t>=this.y1&&t<=this.y2)return"r"}}},{key:"getPosDis",value:function(e,t){var n=this.getPos(e,t),r=-1;return"t"===n&&(r=this.y1-t),"b"===n&&(r=t-this.y2),"l"===n&&(r=this.x1-e),"r"===n&&(r=e-this.x2),{pos:n,value:r,rect:this}}},{key:"getStyle",value:function(e){var t=this;switch(e){case"t":return{left:t.x+"px",top:t.y-1+"px",width:t.width+"px",height:"2px"};case"l":return{left:t.x-1+"px",top:t.y+"px",width:"2px",height:t.height+"px"};case"b":return{left:t.x+"px",top:t.y+t.height+1+"px",width:t.width+"px",height:"2px"};case"r":return{left:t.x+t.width+1+"px",top:t.y+"px",width:"2px",height:t.height+"px"}}}}]),e}(),Pt=Bt;function It(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_t(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function _t(e,t){if(e){if("string"===typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t,n){return t&&Dt(e.prototype,t),n&&Dt(e,n),e}function Ft(e){e.preventDefault()}var $t=function(){function e(){At(this,e),this.isDrop=!1}return Mt(e,[{key:"dropStart",value:function(e,t,n){var r=this;if(!e._stopStartDrop){this.dropEvent=e,this.dropData=t,this.dropProxyInfo=n,e._stopStartDrop=!0;var o=function(e){return r.showProxy(e)},i=function e(t){return window.removeEventListener("selectstart",Ft),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e),r.removeProxy(t)};window.addEventListener("selectstart",Ft),window.addEventListener("mousemove",o),window.addEventListener("mouseup",i)}}},{key:"showProxy",value:function(e){var t=this.dropEvent;if(!t.first){if(e.timeStamp-t.timeStamp<500&&Math.abs(e.pageX-t.pageX)<10&&Math.abs(e.pageY-t.pageY)<10)return;t.first=!0}!1===this.isDrop&&(this.isDrop=!0,document.body.classList.add("vuc-draging")),null==this.proxyElement&&(this.proxyElement=document.createElement("div"),this.proxyElement.className="vuc-drag-proxy",document.body.appendChild(this.proxyElement)),null==this.proxyPosElement&&(this.proxyPosElement=document.createElement("div"),this.proxyPosElement.className="vuc-pos-proxy",document.body.appendChild(this.proxyPosElement)),e._stopMove?Object.assign(this.proxyPosElement.style,this.proxyPosElementStyle,{display:"block"}):Object.assign(this.proxyPosElement.style,{display:"none"}),Object.assign(this.proxyElement.style,{left:e.clientX-this.dropProxyInfo.x+"px",top:e.clientY-this.dropProxyInfo.y+"px",width:this.dropProxyInfo.width,height:this.dropProxyInfo.height})}},{key:"removeProxy",value:function(e){document.body.classList.remove("vuc-draging"),this.isDrop=!1,this.dropData=null,this.dropProxyInfo=null,this.dropEvent=null,this.proxyElement&&(document.body.removeChild(this.proxyElement),this.proxyElement=null),this.proxyPosElement&&(document.body.removeChild(this.proxyPosElement),this.proxyPosElement=null)}},{key:"isOffspring",value:function(e){return this.dropIsVucNode()&&this.dropData.node.isOffspring(e)}},{key:"getSlotInfo",value:function(e,t){var n=t.node,r=t.el,o=n.getConfig();if(o&&o.slots){var i=null;if(o.slots.find((function(t){if(t.selector){var n=r.querySelector(t.selector);if(-1!=e.path.indexOf(n))return i=Object.assign({el:n},t)}})),!i){var a=o.slots.find((function(e){return"default"==e.slot}));a&&!a.selector&&(i=Object.assign({el:t.el},a))}return i}return!1}},{key:"getRelativePosInfo",value:function(e,t,n){if(!this.isOffspring(t.node)){var r,o,i=null;if(this.dropIsVucNode()&&(i=this.dropData.node,r=i._astId),t.node.isHTML())if(0===t.el.childElementCount){if("img"==t.node.tag)return;o=b("default",t.el)}else{var a,c=[],l=It(t.el.children);try{for(l.s();!(a=l.n()).done;){var u=a.value;c.push(u)}}catch(O){l.e(O)}finally{l.f()}o=y("default",c),this.markNotMove(o)}else{var s=this.getSlotInfo(e,t);if(s){var d=n.vucAst.getVucNodeByAstId(t.node._astId),f=d.getSlotNodes(s.slot),p=f.flatMap((function(e){return document.querySelector('[data-ast-id="'.concat(e._astId,'"]'))})).filter((function(e){return e}));if(p&&0!==p.length){if(o=y(s.slot,p),!o)return;var h=Lt({x:e.pageX,y:e.pageY},[Rt(t.node,t.el)]);h&&h.value<10&&h.value<o.value&&(o=h),this.markNotMove(o)}else o=b(s.slot,s.el)}else if(o=y("",[t.el]),!o||!o.inside)return}var v=o.rect.data,m="inner"==o.pos?v:v.getParentNode();return o.targetNode=v,o.parentNode=m,o}function b(n,r){var o=Rt(t.node,t.el),i=o.getInsidePos(e.pageX,e.pageY),a=o.isBlock?o.height:o.width;return i.rect=o,i.value<a/5&&i.value<10?i:{pos:"inner",rect:o,slot:n,el:r}}function y(t,o){var i=o.filter((function(e){return e.dataset.astId!==r})).map((function(e){var t=n.getVucNode(e.dataset.astId);return Rt(t,e)})),a=Lt({x:e.pageX,y:e.pageY},i);return a&&(a.slot=t),a}}},{key:"getDropVucNode",value:function(e){var t=this.dropData.node;return new Promise((function(n){if(Object(u["isFunction"])(t)){var r=t.call(null,e,o);if(!r)return;r instanceof Promise?r.then((function(e){o(e)})):o(r)}else o(t);function o(e){var t;Z(e)?t=e:Object(u["isString"])(e)&&(t=J(e)),n(t)}}))}},{key:"dropLimit",value:function(e){var t,n=e.parentNode;e.targetNode,e.pos;if(!n)return!1;if(this.dropIsVucNode()?t=this.dropData.node.tag:this.dropData.tag&&(t=this.dropData.tag,Object(u["isFunction"])(t)&&(t=t.call(null,e))),!t)return!1;var r=n.getConfig("childLimit");if(r&&!1===r(t,this.dropIsVucNode()&&this.dropData.node))return!1;var o=d(t);return null===o||void 0===o||!o.parentLimit||!1!==o.parentLimit(n)}},{key:"dropIsVucNode",value:function(){var e;return Z(null===(e=this.dropData)||void 0===e?void 0:e.node)}},{key:"markNotMove",value:function(e){if(this.dropIsVucNode()&&e){var t,n=e.rect.data,r=this.dropData.node;if(n.getSlotName()==r.getSlotName())"r"===e.pos||"b"===e.pos?t=n.getAfterNode():"l"!==e.pos&&"t"!==e.pos||(t=n.getBeforeNode()),r&&t===r&&(e.isNotMove=!0)}}}]),e}();function Rt(e,t){return new Pt(t.getBoundingClientRect(),e,t)}function Lt(e,t){var n=t.find((function(t){return t.isInside(e.x,e.y)}));if(n)return n.getInsidePos(e.x,e.y);var r=t.map((function(t){return t.getPosDis(e.x,e.y)})).filter((function(e){return e.value>=0})),o=wt()(r,"value");return o||(n=t.find((function(t){return t.y1>=e.y})),n?{rect:n,pos:"l",value:e.y-n.y1}:(n=t[t.length-1],e.y>n.y2?{rect:n,pos:"r",value:e.y-n.y2}:void 0))}var Ut=$t;function zt(e,t){var n=null===e||void 0===e?void 0:e.getConfig("vucEditorOption");return n&&n[t]}var Kt={data:function(){return{dropManager:new Ut}},mounted:function(){this.bindEvent()},unmounted:function(){var e=this,t=function(t){e.__events__[t].forEach((function(e){document.body.removeEventListener(t,e)}))};for(var n in this.__events__)t(n)},methods:{bindEvent:function(){this.bindHoverEvent(),this.bindSelectEvent(),this.bindDropmoveEvent(),this.bindDropupEvent(),this.bindContextmenuEvent()},getHookHandlers:function(e){var t=[];return this.options[e]&&t.push(this.options[e]),t.concat(ve(e))},handlerHook:function(e,t){var n=this.getHookHandlers(e);void 0!==t&&n.push(t);for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return u["someHandlerIsFalse"].apply(void 0,[n].concat(o))},bindHoverEvent:function(){var e=this;document.body.addEventListener("mouseover",(function(t){for(var n=t.composedPath(),r=0;r<n.length;r++){var o=n[r];if(o.dataset&&o.dataset.astId){var i=e.getVucNode(o.dataset.astId);if(e.handlerHook("onBeforeSelectNode",zt(i,"onBeforeSelectNode"),i))continue;return e.hoverVucNode=i,void(e.hoverVucNodeEl=o)}}e.hoverVucNode=null,e.hoverVucNodeEl=null}))},bindSelectEvent:function(){var e=this;this.addEvent("click",(function(t,n,r){if(!e.handlerHook("onBeforeSelectNode",zt(n,"onBeforeSelectNode"),n))return e.selectVucNode(n,r),!0}))},bindContextmenuEvent:function(){var e=this;this.addEvent("contextmenu",(function(t,n){if(!e.handlerHook("onBeforeSelectNode",zt(n,"onBeforeSelectNode"),n))return e.selectVucNode(n),e.showMenu(t),t.preventDefault(),t.stopPropagation(),!0}))},getDropPosInfo:function(e,t,n){if(this.dropManager.isDrop){var r=this.dropManager.getRelativePosInfo(e,{node:t,el:n},this);if(r&&this.dropManager.dropLimit(r)&&!this.handlerHook("onDragdrop",void 0,this.dropManager.dropData,r.targetNode,r.pos))return r}},bindDropmoveEvent:function(){var e=this;this.addEvent("mousemove",(function(t,n,r){var o=e.getDropPosInfo(t,n,r);if(o){if("inner"===o.pos){var i=o.el.getBoundingClientRect();e.dropManager.proxyPosElementStyle={width:i.width+"px",height:i.height+"px",top:i.top+"px",left:i.left+"px",opacity:.2}}else e.dropManager.proxyPosElementStyle=Object.assign({opacity:.7},o.rect.getStyle(o.pos));return t._stopMove=!0,!0}}))},bindDropupEvent:function(){var e=this;this.addEvent("mouseup",(function(t,n,r){var o=e.getDropPosInfo(t,n,r);if(o)return t._stopUp=!0,o.isNotMove||e.dropManager.getDropVucNode(o).then((function(t){if(t.delSlot(),"inner"===o.pos)e.insertToSlot(n,o.slot,t);else{var r=o.rect.data,i="r"===o.pos||"b"===o.pos?"after":"before";e.insertNode(r,i,t)}})),!0}))},dropStart:function(e,t,n){this.dropManager.dropStart(e,t,n)},addEvent:function(e,t){var n=this,r=function(e){for(var r=e.composedPath(),o=0;o<r.length;o++){var i=r[o];if(i.dataset&&i.dataset.astId){var a=n.getVucNode(i.dataset.astId);if(t(e,a,i))return}}};document.body.addEventListener(e,r),this.__events__=this.__events__||{};var o=this.__events__[e]=this.__events__[e]||[];o.push(r)}}},qt={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapeLock:20,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Insert:45,Delete:46,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,N1:96,N2:97,N3:98,N4:99,N5:100,N6:101,N7:102,N8:103,N9:104,N0:105,"N*":106,"N+":107,NEnter:108,"N-":109,"N.":110,"N/":111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"|":220,"]":221,'"':222},Ht={mounted:function(){this.$el.addEventListener("keydown",this.handleKeyMap)},methods:{_handleKeyMap:function(e){var t=this.currentNode;if(t){if(!e.ctrlKey||e.altKey||e.shiftKey)if(e.ctrlKey||!e.altKey||e.shiftKey){if(!e.ctrlKey&&!e.altKey&&!e.shiftKey)switch(e.keyCode){case qt.Delete:return void this.removeNode(t);case qt.Insert:return void this.insertToSlot(t);case qt.Up:return void(t.parent&&(this.__select__parent__child__curNode__=t,this.selectVucNode(t.parent)));case qt.Down:if(t.children&&t.children.length){var n=t.children.includes(this.__select__parent__child__curNode__)?this.__select__parent__child__curNode__:t.children[0];this.selectVucNode(n)}return;case qt.Left:var r=t.getBeforeNode();return void(r&&this.selectVucNode(r));case qt.Right:var o=t.getAfterNode();return void(o&&this.selectVucNode(o));case qt.Esc:return void this.clearSelected()}}else switch(e.keyCode){case qt.Up:return void this.moveToBefore(t);case qt.Down:return void this.moveToAfter(t);case qt.Left:return void this.moveToBefore(t);case qt.Right:return void this.moveToAfter(t)}else switch(e.keyCode){case qt.C:return void this.copyNode(t);case qt.X:return void this.cutNode(t);case qt.V:return void this.parseNode(t,"after");case qt.I:return void this.insertToSlot(t);case qt.P:return void this.repeatNode(t);case qt.Y:return;case qt.Z:return}return!0}},handleKeyMap:function(e){this._handleKeyMap(e)||(e.stopPropagation(),e.preventDefault())}}};function Wt(e,t,n,r,o,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{class:Object(ie["normalizeClass"])(i.className)},[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.size+1,(function(e){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{key:e,class:Object(ie["normalizeClass"])((e-1)%10==0?"vuc-ruler-0":(e-1)%5==0?"vuc-ruler-50":"")},Object(ie["toDisplayString"])((e-1)%10==0?(e-1)*n.scale:""),3)})),128))],2)}var Yt={props:{direction:{validator:function(e){return-1!==["row","column"].indexOf(e)}},size:Number,scale:Number},computed:{className:function(){return["vuc-ruler","vuc-ruler-"+this.direction]}},data:function(){return{}}};n("9652");Yt.render=Wt;var Gt=Yt,Xt={class:"vuc-ceditor-tagnav"},Jt=["onClick","onMousedown"];function Zt(e,t,n,r,o,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",Xt,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.nodes,(function(e){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{class:Object(ie["normalizeClass"])(["vuc-ceditor-tag",{"vuc-ceditor-tag-cur":e===i.currentNode}]),onClick:function(t){return i.selectInstance(e)},onMousedown:function(t){return i.onDropStart(t,e)},key:e._astId},Object(ie["toDisplayString"])(e.rawTag),43,Jt)})),128))])}var Qt={computed:{currentNode:function(){return this.$parent.currentNode}},data:function(){return{nodes:[]}},watch:{currentNode:function(e){e&&!this.nodes.includes(e)&&this.updateNodes()}},methods:{updateNodes:function(){var e=[],t=this.currentNode;while(t)e.unshift(t),t=t.parent;this.nodes=e},onDropStart:function(e,t){this.$parent.dropStart(e,t,{x:0,y:0,width:"100px",height:"30px"})},selectInstance:function(e){this.$parent.selectVucNode(e)}}};n("300c");Qt.render=Zt;var en=Qt,tn={class:"vuc-selected-layer-name"};function nn(e,t,n,r,o,i){return i.currentNode?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{key:0,class:"vuc-selected-layer",style:Object(ie["normalizeStyle"])(i.layerPosStyle)},[Object(ie["createElementVNode"])("div",tn,Object(ie["toDisplayString"])(i.currentNode.name),1)],4)):Object(ie["createCommentVNode"])("",!0)}var rn={data:function(){return{layerPos:{}}},computed:{currentNode:function(){return this.$parent.currentNode},layerPosStyle:function(){return{top:this.layerPos.top-this.$parent.scrollTop+"px",left:this.layerPos.left-this.$parent.scrollLeft+"px",width:this.layerPos.width+"px",height:this.layerPos.height+"px"}}},created:function(){var e=this;this._intervalId=setInterval((function(){e.updatePos()}),1e3/60)},unmounted:function(){clearInterval(this._intervalId)},watch:{currentNode:function(){this.updatePos()}},methods:{updatePos:function(){var e=this.currentNode;if(e){var t=this.$parent.$el.querySelector(".vuc-ceditor-panle").getBoundingClientRect(),n=this.$parent.currentSelectElement||this.$parent.getVucNodeElement(e);if(n){var r=n.getBoundingClientRect();return void(this.layerPos={top:r.top-t.top+this.$parent.scrollTop,left:r.left-t.left+this.$parent.scrollLeft,width:r.width,height:r.height})}}}}};rn.render=nn;var on=rn,an={class:"vuc-hover-layer-name"};function cn(e,t,n,r,o,i){return i.hoverVucNode?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{key:0,class:"vuc-hover-layer",style:Object(ie["normalizeStyle"])(i.posStyle)},[Object(ie["createElementVNode"])("div",an,Object(ie["toDisplayString"])(i.hoverVucNode.name),1)],4)):Object(ie["createCommentVNode"])("",!0)}var ln={data:function(){return{pos:{top:0,left:-100}}},computed:{hoverVucNode:function(){return this.$parent.hoverVucNode},posStyle:function(){return{top:this.pos.top-this.$parent.scrollTop+"px",left:this.pos.left-this.$parent.scrollLeft+"px",width:this.pos.width+"px",height:this.pos.height+"px"}}},created:function(){var e=this;this._intervalId=setInterval((function(){e.updatePos()}),1e3/60)},unmounted:function(){clearInterval(this._intervalId)},watch:{hoverVucNode:function(){var e=this;this.$nextTick((function(){e.updatePos()}))}},methods:{updatePos:function(){var e=this.hoverVucNode;if(e){var t=this.$parent.$el.querySelector(".vuc-ceditor-panle").getBoundingClientRect(),n=this.$parent.hoverVucNodeEl||this.$parent.getVucNodeElement(e);if(n){var r=n.getBoundingClientRect();this.pos={top:r.top-t.top+this.$parent.scrollTop,left:r.left-t.left+this.$parent.scrollLeft,width:r.width,height:r.height}}}}}};ln.render=cn;var un=ln;function sn(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("DragOutlined"),c=Object(ie["resolveComponent"])("Button");return Object(ie["withDirectives"])((Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{class:"vuc-tag-tools",style:Object(ie["normalizeStyle"])([i.navPosStyle,{width:"30px"}])},[Object(ie["createVNode"])(c,{onMousedown:Object(ie["withModifiers"])(i.dropStart,["left"]),size:"small",title:"移动"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a)]})),_:1},8,["onMousedown"]),(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.buttons,(function(e,t){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{size:"small",title:e.title,key:t,onClick:function(t){return i.handlerClick(t,e)}},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(),Object(ie["createBlock"])(Object(ie["resolveDynamicComponent"])(e.icon)))]})),_:2},1032,["title","onClick"])})),128))],4)),[[ie["vShow"],i.isShow]])}var dn=n("5629"),fn=n.n(dn),pn=[],hn={data:function(){return{navPos:{top:0,left:-100}}},components:{DragOutlined:fn.a,Button:ft["Button"]},computed:{currentNode:function(){return this.$parent.currentNode},isShow:function(){return this.currentNode&&this.currentNode.parent},navPosStyle:function(){return{top:this.navPos.top-this.$parent.scrollTop+"px",left:this.navPos.left-this.$parent.scrollLeft+"px"}},buttons:function(){if(this.currentNode){var e=this.currentNode.getConfig("editorTools")||[];return pn.concat(e)}}},created:function(){var e=this;this._intervalId=setInterval((function(){e.updatePos()}),1e3/60)},unmounted:function(){clearInterval(this._intervalId)},watch:{currentNode:function(){var e=this;this.$nextTick((function(){e.updatePos()}))}},methods:{updatePos:function(){var e=this.currentNode;if(e){var t=this.$parent.$el.querySelector(".vuc-ceditor").getBoundingClientRect(),n=this.$parent.currentSelectElement||this.$parent.getVucNodeElement(e);if(n){var r=n.getBoundingClientRect();this.navPos={top:r.top-t.top-1+this.$parent.scrollTop,left:r.right-t.left+1+this.$parent.scrollLeft};var o=this.$parent.$el.querySelector(".vuc-app-wrapper").scrollWidth;return void(this.navPos.left=Math.min(this.navPos.left,o-10))}}},handlerClick:function(e,t){"string"==typeof t.handler?this[t.handler](e):t.handler.call(null,e,this.currentNode)},dropStart:function(e){var t=this.currentNode,n=this.$parent.getVucNodeElement(t),r=n.getBoundingClientRect();this.$parent.dropStart(e,{node:t,tag:t.tag},{x:0,y:0,width:r.width+"px",height:r.height+"px"})},moveToBefore:function(){this.$parent.moveToBefore(this.currentNode)},moveToAfter:function(){this.$parent.moveToAfter(this.currentNode)},remove:function(){this.$parent.removeNode(this.currentNode)},selectParent:function(){var e=this.currentNode;e.parent&&this.$parent.selectVucNode(e.parent)}}};n("ff42");hn.render=sn;var vn=hn,mn={class:"vuc-structure-header"},bn=Object(ie["createTextVNode"])(" 元素 "),yn={class:"vuc-structure-body"};function On(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("ExpandAltOutlined"),c=Object(ie["resolveComponent"])("vue-node"),l=Object(ie["resolveComponent"])("Tree"),u=Object(ie["resolveComponent"])("context-menu"),s=Object(ie["resolveComponent"])("ExpandOutlined"),d=Object(ie["resolveComponent"])("Tooltip");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{class:Object(ie["normalizeClass"])(["vuc-structure",i.cls])},[o.openState?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:0},[Object(ie["createElementVNode"])("div",mn,[bn,Object(ie["createVNode"])(a,{onClick:i.toggleState,class:"vuc-structure-header-extra"},null,8,["onClick"])]),Object(ie["createElementVNode"])("div",yn,[Object(ie["createVNode"])(l,{selectedKeys:i.selectedKeys,"tree-data":i.ast,replaceFields:{key:"_astId"}},{title:Object(ie["withCtx"])((function(e){var t=e._astId;return[Object(ie["createVNode"])(c,{node:i.getVucNode(t)},null,8,["node"])]})),_:1},8,["selectedKeys","tree-data"]),Object(ie["createVNode"])(u,{show:o.showMenu,"onUpdate:show":t[0]||(t[0]=function(e){return o.showMenu=e}),items:o.contenxtMenuItems,style:Object(ie["normalizeStyle"])(o.contextMenuStyle),onClickItem:i.handleMenu},null,8,["show","items","style","onClickItem"])])],64)):(Object(ie["openBlock"])(),Object(ie["createBlock"])(d,{key:1,title:"显示页面结构"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(s,{style:{color:"#fff"},onClick:i.toggleState},null,8,["onClick"])]})),_:1}))],2)}var jn=n("3f65"),gn=n.n(jn),kn=n("eaa4"),Cn=n.n(kn),xn={key:0,class:"vue-node-attrs"},wn={class:"vue-node-property"},Nn=Object(ie["createElementVNode"])("span",{class:"vue-node-operator"},"=",-1),Sn={class:"vue-node-string"};function En(e,t,n,r,o,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{class:"vue-node",onClick:t[4]||(t[4]=function(){return i.selectNode&&i.selectNode.apply(i,arguments)}),onContextmenu:t[5]||(t[5]=Object(ie["withModifiers"])((function(){return i.showMenu&&i.showMenu.apply(i,arguments)}),["stop","prevent"])),onMousedown:t[6]||(t[6]=Object(ie["withModifiers"])((function(){return i.dropStart&&i.dropStart.apply(i,arguments)}),["stop"]))},[i.isText?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{key:1,class:"vue-node-str",onMousemove:t[2]||(t[2]=function(){return i.dropMove&&i.dropMove.apply(i,arguments)}),onMouseup:t[3]||(t[3]=function(){return i.dropUp&&i.dropUp.apply(i,arguments)})},Object(ie["toDisplayString"])(n.node.getText()),33)):(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:0},[Object(ie["createElementVNode"])("span",{class:"vue-node-tag",onMousemove:t[0]||(t[0]=function(){return i.dropMove&&i.dropMove.apply(i,arguments)}),onMouseup:t[1]||(t[1]=function(){return i.dropUp&&i.dropUp.apply(i,arguments)})},Object(ie["toDisplayString"])(n.node.rawTag),33),i.attrs.length?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",xn,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.attrs,(function(e,t){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{class:"vue-node-attr",style:Object(ie["normalizeStyle"])(t>0?i.marginLeft:null),key:e.name},[Object(ie["createElementVNode"])("span",wn,Object(ie["toDisplayString"])(e.attrName),1),null!==e.attrValue?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:0},[Nn,Object(ie["createElementVNode"])("span",Sn,Object(ie["toDisplayString"])(e.attrValue),1)],64)):Object(ie["createCommentVNode"])("",!0)],4)})),128))])):Object(ie["createCommentVNode"])("",!0)],64))],32)}var Vn={props:{node:Object},inject:["$Structure"],computed:{isText:function(){return this.node.isText()},marginLeft:function(){},attrs:function(){return this.node.props}},data:function(){return{}},methods:{selectNode:function(){this.$Structure.selectNode(this.node)},dropStart:function(e){this.$Structure.dropStart(e,{node:this.node,tag:this.node.tag})},dropMove:function(e){this.$Structure.dropMove(e,this.node)},dropUp:function(e){this.$Structure.dropUp(e,this.node)},showMenu:function(e){this.$Structure.showContextMenu(e,this.node)}}};n("1a8f");Vn.render=En;var Bn=Vn,Pn={mounted:function(){var e=this;this.dropPosProxyElement=null,window.addEventListener("mousemove",(function(t){e.dropPosProxyElement&&(t._stopMove||(e.dropPosProxyElement.style.display="none"))})),window.addEventListener("mouseup",(function(t){e.dropPosProxyElement&&(document.body.removeChild(e.dropPosProxyElement),e.dropPosProxyElement=null)}))},methods:{dropStart:function(e,t){this.editor.dropStart(e,t,{x:0,y:0,width:"100px",height:"30px"})},event:function(e,t,n){if(!e._stopMove){var r=this.editor.dropManager,o=this.editor.dropManager.dropData;if(o){if(r.isOffspring(t))return;var i=In(e,t);if("after"===i&&t.getAfterNode()===o)return;if("before"===i&&t.getBeforeNode()===o)return;n.call(this,i),e._stopMove=!0}}},dropMove:function(e,t){var n=this;this.event(e,t,(function(t){null==n.dropPosProxyElement&&(n.dropPosProxyElement=document.createElement("div"),n.dropPosProxyElement.className="vuc-structure-pos-proxy",document.body.appendChild(n.dropPosProxyElement));var r=e.target.getBoundingClientRect(),o={display:"block",top:r.top+"px",left:r.left+"px",width:r.width-7+"px",height:"0px"},i=!1;"before"===t||("after"===t?o.top=r.top+r.height+"px":(i=!0,o.height=r.height+"px")),n.setProxyClass(i),Object.assign(n.dropPosProxyElement.style,o)}))},setProxyClass:function(e){e?this.dropPosProxyElement.classList.add("vuc-structure-pos-proxy-inner"):this.dropPosProxyElement.classList.remove("vuc-structure-pos-proxy-inner")},dropUp:function(e,t){var n=this;this.event(e,t,(function(e){var r="inner"==e?t:t.getParentNode(),o={pos:e,targetNode:t,parentNode:r};n.editor.dropManager.getDropVucNode(o).then((function(r){r&&("inner"===e?n.editor.appendNode(t,r):n.editor.insertNode(t,e,r,!0))}))}))}}};function In(e,t){var n=6,r=13;return(void 0===t.tag||t.children.length)&&(n=r=10),e.offsetY<=n?"before":e.offsetY>r?"after":"inner"}function _n(e){var t=e.getConfig();if(t&&t.slots){var n=t.slots.map((function(e){return{text:e.name,slot:e,handler:function(t,n){n.insertToSlot(t,e.slot)}}}));return n}}function Tn(e){var t=e.getParentNode();if(t){var n=t.getConfig();if(n&&n.slots){var r=e.getBelongSlotName(),o=n.slots.map((function(e){if(e.slot!==r)return{text:e.name,slot:e,handler:function(t,n){n.moveToSlot(t,e.slot)}}})).filter((function(e){return e}));return o}}}function An(){return[{text:"移动",handler:function(e,t){t.dropStart(this.event,e,{x:0,y:0,width:"100px",height:"30px"})}},{text:"前移",handler:function(e,t){t.moveToBefore(e)}},{text:"后移",handler:function(e,t){t.moveToAfter(e)}},{text:"删除",handler:function(e,t){t.removeNode(e)}}]}function Dn(e,t){var n=[{text:"复制",handler:function(e,t){t.copyNode(e)}},{text:"剪切",handler:function(e,t){t.cutNode(e)}},{text:"重复",handler:function(e,t){t.repeatNode(e)}}];if(t&&t!==e){n.push({text:"粘贴",children:[{text:"前面",handler:function(e,t){t.parseNode(e,"before")}},{text:"后面",handler:function(e,t){t.parseNode(e,"after")}}]});var r=_n(e);r&&n.push({text:"粘贴到插槽",children:r})}return n}function Mn(e){if(e){var t=Tn(e);if(t&&t.length)return[{text:"移动到",children:t}]}}function Fn(e){var t=e.currentNode,n=An(),r=Dn(t,e.curCopyNode),o=Mn(t);return r&&r.length&&(n.push({divided:!0}),n=n.concat(r)),o&&o.length&&(n.push({divided:!0}),n=n.concat(o)),n}var $n={components:{VueNode:Bn,ContextMenu:Ct["d"],ExpandAltOutlined:gn.a,ExpandOutlined:Cn.a,Tree:ft["Tree"],Tooltip:ft["Tooltip"]},provide:function(){return{$Structure:this}},mixins:[Pn],data:function(){return{showMenu:!1,contextMenuStyle:{},openState:!0,contenxtMenuItems:[]}},computed:{vucAst:function(){return this.editor.vucAst},curVucNode:function(){return this.editor.currentNode},selectedKeys:function(){return this.curVucNode?[this.curVucNode._astId]:[]},cls:function(){return this.openState?"":"vuc-structure-close"},ast:function(){var e;if(null!==(e=this.vucAst)&&void 0!==e&&e.rootNode)return[this.vucAst.rootNode]},editor:function(){return this.$parent}},methods:{toggleState:function(){this.openState=!this.openState},getVucNode:function(e){return this.editor.getVucNode(e)},selectNode:function(e){this.curVucNode!==e&&this.editor.selectVucNode(e)},handleMenu:function(e){e.handler(this.curVucNode,this.editor)},showContextMenu:function(e,t){this.selectNode(t);var n=this.$el.getBoundingClientRect();this.showMenu=!0,this.contextMenuStyle={top:e.pageY-n.y+"px",left:e.pageX-n.x+"px"},this.contenxtMenuItems=Fn(this.editor)}}};n("2f34");$n.render=On;var Rn=$n,Ln=Rn,Un={data:function(){return{curCopyNode:null,copyOrCut:null}},methods:{copyNode:function(e){this.curCopyNode=e,this.copyOrCut="copy"},cutNode:function(e){this.curCopyNode=e,this.copyOrCut="cut"},parseNode:function(e,t,n){n||(n="copy"==this.copyOrCut?this.curCopyNode.clone():this.curCopyNode),this.insertNode(e,t,n),"cut"===this.copyOrCut&&n===this.curCopyNode&&(this.curCopyNode=null)},insertNode:function(e,t,n,r){n&&(r||(e.getSlotName()?e.parent.insertToSlot(n,e.getSlotName()):n.getSlotName()&&n.delSlot()),"before"===t?e.insertBefore(n):e.insertAfter(n),this.selectVucNode(n))},insertToSlot:function(e,t,n){n||(n="copy"==this.copyOrCut?this.curCopyNode.clone():this.curCopyNode),n&&(e.insertToSlot(n,t||"default"),this.selectVucNode(n),"cut"===this.copyOrCut&&n===this.curCopyNode&&(this.curCopyNode=null))},repeatNode:function(e){var t=e.clone();e.insertAfter(t),this.selectVucNode(t)},moveToBefore:function(e){e.moveToBefore(),this.selectVucNode(e)},moveToAfter:function(e){e.moveToAfter(),this.selectVucNode(e)},moveToSlot:function(e,t){e.moveToSlot(t),this.selectVucNode(e)},appendNode:function(e,t){e.appendNode(t),this.selectVucNode(t)},removeNode:function(e){if(e.vucAst.rootNode==e)e.vucAst.setRootNode(null),this.clearSelected();else{var t,n=e;"template"===(null===(t=e.parent)||void 0===t?void 0:t.tag)&&1===e.parent.children.length&&(n=e.parent);var r=n.getAfterNode()||n.getBeforeNode()||n.parent;n.remove(),this.selectVucNode(r)}}}},zn={emits:["select-node"],inject:["$designer"],components:{VucEditorRuler:Gt,VucEditorNodeNav:en,VucEditorNodeTools:vn,VucEditorNodeSelectedLayer:on,VucEditorNodeHoverLayer:un,StructureEditor:Ln,ContextMenu:Ct["d"]},mixins:[Kt,Ht,Un],props:{vucAst:Object,options:{type:Object,default:function(){return{}}}},data:function(){return{scrollLeft:0,scrollTop:0,menuState:!1,contextMenuStyle:{},currentNode:null,hoverVucNode:null,rightPanleWidth:300,rootNode:null,contenxtMenuItems:[]}},computed:{showRuler:function(){return void 0===this.options.showRuler||this.options.showRuler},showStructure:function(){return this.options.showStructure}},created:function(){this.$designer.editor=this},mounted:function(){this.loadVuc()},watch:{vucAst:function(e,t){null===t||void 0===t||t.unmount(),this.loadVuc()},currentNode:function(e){this.$emit("select-node",e)},rootNode:{handler:function(e){ve("onNodeTreeChange").forEach((function(t){t(e)}))},deep:!0}},methods:{scroll:function(){this.scrollTop=this.$el.querySelector(".vuc-app-wrapper").scrollTop,this.scrollLeft=this.$el.querySelector(".vuc-app-wrapper").scrollLeft},selectVucNode:function(e,t){this.currentNode=e,this.currentSelectElement=t},clearSelected:function(){this.currentNode=null},showMenu:function(e){var t=e.pageY,n=e.pageX;this.menuState=!0,this.contextMenuStyle={top:t+"px",left:n+"px"},this.contenxtMenuItems=Fn(this)},handleMenu:function(e){var t=this.currentNode;e.handler(t,this)},getVucNode:function(e){return this.vucAst.getVucNodeByAstId(e)},getVucNodeElement:function(e){return document.querySelector('[data-ast-id="'.concat(e._astId,'"]'))},resizeRight:function(e){var t=this,n=e.pageX,r=this.rightPanleWidth,o=function(e){var o=r-(e.pageX-n);o>1e3&&(o=1e3),o<200&&(o=200),t.rightPanleWidth=o},i=function e(){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",i)},updateLayerPos:function(){var e=this;this.$nextTick((function(){e.$refs.selectedLayer.updatePos(),e.$refs.hoverLayer.updatePos(),e.$refs.nodeTools.updatePos()}))},reloadVuc:function(){this.vucAst&&(this.vucAst.unmount(),this.loadVuc())},loadVuc:function(){this.vucAst&&(this.vucAst.createVucProxyApp(),this.rootNode=this.vucAst.rootNode,this.mountVuc())},mountVuc:function(){var e=this.$el.querySelector(".vuc-app-wrapper");this.vucAst.mount(e)},forceUpdateVuc:function(){this.vucAst.forceUpdate()}}};n("6a19");zn.render=kt;var Kn=zn,qn=Kn,Hn=qn,Wn={name:"VucDesigner",components:{DesignerViews:ht,VucEditor:Hn},provide:function(){return{$designer:this}},computed:{leftViewStyle:function(){return{width:"250px",borderRightWidth:"1px"}},rightViewStyle:function(){return{width:this.rightViewWidth+"px",borderLeftWidth:"1px"}}},data:function(){return{rightViewWidth:300}},methods:{resizeRight:function(e){var t=this,n=e.pageX,r=this.rightViewWidth,o=function(e){var o=r-(e.pageX-n);o>1e3&&(o=1e3),o<300&&(o=300),t.rightViewWidth=o},i=function e(t){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",e)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",i)}}};Wn.render=dt;var Yn=Wn,Gn=Yn;function Xn(e,t,n,r,o,i){return Object(ie["openBlock"])(),Object(ie["createBlock"])(Object(ie["resolveDynamicComponent"])(i.editorComponent),Object(ie["mergeProps"])(e.$attrs,{value:o.val,"onUpdate:value":t[0]||(t[0]=function(e){return o.val=e})}),null,16,["value"])}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){Qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er={};function tr(e,t){er[e]=t}function nr(e){var t;return null===(t=er[e])||void 0===t?void 0:t.Editor}function rr(e){return er[e]}var or=n("6071");or.keys().forEach((function(e){var t=or(e),n=t.default;tr(n.editorConfig.id,Zn(Zn({},n.editorConfig),{},{Editor:n}))}));var ir={emits:["update:value"],inheritAttrs:!1,props:{editor:String,value:[String,Number,Boolean]},computed:{editorComponent:function(){return nr(this.editor)}},data:function(){return{val:this.value}},watch:{value:function(){this.val=this.value},val:function(){this.val!==this.value&&this.$emit("update:value",this.val)}}};ir.render=Xn;var ar=ir;oe.registerConfig({registerValueEditor:tr});var cr={};oe.setVucProxyHooks({onBeforeRender:function(e){cr={},e.cancelOutline=function(e){cr[e._astId]=!0}},onRender:function(e){var t=e.node,n=e.attrMap;cr[t._astId]&&(n["no-outline"]="")}});var lr={class:"vuc-explorer"},ur={class:"vuc-explorer-group"},sr=["onDblclick","onClick","onMousedown"];function dr(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("CollapsePanel"),c=Object(ie["resolveComponent"])("Collapse");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",lr,[Object(ie["createVNode"])(c,{style:{border:"none",outline:"none"},tabindex:"999","active-key":o.activeKey,"onUpdate:active-key":t[0]||(t[0]=function(e){return o.activeKey=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.components,(function(t){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{header:t.title,key:t.title},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("div",ur,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(t.children,(function(t){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{class:Object(ie["normalizeClass"])(["vuc-explorer-item",{"vuc-explorer-item-selected":t===o.curSelected}]),onDblclick:function(e){return i.append(t)},onClick:function(e){return i.select(t)},onMousedown:function(e){return i.dropStart(e,t)}},[Object(ie["renderSlot"])(e.$slots,"default",Object(ie["normalizeProps"])(Object(ie["guardReactiveProps"])(t)),(function(){return[Object(ie["createTextVNode"])(Object(ie["toDisplayString"])(t.title),1)]}))],42,sr)})),256))])]})),_:2},1032,["header"])})),128))]})),_:3},8,["active-key"])])}var fr={inject:["$designer"],computed:{activeEditor:function(){return this.$designer.editor},vucAst:function(){return this.activeEditor.vucAst}}},pr={mixins:[fr],components:{Collapse:ft["Collapse"],CollapsePanel:ft["CollapsePanel"]},props:{components:{type:Array,default:function(){return[]}}},data:function(){return{curSelected:null,activeKey:this.components.map((function(e){return e.title}))}},methods:{getV:function(e){var t=Object.assign({},e),n=t.node;return"string"===typeof n&&(t.node=J(n)),t},dropStart:function(e,t){this.activeEditor.dropStart(e,this.getV(t),{x:0,y:0,width:"100px",height:"30px"})},select:function(e){this.curSelected=e},append:function(e){var t=this.activeEditor.currentNode||this.vucAst.rootNode;if(t||!this.vucAst.rootNode){var n;if(e.onDblclick)return e.onDblclick(t);var r=this.getV(e).node;if(Object(u["isFunction"])(r)){var o=r;r=o({parentNode:t,dblClick:!0})}Object(u["isString"])(r)&&(r=J(r)),null!==(n=r)&&void 0!==n&&n.tag&&(t?r.tag===t.tag?this.activeEditor.insertNode(t,"after",r):this.activeEditor.appendNode(t,r):(this.vucAst.setRootNode(r),this.activeEditor.selectVucNode(r)))}}}};n("39d4");pr.render=dr;var hr=pr,vr=hr;function mr(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("code-list"),c=Object(ie["resolveComponent"])("DataForm"),l=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[Object(ie["createVNode"])(a,{data:o.items,columns:o.columns,mode:n.mode,value:e.val,"onUpdate:value":t[0]||(t[0]=function(t){return e.val=t}),onAddItem:i.doEdit,onClickItem:i.doEdit,onDeleteItem:i.doDel,"row-key":"path",defaultExpandedRowKeys:i.defaultExpandedRowKeys},null,8,["data","columns","mode","value","onAddItem","onClickItem","onDeleteItem","defaultExpandedRowKeys"]),Object(ie["createVNode"])(l,{title:"编辑",visible:o.editState,"onUpdate:visible":t[1]||(t[1]=function(e){return o.editState=e}),width:"800px",onOk:i.doSave,"mask-closable":!1,destroyOnClose:""},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{vucAst:e.vucAst,vucData:o.curData},null,8,["vucAst","vucData"])]})),_:1},8,["visible","onOk"])])}var br=n("283b"),yr=n.n(br),Or=n("3166"),jr=n.n(Or);function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kr=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.valueName,r=void 0===n?"value":n,o=t.valName,i=void 0===o?"val":o,a=t.type,c=void 0===a?String:a,l=t.mode,u=void 0===l?"computed":l,s=t.emitUpdate,d=void 0===s||s,f={emits:["update:".concat(r)],props:gr({},r,c)};"computed"==u?f.computed=gr({},i,{get:function(){return this[r]},set:function(e){this.$emit("update:".concat(r),e)}}):(f.data=function(){return gr({},i,null)},f.watch=(e={},gr(e,r,{immediate:!0,handler:function(){this[i]=this[r]}}),gr(e,i,(function(){d&&this.emitUpdate()})),e),f.methods={emitUpdate:function(){this.$emit("update:".concat(r),this[i])}});return f};function Cr(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("FormItem"),l=Object(ie["resolveComponent"])("SelectOption"),u=Object(ie["resolveComponent"])("Select"),s=Object(ie["resolveComponent"])("value-editor"),d=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(d,{labelCol:{flex:"100px"},wrapperCol:{flex:1},model:n.vucData,rules:o.ruleValidate},{default:Object(ie["withCtx"])((function(){return[o.isArraySub?Object(ie["createCommentVNode"])("",!0):(Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{key:0,label:"标识",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.vucData.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.vucData.id=e})},null,8,["value"])]})),_:1})),Object(ie["createVNode"])(c,{label:"备注",name:"name"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.vucData.name,"onUpdate:value":t[1]||(t[1]=function(e){return n.vucData.name=e})},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"值类型"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u,{value:o.editorId,"onUpdate:value":t[2]||(t[2]=function(e){return o.editorId=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.editorOptions,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(l,{value:e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createTextVNode"])(Object(ie["toDisplayString"])(e.name),1)]})),_:2},1032,["value"])})),256))]})),_:1},8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"值内容",name:"code"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(s,Object(ie["mergeProps"])({value:o.data[o.editorId],"onUpdate:value":t[3]||(t[3]=function(e){return o.data[o.editorId]=e}),editor:o.editorId},i.editorOption.propsData),null,16,["value","editor"])]})),_:1}),(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.formExtras,(function(e){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],null,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(e.formItems,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{label:e.label,key:e.label},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(),Object(ie["createBlock"])(Object(ie["resolveDynamicComponent"])(e.component),{"vuc-ast":n.vucAst,data:n.vucData},null,8,["vuc-ast","data"]))]})),_:2},1032,["label"])})),128))],64)})),256))]})),_:1},8,["model","rules"])}function xr(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("DownOutlined"),c=Object(ie["resolveComponent"])("MenuItem"),l=Object(ie["resolveComponent"])("Menu"),u=Object(ie["resolveComponent"])("Dropdown");return Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{trigger:["click"]},{overlay:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,null,{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.editors,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{onClick:function(t){return i.selectEditor(e)},class:Object(ie["normalizeClass"])({"item-selected":n.editorId==e.id}),key:e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createTextVNode"])(Object(ie["toDisplayString"])(e.name),1)]})),_:2},1032,["onClick","class"])})),128))]})),_:1})]})),default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",Object(ie["normalizeProps"])(Object(ie["guardReactiveProps"])(e.$attrs)),[Object(ie["createTextVNode"])(Object(ie["toDisplayString"])(n.title)+" ",1),Object(ie["createVNode"])(a)],16)]})),_:1})}var wr=n("c44b"),Nr=n.n(wr),Sr={name:"EditorDropdown",emits:["update:editorId"],components:{DownOutlined:Nr.a,Dropdown:ft["Dropdown"],Menu:ft["Menu"],MenuItem:ft["MenuItem"]},props:{editors:Array,editorId:String,title:String},methods:{selectEditor:function(e){this.$emit("update:editorId",e.id)}}};Sr.render=xr;var Er=Sr,Vr=[];function Br(e){Vr.push(e)}function Pr(){return Vr}function Ir(e,t){return e.props&&Object(u["isFunction"])(e.props)?e.props(t):e.props}function _r(e,t){if(!e)return null;var n=Object(u["parseComponentAndProps"])(Object(u["isString"])(e)?e:e.type),r=n.id,o=n.props,i={id:r};Object(u["isString"])(e)||Object.assign(i,e),Object(u["isFunction"])(e.props)?i.props=function(){var t=e.props.apply(null,arguments);return Object.assign(o,t)}:Object(u["isObject"])(e.props)?i.props=Object.assign(o,e.props):i.props=o;var a=rr(i.id);return a?Object.assign({propsData:Ir(i,t),validateValue:function(e,t){return null!==e&&void 0!==e&&(t=t||Tr(e),("any"==a.dataType||t==a.dataType)&&(!a.validate||a.validate(e,this.propsData)))},name:a.name,dataType:a.dataType},i):void 0}function Tr(e){return Object(c["isStringType"])(e)?"string":Object(c["isNumberType"])(e)?"number":Object(c["isBooleanType"])(e)?"boolean":"object"}var Ar={components:{CodeEditor:Ct["b"],EditorDropdown:Er,ValueEditor:ar,Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"],Select:ft["Select"],SelectOption:ft["SelectOption"]},props:{vucAst:Object,vucData:Object},data:function(){return{data:{},editorOptions:["string","number","boolean?trueText=真&falseText=假","expression?#inline=false&height=300"].map((function(e){return _r(e)})),formExtras:Object(ie["markRaw"])(Pr()),editorId:"expression",parentPath:null,ruleValidate:{id:[{required:!0,message:"标识必填",trigger:"blur"},{validator:function(e,t,n){return new Promise((function(e,n){Object(u["isIdentifier"])(t)||n("非法的标识符")}))},trigger:"blur"}]},isArraySub:/\[\d+\]/.test(this.vucData.id)}},computed:{editorOption:function(){return this.getEditorOption(this.editorId)},title:function(){return"值(".concat(this.editorOption.name,")")}},watch:{editorId:function(e,t){if(t){var n=this.editorOption,r=this.data[t];n.validateValue(r)&&(this.data[e]=r)}},data:{deep:!0,handler:function(){this.vucData.code=this.data[this.editorId]}},vucData:{immediate:!0,handler:function(){if(this.vucData.path){var e=Object(u["parsePath"])(this.vucData.path),t=e.parentPath;this.parentPath=t}}},"vucData.id":function(e){this.vucData.path=this.parentPath?this.parentPath+"."+e:e}},mounted:function(){this.autoSetEditorId()},methods:{getEditorOption:function(e){return this.editorOptions.find((function(t){return t.id===e}))},autoSetEditorId:function(){var e=this.vucData.code;if(null===e||void 0===e||Dr(e))this.editorId="expression";else{var t=this.editorOptions,n=t.find((function(t){return"expression"!=t.id&&t.validateValue(e)}));this.editorId=n?n.id:"expression"}this.data[this.editorId]=e}}};function Dr(e){return["null","","undefined"].includes(e)}Ar.render=Cr;var Mr=Ar,Fr={string:"字符串",number:"数字",boolean:"布尔",array:"数组",object:"对象",expr:"表达式"},$r={components:{DataForm:Mr,CodeList:Ct["c"],Modal:ft["Modal"]},props:{mode:String},mixins:[fr,kr()],data:function(){return{curData:null,editState:!1,items:[],columns:[{dataIndex:"id",title:"标识符",formatter:function(e,t){return e+(t.name?" (".concat(t.name,")"):"")}},{dataIndex:"type",title:"类型",width:60,formatter:function(e){return Fr[e]}}]}},watch:{vucAst:{immediate:!0,handler:function(e){this.items=e.datas}}},computed:{defaultExpandedRowKeys:function(){var e=[];return jr()(this.value).forEach((function(t){var n=yr()(e);void 0===n?e.push(t):/^\d+$/.test(t)?e.push(n+"[".concat(t,"]")):e.push(n+"."+t)})),e.pop(),e}},methods:{doEdit:function(e){this.editData={},e&&(this.editData={id:e.id,name:e.name,path:e.path,code:e.code}),this.curData=Object.assign({},this.editData),this.editState=!0},doSave:function(){var e=this;this.curData.id&&(this.vucAst.saveData(this.curData,this.editData.id),Pr().forEach((function(t){t.onSave&&t.onSave(e.curData,e.editData,e.vucAst)})),this.editState=!1)},doDel:function(e){this.vucAst.delData(e.path)}}};$r.render=mr;var Rr=$r,Lr=n("b3ab"),Ur=n.n(Lr);function zr(e){function t(t){var n,r,o=t.path||t.id;try{n=new Function("return "+t.code).call(e.vucInstance)}catch(f){return console.error(f),f.description||f.message}var i=Object(u["parsePath"])(o),a=i.parentPath,c=i.arrayIndex,s=i.isArray,d=t.name?"/*".concat(t.name,"*/"):"";return r=s?Object(l["parseExpression"])("[ ".concat(d," ").concat(t.code," ]")).elements[0]:Object(l["getFirstProperty"])("{ ".concat(d," ").concat(t.id,": ").concat(t.code," }")),t=Object(l["objectPropertyExpr2JSON"])(r,a,c),{newValue:n,arrayIndex:c,parentPath:a,data:t,dataExpression:r}}e.dataProperty=e.getExportProperty("data",Object(l["getFirstProperty"])("{ data() { return {} } }"));var n=yr()(e.dataProperty.value.body.body).argument;e.dataProperties=n.properties,e.datas=Object(l["objectExpr2JSON"])(n),Object.assign(e,{saveData:function(e,n){var r=t(e);r.oldId=n||e.id,r.parentPath?this.saveOtherData(r):this.saveRootData(r)},saveRootData:function(e){var t=e.dataExpression,n=e.oldId,r=e.newValue,o=e.data,i=this.dataProperties,a=this.datas,c=Object(l["updateProperty"])(i,t,n);-1!=c?(a.splice(c,1,o),Hr(this.vucInstance,n)):a.push(o),qr(this.vucInstance,o.id,r)},saveOtherData:function(e){var t=e.dataExpression,n=e.oldId,r=e.newValue,o=e.parentPath,i=e.arrayIndex,a=e.data,c=this.getDataProperty(o);if(null==c)return console.error("saveData:不能找到 ".concat(o));"Property"===c.type&&(c=c.value);var u,s=this.getDataByPath(o),d=Ur()(this.vucInstance,o);if("ObjectExpression"==c.type){var f=c.properties;u=Object(l["updateProperty"])(f,t,n),delete d[n],d[a.id]=r}else if("ArrayExpression"==c.type){var p=c.elements;p.splice(i,1,t),u=i,-1!=u?d.splice(u,1,r):d.push(r)}-1!=u?s.children.splice(u,1,a):(s.children||(s.children=[]),s.children.push(a))},delData:function(e){var t=Object(u["parsePath"])(e),n=t.parentPath,r=t.arrayIndex,o=t.isArray,i=t.id;if(n){var a=this.getDataProperty(n);"Property"===a.type&&(a=a.value);var c,l=this.getDataByPath(n),s=Ur()(this.vucInstance,n);if("ObjectExpression"!=a.type||o)"ArrayExpression"==a.type&&o&&(a.elements.splice(r,1),c=r,s.splice(c,1));else{var d=a.properties;c=d.findIndex(Kr(i)),d.splice(c,1),delete s[i]}l.children.splice(c,1),0==l.children.length?l.children=null:o&&l.children.forEach((function(e,t){e.id="[".concat([t],"]"),e.path=n+e.id}))}else{var f=this.dataProperties,p=this.datas,h=f.findIndex(Kr(i));f.splice(h,1),p.splice(h,1),Hr(this.vucInstance,i)}},getDataProperty:function(e){var t=jr()(e),n=t.shift(),r=this.dataProperties.find(Kr(n));while(void 0!==(n=t.shift())&&r)"Property"==r.type&&(r=r.value),r="ObjectExpression"==r.type?r.properties.find(Kr(n)):"ArrayExpression"==r.type?r.elements[n]:null;return r},getDataByPath:function(e){var t=jr()(e),n=t.shift(),r=this.datas.find((function(e){return e.id==n}));while(void 0!==(n=t.shift())&&r)r=r.children?"array"==r.type?r.children[n]:"object"==r.type?r.children.find((function(e){return e.id==n})):null:null;return r}})}function Kr(e){return function(t){return Object(l["getPropertyId"])(t)==e}}function qr(e,t,n){e[t]=n}function Hr(e,t){e[t]=void 0}oe.registerAstProcess(zr),oe.registerConfig("setDataFormExtra",Br);var Wr=Rr;function Yr(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("code-list"),c=Object(ie["resolveComponent"])("computed-form"),l=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[Object(ie["createVNode"])(a,{data:i.items,onAddItem:i.doEdit,onClickItem:i.doEdit,onDeleteItem:i.doDel},null,8,["data","onAddItem","onClickItem","onDeleteItem"]),Object(ie["createVNode"])(l,{title:"编辑",visible:o.editState,"onUpdate:visible":t[0]||(t[0]=function(e){return o.editState=e}),width:"800px",onOk:i.doSave,"mask-closable":!1,destroyOnClose:""},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{vucAst:e.vucAst,vucData:o.curData},null,8,["vucAst","vucData"])]})),_:1},8,["visible","onOk"])])}var Gr=n("9a2f"),Xr=n.n(Gr);function Jr(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("FormItem"),l=Object(ie["resolveComponent"])("code-editor"),u=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{"label-col":{span:4},"wrapper-col":{span:18},model:n.vucData,rules:o.ruleValidate},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"标识",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.vucData.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.vucData.id=e}),placeholder:""},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"名称"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.vucData.name,"onUpdate:value":t[1]||(t[1]=function(e){return n.vucData.name=e}),placeholder:""},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"表达式"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.vucData.code,"onUpdate:value":t[2]||(t[2]=function(e){return n.vucData.code=e}),height:300},null,8,["value"])]})),_:1}),(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.formExtras,(function(e){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],null,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(e.formItems,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{label:e.label,key:e.label},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(),Object(ie["createBlock"])(Object(ie["resolveDynamicComponent"])(e.component),{"vuc-ast":n.vucAst,data:n.vucData},null,8,["vuc-ast","data"]))]})),_:2},1032,["label"])})),128))],64)})),256))]})),_:1},8,["model","rules"])}var Zr=[];function Qr(e){Zr.push(e)}function eo(){return Zr}var to={components:{CodeEditor:Ct["b"],Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"]},props:{vucData:Object,vucAst:Object},data:function(){return{formExtras:eo(),ruleValidate:{id:[{required:!0,message:"标识必填",trigger:"blur"},{validator:function(e,t){return new Promise((function(e,n){Object(u["isIdentifier"])(t)||n("非法的标识符")}))},trigger:"blur"}]}}}};to.render=Jr;var no=to,ro={components:{ComputedForm:no,CodeList:Ct["c"],Modal:ft["Modal"]},mixins:[fr],data:function(){return{curData:null,editState:!1}},computed:{items:function(){return this.vucAst?this.vucAst.computeds:[]}},methods:{doEdit:function(e){this.editData=e,this.curData=Object.assign({},e),this.editState=!0},doSave:function(){if(this.curData.id){var e;if(!Xr()(this.curData,this.editData))this.vucAst.saveComputed(this.curData,null===(e=this.editData)||void 0===e?void 0:e.id);this.editState=!1}},doDel:function(e){this.vucAst.delComputed(e.id)}}};ro.render=Yr;var oo=ro;function io(e){var t=Object(l["extractAnnotations"])(e.leadingComments),n=Object(l["genFunBodyCode"])(e.value);return{id:Object(l["getPropertyId"])(e),name:t.remark(),code:n}}function ao(e){var t=e.getExportProperty("computed",Object(l["getFirstProperty"])("{computed:{}}")),n=t.value.properties,r=n.map(io);Object.assign(e,{computeds:r,computedProperty:t,computedProperties:n,saveComputed:function(e,t){t=t||e.id;var n=this.computeds,r=this.computedProperties,o=this.vucInstance,i=Object(l["getFirstProperty"])("{ /*".concat(e.name,"*/ ").concat(e.id," : function(){ ").concat(e.code," } }")),a=Object(l["updateProperty"])(r,i,t);-1!=a?(n.splice(a,1,e),co(o,t)):n.push(e),uo(o,e),o.$forceUpdate()},delComputed:function(e){var t=this.computeds,n=this.computedProperties,r=this.vucInstance,o=n.findIndex((function(t){return e==Object(l["getPropertyId"])(t)}));n.splice(o,1),t.splice(o,1),co(r,data.id),r.$forceUpdate()}})}function co(e,t){delete e.$.ctx[t]}function lo(){}function uo(e,t){var n=new Function(t.code);n=n.bind(e,e);var r=Object(ie["computed"])({get:n,set:lo});Object.defineProperty(e.$.ctx,t.id,{enumerable:!0,configurable:!0,get:function(){return r.value},set:function(e){return r.value=e}})}oe.registerAstProcess(ao),oe.registerConfig("setComputedFormExtra",Qr);var so=oo;function fo(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("code-list"),c=Object(ie["resolveComponent"])("MethodEditorModal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[Object(ie["createVNode"])(a,{data:i.items,onAddItem:i.doEdit,onClickItem:i.doEdit,onDeleteItem:i.doDel},null,8,["data","onAddItem","onClickItem","onDeleteItem"]),Object(ie["createVNode"])(c,{ref:"modal"},null,512)])}function po(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("method-editor"),c=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{visible:o.editState,"onUpdate:visible":t[0]||(t[0]=function(e){return o.editState=e}),title:"方法编辑",width:"800px",onOk:i.doSave,"mask-closable":!1,destroyOnClose:""},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{ref:"editor",method:o.curData},null,8,["method"])]})),_:1},8,["visible","onOk"])}var ho=n("ef6a"),vo=n.n(ho);function mo(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("FormItem"),l=Object(ie["resolveComponent"])("argument-table"),u=Object(ie["resolveComponent"])("code-editor"),s=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(s,{"label-col":{span:4},"wrapper-col":{span:18},model:n.method,rules:o.ruleValidate,ref:"form"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"标识",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.method.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.method.id=e}),placeholder:"请输入标识"},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"名称",name:"name"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.method.name,"onUpdate:value":t[1]||(t[1]=function(e){return n.method.name=e}),placeholder:"请输入名称"},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"参数列表"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.method.params},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"代码",name:"code"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u,{value:n.method.code,"onUpdate:value":t[2]||(t[2]=function(e){return n.method.code=e})},null,8,["value"])]})),_:1})]})),_:1},8,["model","rules"])}var bo={components:{CodeEditor:Ct["b"],ArgumentTable:Ct["a"],Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"]},props:{method:Object},data:function(){return{ruleValidate:{id:[{required:!0,message:"标识必填",trigger:"blur"},{validator:function(e,t){return new Promise((function(e,n){Object(u["isIdentifier"])(t)||n("非法的标识符")}))},trigger:"blur"}]}}},methods:{validate:function(){return this.$refs.form.validate()}}};bo.render=mo;var yo=bo,Oo={mixins:[fr],data:function(){return{editState:!1,curData:{}}},components:{MethodEditor:yo,Modal:ft["Modal"]},methods:{doEdit:function(e){this.editData=e,this.curData=vo()(Object.assign({params:[]},e)),this.editState=!0},doSave:function(){var e=this;this.curData.id&&this.$refs.editor.validate().then((function(t){if(t){var n;if(!Xr()(e.curData,e.editData))e.vucAst.saveMethod(e.curData,null===(n=e.editData)||void 0===n?void 0:n.id);e.editState=!1}}))}}};Oo.render=po;var jo=Oo,go={mixins:[fr],data:function(){return{editState:!1,curData:{}}},components:{MethodEditorModal:jo,CodeList:Ct["c"]},computed:{items:function(){return this.vucAst?this.vucAst.methods:[]}},methods:{doEdit:function(e){this.$refs.modal.doEdit(e)},doDel:function(e){this.vucAst.delMethod(e.id)}}};go.render=fo;var ko=go;function Co(e){return Object(l["fn2json"])(e)}function xo(e){var t=e.getExportProperty("methods",Object(l["getFirstProperty"])("{ methods: { } }")),n=t.value.properties,r=n.map(Co);Object.assign(e,{methods:r,methodProperty:t,methodProperties:n,saveMethod:function(t,n){n=n||t.id;var r=this.methods,o=this.methodProperties,i=No(t.params),a=wo(t),c=Object(l["getFirstProperty"])("{ ".concat(a," ").concat(t.id,"(").concat(i,") { ").concat(t.code," } }")),u=Object(l["updateProperty"])(o,c,n);-1!=u?(r.splice(u,1,t),delete this.vucInstance[n]):r.push(t),this.vucInstance[t.id]=e.createFunction(No(t.params),t.code,this.vucInstance),this.vucInstance.$forceUpdate()},delMethod:function(e){var t=this.methods,n=this.methodProperties,r=n.findIndex((function(t){return e==Object(l["getPropertyId"])(t)}));n.splice(r,1),t.splice(r,1),delete this.vucInstance[e],this.vucInstance.$forceUpdate()}})}function wo(e){var t,n=[];return e.name&&n.push("* @name ".concat(e.name)),null===(t=e.annotations)||void 0===t||t.forEach((function(e){n.push("* ".concat(e.name," ").concat(e.params))})),e.remark&&n.push(e.remark),n=n.concat(e.params.map((function(e){var t=e.req?"[".concat(e.id,"]"):e.id;return"* @param ".concat(t," ").concat(e.desc||"")}))),n.length?"/**\n".concat(n.join("\n")," \n*/"):""}function No(e){return e.map((function(e){return e.id})).join(",")}oe.registerAstProcess(xo);var So=ko;function Eo(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("code-list"),c=Object(ie["resolveComponent"])("watch-form"),l=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[Object(ie["createVNode"])(a,{data:i.items,onAddItem:i.doEdit,onClickItem:i.doEdit,onDeleteItem:i.doDel},null,8,["data","onAddItem","onClickItem","onDeleteItem"]),Object(ie["createVNode"])(l,{visible:o.editState,"onUpdate:visible":t[0]||(t[0]=function(e){return o.editState=e}),title:"编辑",destroyOnClose:"",width:"800px",keyboard:!1,"mask-closable":!1,onOk:i.doSave},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{vucAst:e.vucAst,data:o.curData},null,8,["vucAst","data"])]})),_:1},8,["visible","onOk"])])}var Vo=Object(ie["createTextVNode"])("deep"),Bo=Object(ie["createTextVNode"])("immediate");function Po(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("FormItem"),l=Object(ie["resolveComponent"])("Col"),u=Object(ie["resolveComponent"])("Checkbox"),s=Object(ie["resolveComponent"])("argument-table"),d=Object(ie["resolveComponent"])("code-editor"),f=Object(ie["resolveComponent"])("Row"),p=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(p,{model:n.data,labelCol:{style:{width:"100px"}},wrapperCol:{style:{flex:1}},rules:o.ruleValidate,ref:"form"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(f,null,{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{span:12},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"标识",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.data.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.data.id=e}),placeholder:"需观察键标识",readonly:n.idReadOnly},null,8,["value","readonly"])]})),_:1})]})),_:1}),Object(ie["createVNode"])(l,{span:12},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"备注",name:"name"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.data.name,"onUpdate:value":t[1]||(t[1]=function(e){return n.data.name=e})},null,8,["value"])]})),_:1})]})),_:1}),Object(ie["createVNode"])(l,{span:24},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"选项"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u,{checked:n.data.deep,"onUpdate:checked":t[2]||(t[2]=function(e){return n.data.deep=e})},{default:Object(ie["withCtx"])((function(){return[Vo]})),_:1},8,["checked"]),Object(ie["createVNode"])(u,{checked:n.data.immediate,"onUpdate:checked":t[3]||(t[3]=function(e){return n.data.immediate=e})},{default:Object(ie["withCtx"])((function(){return[Bo]})),_:1},8,["checked"])]})),_:1})]})),_:1}),Object(ie["createVNode"])(l,{span:24},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"参数列表"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(s,{value:n.data.params},null,8,["value"])]})),_:1})]})),_:1}),Object(ie["createVNode"])(l,{span:24},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"代码",name:"code"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(d,{value:n.data.code,"onUpdate:value":t[4]||(t[4]=function(e){return n.data.code=e})},null,8,["value"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])}var Io={components:{CodeEditor:Ct["b"],ArgumentTable:Ct["a"],Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"],Checkbox:ft["Checkbox"],Row:ft["Row"],Col:ft["Col"]},props:{idReadOnly:Boolean,data:Object,vucAst:Object},data:function(){return{ruleValidate:{id:[{required:!0,message:"标识必填",trigger:"blur"}]}}}};Io.render=Po;var _o=Io,To={components:{Modal:ft["Modal"],WatchForm:_o,CodeList:Ct["c"]},mixins:[fr],data:function(){return{curData:null,editState:!1}},computed:{items:function(){var e;return null===(e=this.vucAst)||void 0===e?void 0:e.watchs}},methods:{doEdit:function(e){this.editData=e,this.curData=Object.assign({params:[]},e),this.editState=!0},doSave:function(){if(this.curData.id){var e;if(!Xr()(this.curData,this.editData))this.vucAst.saveWatch(this.curData,null===(e=this.editData)||void 0===e?void 0:e.id);this.editState=!1}},doDel:function(e){this.vucAst.delWatch(e.id)}}};To.render=Eo;var Ao=To,Do=Object(ie["createTextVNode"])("编辑");function Mo(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("Button"),c=Object(ie["resolveComponent"])("WatchForm"),l=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],null,[Object(ie["createVNode"])(a,{onClick:i.openWatchForm},{default:Object(ie["withCtx"])((function(){return[Do]})),_:1},8,["onClick"]),Object(ie["createVNode"])(l,{title:"监听",visible:o.visible,"onUpdate:visible":t[0]||(t[0]=function(e){return o.visible=e}),width:"800px",onOk:i.save,destroyOnClose:""},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{"vuc-ast":n.vucAst,data:o.watchData,idReadOnly:""},null,8,["vuc-ast","data"])]})),_:1},8,["visible","onOk"])],64)}var Fo={components:{Modal:ft["Modal"],Button:ft["Button"],WatchForm:_o},props:{data:Object,vucAst:Object},data:function(){return{visible:!1,watchData:{id:void 0,params:[]}}},methods:{openWatchForm:function(){var e=this.data.path||this.data.id;if(e){var t=this.vucAst.watchs.find((function(t){return t.id===e}));t?this.watchData=Object.assign({},t):this.watchData.id=e,this.visible=!0}else ft["message"].error("请先填写正确标识")},save:function(){this.data.watchData=this.watchData,this.visible=!1}}};Fo.render=Mo;var $o=Fo;function Ro(e,t,n){return Ro=Lo()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),i=new o;return n&&Uo(i,n.prototype),i},Ro.apply(null,arguments)}function Lo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Uo(e,t){return Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Uo(e,t)}function zo(e){return Wo(e)||Ho(e)||qo(e)||Ko()}function Ko(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qo(e,t){if(e){if("string"===typeof e)return Yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yo(e,t):void 0}}function Ho(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Wo(e){if(Array.isArray(e))return Yo(e)}function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Go(e){var t=e,n=!1,r=!1;"ObjectExpression"===t.value.type&&t.value.properties.forEach((function(e){var o=Object(l["getPropertyId"])(e);"handler"===o?t=e.value:"deep"===o&&"Literal"===e.value.type?n=e.value.value:"immediate"===o&&"Literal"===e.value.type&&(r=e.value.value)}));var o=Object(l["fn2json"])(t,u),i=o.name,a=o.params,c=o.remark,u=o.code;return i=i||c,{id:Object(l["getPropertyId"])(e),name:i,params:a,deep:n,immediate:r,code:u}}function Xo(e){var t=e.getExportProperty("watch",Object(l["getFirstProperty"])("{watch:{}}")),n=t.value.properties,r=n.map(Go);Object.assign(e,{watchs:r,watchProperty:t,watchProperties:n,saveWatch:function(e,t){t=t||e.id;var n=this.watchs,r=this.watchProperties,o=Object(l["getFirstProperty"])(Jo(e)),i=Object(l["updateProperty"])(r,o,t);-1!=i?n.splice(i,1,e):n.push(e),this._teardownWatch(t),this._watch(e)},delWatch:function(e){var t=this.watchs,n=this.watchProperties;this._teardownWatch(e);var r=n.findIndex((function(t){return e==Object(l["getPropertyId"])(t)}));n.splice(r,1),t.splice(r,1)},_watch:function(e){var t=e.params.map((function(e){return e.id})),n=Ro(Function,zo(t).concat([e.code]));this.unwatchs[e.id]=this.vucInstance.$watch(e.id,n,e)},_teardownWatch:function(e){this.unwatchs[e]&&(this.unwatchs[e](),delete this.unwatchs[e])}})}function Jo(e){var t="";e.name&&(t="//".concat(e.name));var n=jr()(e.id).length>1?"'".concat(e.id,"'"):e.id,r="(".concat(e.params.map((function(e){return e.id})).join(","),"){").concat(e.code,"}");return e.immediate||e.deep?(r="handler"+r,"{\n          ".concat(t," \n          ").concat(n,":{ \n            ").concat(e.immediate?"immediate:true,":"","\n            ").concat(e.deep?"deep:true,":"","\n            handler").concat(r,"\n          }\n        }")):"{".concat(t).concat(n).concat(r,"}")}oe.registerAstProcess(Xo);var Zo={onSave:function(e,t,n){e.watchData&&(t.path&&e.path!==t.path?n.delWatch(t.path):t.id&&e.id!==t.id&&n.delWatch(t.id),e.watchData.id=e.path||e.id,n.saveWatch(e.watchData))},formItems:[{label:"监听",component:$o}]};oe.setDataFormExtra(Zo),oe.setComputedFormExtra(Zo);var Qo=Ao;function ei(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("code-list"),c=Object(ie["resolveComponent"])("HookEditor"),l=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[Object(ie["createVNode"])(a,{data:i.items,onAddItem:i.doEdit,onClickItem:i.doEdit,onDeleteItem:i.doDel},null,8,["data","onAddItem","onClickItem","onDeleteItem"]),Object(ie["createVNode"])(l,{visible:o.editState,"onUpdate:visible":t[0]||(t[0]=function(e){return o.editState=e}),title:"方法编辑",width:"800px",onOk:i.doSave,"mask-closable":!1,destroyOnClose:""},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{ref:"editor",method:o.curData},null,8,["method"])]})),_:1},8,["visible","onOk"])])}function ti(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("FormItem"),l=Object(ie["resolveComponent"])("code-editor"),u=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{"label-col":{span:4},"wrapper-col":{span:18},model:n.method,rules:o.ruleValidate,ref:"form"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{label:"标识",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:n.method.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.method.id=e}),placeholder:"请输入标识"},null,8,["value"])]})),_:1}),Object(ie["createVNode"])(c,{label:"代码",name:"code"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.method.code,"onUpdate:value":t[1]||(t[1]=function(e){return n.method.code=e})},null,8,["value"])]})),_:1})]})),_:1},8,["model","rules"])}var ni={components:{CodeEditor:Ct["b"],ArgumentTable:Ct["a"],Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"]},props:{method:Object},data:function(){return{ruleValidate:{id:[{required:!0,message:"标识必填",trigger:"blur"}],code:[{required:!0,message:"代码必填",trigger:"blur"}]}}},methods:{validate:function(){return this.$refs.form.validate()}}};ni.render=ti;var ri=ni,oi={mixins:[fr],data:function(){return{editState:!1,curData:{}}},components:{Modal:ft["Modal"],HookEditor:ri,CodeList:Ct["c"]},computed:{items:function(){return this.vucAst?this.vucAst.hooks:[]}},methods:{doEdit:function(e){this.editData=e,this.curData=vo()(Object.assign({params:[]},e)),this.editState=!0},doSave:function(){var e=this;this.curData.id&&this.$refs.editor.validate().then((function(t){if(t){var n;if(!Xr()(e.curData,e.editData))e.vucAst.saveMethod(e.curData,null===(n=e.editData)||void 0===n?void 0:n.id);e.editState=!1}}))},doDel:function(e){this.vucAst.delMethod(e.id)}}};oi.render=ei;var ii=oi;function ai(e){return Object(l["fn2json"])(e)}function ci(e){var t=Object(ie["computed"])((function(){return["beforeCreate","created","beforeMount","mounted"].map((function(t){return e.getExportProperty(t)})).filter((function(e){return e}))}));Object(ie["watch"])(t,(function(){e.hooks=t.value.map(ai)}),{immediate:!0}),e.updateHookBody=function(t,n){var r=Object(l["getFirstProperty"])("{ ".concat(t,"() { ").concat(n," } }"));Object(l["updateProperty"])(e.exportDefault.declaration.properties,r,t)},e.getHookBody=function(t){var n=e.getExportProperty(t);return null===n||void 0===n?void 0:n.value.body.body}}oe.registerAstProcess(ci);var li=ii;function ui(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("Item");return i.config?(Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{key:0,title:i.config.label},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:o.text,"onUpdate:value":t[0]||(t[0]=function(e){return o.text=e}),onBlur:i.change,onPressEnter:i.change,spellcheck:"false"},null,8,["value","onBlur","onPressEnter"])]})),_:1},8,["title"])):Object(ie["createCommentVNode"])("",!0)}var si={props:{vucNode:Object},computed:{isTextNode:function(){return this.vucNode&&this.vucNode.isText()}}},di={components:{Item:Ct["e"],Input:ft["Input"]},mixins:[fr,si],data:function(){return{text:""}},computed:{config:function(){if(null!=this.vucNode){var e=this.vucNode.getConfig("text");return this.vucNode.isText()||!0===e?{label:"文本"}:Object(u["isObject"])(e)?e:void 0}}},watch:{vucNode:{handler:function(){null!=this.vucNode&&(this.text=this.getText())},immediate:!0}},methods:{change:function(){this.getText()!=this.text&&this.vucNode.setText(this.text)},getText:function(){return this.vucNode.getText()}}};di.render=ui;var fi=di,pi=fi,hi={class:"vuc-panel-view"};function vi(e,t,n,r,o,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",hi,[Object(ie["renderSlot"])(e.$slots,"default")])}var mi={props:{title:String}};n("04f1");mi.render=vi;var bi=mi,yi=bi;function Oi(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("PropPanel");return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{class:"vuc-mode-view",items:i.props},null,8,["items"])}function ji(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("PropItem");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.items,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{key:e.name+e.vucNode._astId,config:e.prop,name:e.name,vucNode:e.vucNode},null,8,["config","name","vucNode"])})),128))])}var gi={key:0,class:"vuc-prop-item-var-name"},ki={key:1,class:"vuc-prop-item-var-placeholder"};function Ci(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("EditorDropdown"),c=Object(ie["resolveComponent"])("LinkOutlined"),l=Object(ie["resolveComponent"])("ValueEditor"),u=Object(ie["resolveComponent"])("Tooltip"),s=Object(ie["resolveComponent"])("VariableSelect"),d=Object(ie["resolveComponent"])("Item");return o.hasConfig&&i.editorOption?(Object(ie["openBlock"])(),Object(ie["createBlock"])(d,{key:0,class:"vuc-prop-item"},{title:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{editorId:o.editorId,"onUpdate:editorId":[t[0]||(t[0]=function(e){return o.editorId=e}),i.changeEditor],title:i.title,editors:o.editorOptions},null,8,["editorId","onUpdate:editorId","title","editors"]),Object(ie["createElementVNode"])("span",{class:"vuc-prop-item-var",onClick:t[1]||(t[1]=function(e){return o.showVariable=!0})},[o.propValue.dataValue?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",gi,Object(ie["toDisplayString"])(o.propValue.dataValue),1)):(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",ki,"绑定变量")),Object(ie["createVNode"])(c)])]})),default:Object(ie["withCtx"])((function(){return["expression"==o.editorId?(Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{key:0,color:"#f50",title:o.errorMessager,visible:i.showError,placement:"bottomLeft"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,Object(ie["mergeProps"])({value:o.propValue[o.editorId],"onUpdate:value":[t[2]||(t[2]=function(e){return o.propValue[o.editorId]=e}),i.changeValue],editor:o.editorId},i.editorOption.propsData),null,16,["value","editor","onUpdate:value"])]})),_:1},8,["title","visible"])):(Object(ie["openBlock"])(),Object(ie["createBlock"])(l,Object(ie["mergeProps"])({key:1,value:o.propValue[o.editorId],"onUpdate:value":[t[3]||(t[3]=function(e){return o.propValue[o.editorId]=e}),i.changeValue],editor:o.editorId},i.editorOption.propsData),null,16,["value","editor","onUpdate:value"])),o.showVariable?(Object(ie["openBlock"])(),Object(ie["createBlock"])(s,{key:2,visible:o.showVariable,"onUpdate:visible":t[4]||(t[4]=function(e){return o.showVariable=e}),value:o.propValue.dataValue,"onUpdate:value":t[5]||(t[5]=function(e){return o.propValue.dataValue=e}),"vuc-ast":n.vucNode.vucAst},null,8,["visible","value","vuc-ast"])):Object(ie["createCommentVNode"])("",!0)]})),_:1})):Object(ie["createCommentVNode"])("",!0)}var xi=n("81e8"),wi=n.n(xi);function Ni(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("DataPanel"),c=Object(ie["resolveComponent"])("Modal");return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{title:"选择变量",visible:o.showModal,bodyStyle:{padding:"0 5px"},width:"400px",onOk:i.save,onCancel:i.cancel,afterClose:i.afterClose,maskClosable:!1},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:e.val,"onUpdate:value":t[0]||(t[0]=function(t){return e.val=t}),mode:"input"},null,8,["value"])]})),_:1},8,["visible","onOk","onCancel","afterClose"])}var Si={emits:["update:value","update:visible"],mixins:[kr({mode:"watch",emitUpdate:!1})],components:{DataPanel:Rr,ComputedPanel:oo,MethodPanel:ko,Modal:ft["Modal"],Tabs:ft["Tabs"],TabPane:ft["TabPane"]},props:{vucAst:Object,visible:Boolean},data:function(){return{showModal:this.visible}},watch:{visible:function(e){this.showModal=e}},computed:{treeData:function(){return this.vucAst.datas},requests:function(){return this.vucAst.requests}},methods:{afterClose:function(){this.$emit("update:visible",!1)},cancel:function(){this.showModal=!1},save:function(){this.showModal=!1,this.emitUpdate()}}};n("9766");Si.render=Ni;var Ei=Si;function Vi(e,t){return Ti(e)||_i(e,t)||Pi(e,t)||Bi()}function Bi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pi(e,t){if(e){if("string"===typeof e)return Ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ii(e,t):void 0}}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _i(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function Ti(e){if(Array.isArray(e))return e}var Ai={name:"prop-item",components:{ValueEditor:ar,DownOutlined:Nr.a,LinkOutlined:wi.a,VariableSelect:Ei,EditorDropdown:Er,Item:Ct["e"],Tooltip:ft["Tooltip"]},emits:["change"],inject:["$designer"],props:{name:String,label:String,config:Object,vucNode:Object},data:function(){var e=this.getPropConfig(),t=!!e;return e=Object.assign({},e,this.config),{hasConfig:t,propConfig:e,propValue:{},value:null,treeData:[],editorId:"",editorOptions:[],errorMessager:"",showVariable:!1}},computed:{title:function(){return this.label||this.propConfig.label},showError:function(){return!!this.errorMessager},editorOption:function(){var e=this;return this.editorOptions.find((function(t){return t.id==e.editorId}))},propAttr:function(){return this.vucNode.getBind(this.name)},data:function(){return this.getData()}},watch:{"propValue.dataValue":function(e){this.changeDataValue(e)},propAttr:function(){this._isSelfChange_?this._isSelfChange_=!1:this.updatePropValue()},data:{handler:function(e,t){(t||e)&&(this.propValue.expression=null===e||void 0===e?void 0:e.code,this.autoSetEditorId(null===e||void 0===e?void 0:e.code))}}},created:function(){this.hasConfig&&(this.updateEditorOptions(),this.updatePropValue())},methods:{getData:function(){if(this.propValue.dataValue)return this.vucNode.vucAst.getDataByPath(this.propValue.dataValue)},getPropConfig:function(){var e=this.vucNode.getConfig("props");return e&&e[this.name]},updateEditorOptions:function(){var e=this,t=Object(u["castArray"])(this.propConfig.editors).concat(["expression"]).map((function(t){return _r(t,e.vucNode)}));this.editorOptions=t.filter((function(e){return e}))},updatePropValue:function(){var e=this.propAttr,t=this.propValue;if(t.dynamic=!1,e){var n=e.attrValue,r=e.isVBind();e.onlyAttrName()&&(r=!0,n="true"),r&&Object(c["isSimplePath"])(n)?t.dataValue=n:(t.expression=r?n:"'".concat(n,"'"),this.autoSetEditorId(t.expression))}else this.editorId=this.editorOptions[0].id},changeEditor:function(){var e=this.propValue[this.editorId];void 0!==e&&null!==e&&this.changeValue()},changeValue:function(){var e=this.editorOption.dataType,t=this.propValue[this.editorId];null!==t&&void 0!==t&&(t=t.toString());var n=t,r=this.propValue.dataValue,o="string"==e;if(this.errorMessager="",r){var i=this.$designer.editor.vucAst,a=i.getDataByPath(r);if(a.path===r&&a.code===n)return;this.errorMessager=i.saveData({id:r.split(".").pop(),name:null===a||void 0===a?void 0:a.name,path:r,code:n}),i.vucInstance.$forceUpdate()}else t&&(o&&(t=t.substring(1,t.length-1)),this.setNodeAttr(t,!o))},changeDataValue:function(e){var t;this.setNodeAttr(e,!0);var n=null===(t=this.getData())||void 0===t?void 0:t.code;this.propValue.expression=n,this.autoSetEditorId(n)},setNodeAttr:function(e,t){var n=this.name,r=this.vucNode,o=(t?":":"")+n,i=e?r.setAttrValue(o,e):r.delAttr(o);i&&(this._isSelfChange_=!0,this.$emit("change",{vucNode:r,value:e,dynamic:t}))},autoSetEditorId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.editorOptions.filter((function(e){return"expression"!=e.id})),n=t.find((function(t){return t.validateValue(e)}));if(!n&&Di(e)&&t.length){var r=Vi(t,1);n=r[0]}n?(this.editorId=n.id,this.propValue[n.id]=e):this.editorId="expression"}}};function Di(e){return["null","","undefined"].includes(e)}n("fbf2");Ai.render=Ci;var Mi=Ai,Fi={props:{items:Array},components:{PropItem:Mi}};Fi.render=ji;var $i=Fi,Ri={components:{PropPanel:$i},mixins:[si],computed:{props:function(){var e=[],t=this.vucNode;if(!t)return e;var n=t.getConfig();if(!n)return e;for(var r in n.props)e.push({name:r,vucNode:t});return e}}};n("5981");Ri.render=Oi;var Li=Ri,Ui={class:"vuc-mode-view"};function zi(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("DirectiveForm");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",Ui,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.directives,(function(t){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{directive:t,vucNode:e.vucNode,key:t.name},null,8,["directive","vucNode"])})),128))])}var Ki={class:"vuc-direct"},qi={class:"vuc-direct-header"},Hi=["title"],Wi={class:"vuc-direct-extra"},Yi={key:0,class:"vuc-direct-body"},Gi={key:0,style:{"text-align":"right",margin:"6px 0"}},Xi=Object(ie["createTextVNode"])("确定"),Ji=Object(ie["createTextVNode"])("取消");function Zi(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("Switch"),c=Object(ie["resolveComponent"])("code-editor"),l=Object(ie["resolveComponent"])("FormItem"),u=Object(ie["resolveComponent"])("Button"),s=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(s,{ref:"form","label-col":{span:8},"wrapper-col":{span:16},model:o.editData,"show-message":!1},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("div",Ki,[Object(ie["createElementVNode"])("div",qi,[Object(ie["createElementVNode"])("span",{class:"vuc-direct-title",title:n.directive.describe},Object(ie["toDisplayString"])(i.dirName),9,Hi),Object(ie["createElementVNode"])("span",Wi,[Object(ie["createVNode"])(a,{checked:n.directive.enable,"onUpdate:checked":t[0]||(t[0]=function(e){return n.directive.enable=e}),size:"small",onChange:t[1]||(t[1]=function(e){return i.changeEnable(n.directive)})},null,8,["checked"])])]),n.directive.enable?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",Yi,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.directive.props,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(l,{name:e.name,required:e.required,label:e.describe,key:e.name},{default:Object(ie["withCtx"])((function(){return[o.editState?(Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{key:0,style:{"margin-top":"-4px"},value:o.editData[e.name],"onUpdate:value":function(t){return o.editData[e.name]=t},inline:"",sm:""},null,8,["value","onUpdate:value"])):(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("code",{key:1,onClick:t[2]||(t[2]=function(e){return i.setEditState(!0)})},Object(ie["toDisplayString"])(n.directive.data[e.name]),1))]})),_:2},1032,["name","required","label"])})),128)),o.editState?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",Gi,[Object(ie["createVNode"])(u,{onClick:i.saveForm,size:"small",type:"primary"},{default:Object(ie["withCtx"])((function(){return[Xi]})),_:1},8,["onClick"]),Object(ie["createVNode"])(u,{onClick:t[3]||(t[3]=function(e){return i.setEditState(!1)}),size:"small",style:{"margin-left":"6px"}},{default:Object(ie["withCtx"])((function(){return[Ji]})),_:1})])):Object(ie["createCommentVNode"])("",!0)])):Object(ie["createCommentVNode"])("",!0)])]})),_:1},8,["model"])}function Qi(e,t){return oa(e)||ra(e,t)||ta(e,t)||ea()}function ea(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ta(e,t){if(e){if("string"===typeof e)return na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?na(e,t):void 0}}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ra(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(l){c=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}return i}}function oa(e){if(Array.isArray(e))return e}var ia={name:"model",describe:"双向绑定",props:[{name:"value",describe:"源数据",required:!0}]},aa=[{name:"show",describe:"可见性",props:[{name:"value",describe:"条件",required:!0}]},{name:"if",describe:"条件渲染",props:[{name:"value",describe:"条件",required:!0}]},{name:"for",describe:"基于源数据多次渲染",props:[{name:"source",describe:"源数据数组",required:!0},{name:"value",describe:"别名",required:!0},{name:"index",describe:"索引"},{name:"key",describe:"key"}]},{name:"text",describe:"插入文本",props:[{name:"value",describe:"文本",required:!0}]},{name:"html",describe:"插入html",props:[{name:"value",describe:"HTML",required:!0}]}];function ca(e){if(!e)return{};var t=e.name,n=e.attrValue;return"for"===t?ha(n):{value:n}}function la(e,t){return e===t||!e&&"modelValue"===t||"modelValue"===e&&!t}function ua(e){var t=e.data,n=t.value,r=t.index,o=t.source,i="v-".concat(e.name);return"v-for"===i&&(n="(".concat(n).concat(r&&" , ".concat(r),") in ").concat(o)),e.arg&&(i+=":"+e.arg),{name:i,value:n}}function sa(e,t){var n=e&&e.map((function(e){var n=t.find((function(t){return"model"==t.name&&la(t.getArgContent(),e)}));return Object.assign({arg:e,enable:null!=n,data:ca(n)},ia)}));return n=n||[],n.concat(aa.map((function(e){var n=t.find((function(t){return t.name==e.name}));return Object.assign({enable:null!=n,data:ca(n)},e)})))}var da=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,fa=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,pa=/^\(|\)$/g;function ha(e){var t=e.match(da);if(t){var n=Qi(t,3),r=n[1],o=n[2],i={source:o.trim(),value:void 0,key:void 0,index:void 0},a=r.trim().replace(pa,"").trim(),c=a.match(fa);if(c){a=a.replace(fa,"").trim();var l=c[1].trim();if(l&&(i.key=l),c[2]){var u=c[2].trim();u&&(i.index=u)}}return a&&(i.value=a),i}}var va={components:{CodeEditor:Ct["b"],Form:ft["Form"],FormItem:ft["FormItem"],Button:ft["Button"],Switch:ft["Switch"]},props:{directive:Object,vucNode:Object},data:function(){return{editState:!1,editData:null}},computed:{dirName:function(){var e=this.directive,t=e.name,n=e.arg;return t="v-".concat(t),n?t+":"+n:t}},watch:{editState:function(e){e&&(this.editData=Object.assign({},this.directive.data))}},methods:{setEditState:function(e){this.editState=e,e||(this.directive.enable=!this.directive.openEnable,this.directive.openEnable=!1)},changeEnable:function(){if(this.editState=this.directive.enable,this.editState)this.directive.openEnable=!0;else{var e=ua(this.directive),t=e.name;this.vucNode.delAttr(t)}},saveForm:function(){var e=this;this.validate().then((function(t){if(t){e.editState=!1,e.directive.data=e.editData,e.directive.openEnable=!1;var n=ua(e.directive),r=n.name,o=n.value;e.vucNode.setAttrValue(r,o),"v-for"===r&&e.vucNode.setAttrValue(":key",e.editData.key)}}))},validate:function(){return this.$refs.form.validate()}}};n("6bf0");va.render=Zi;var ma=va,ba={components:{DirectiveForm:ma},data:function(){return{directives:[]}},mixins:[fr,si],watch:{vucNode:{handler:"loadDirectives",immediate:!0}},methods:{loadDirectives:function(){if(!this.vucNode)return this.directives=[];var e=this.vucNode.getDirectives();this.directives=sa(this.vucNode.getConfig("vModel"),e)}}};ba.render=zi;var ya=ba,Oa=ya,ja={key:0,class:"vuc-mode-view"};function ga(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("event-editor"),c=Object(ie["resolveComponent"])("Modal"),l=Object(ie["resolveComponent"])("code-list");return e.vucNode?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",ja,[Object(ie["createVNode"])(c,{visible:o.editState,"onUpdate:visible":t[0]||(t[0]=function(e){return o.editState=e}),title:"事件编辑",width:"800px","mask-closable":!1,onOk:i.saveEvent},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{ref:"editor",isHTML:i.isHTML,methods:i.VucMethods,event:o.curEvent,eventTypes:i.eventTypes},null,8,["isHTML","methods","event","eventTypes"])]})),_:1},8,["visible","onOk"]),Object(ie["createVNode"])(l,{data:i.curVucNodeEvents,onClickItem:i.editorEvent,onAddItem:i.addEvent,onDeleteItem:i.delEvent,"row-key":"id",columns:o.columns},null,8,["data","onClickItem","onAddItem","onDeleteItem","columns"])])):Object(ie["createCommentVNode"])("",!0)}var ka=n("50a1"),Ca=n.n(ka),xa=n("b32c"),wa=n.n(xa),Na=[{name:"鼠标事件",events:[{id:"click",name:"点击",mouseModifier:!0},{id:"dblclick",name:"双击事件",mouseModifier:!0},{id:"mousedown",name:"鼠标按钮按下",mouseModifier:!0},{id:"mouseup",name:"鼠标按钮释放",mouseModifier:!0},{id:"mousemove",name:"鼠标移动"},{id:"mouseover",name:"鼠标移入"},{id:"mouseout",name:"鼠标移出"},{id:"mousewheel",name:"滚轮滚动"},{id:"scroll",name:"滚动条滚动"}]},{name:"表单事件",events:[{id:"blur",name:"失去焦点"},{id:"change",name:"内容改变"},{id:"contextmenu",name:"上下文菜单"},{id:"focus",name:"获得焦点"},{id:"input",name:"输入"},{id:"submit",name:"提交表单"},{id:"select",name:"文本被选中"}]},{name:"键盘事件",events:[{id:"keydown",name:"按下按键",keyModifier:!0},{id:"keypress",name:"敲击按键",keyModifier:!0},{id:"keyup",name:"释放按键",keyModifier:!0}]},{name:"其他",events:[{id:"load",name:"加载成功"},{id:"error",name:"发生错误"}]}],Sa=[{id:"stop",name:"阻止事件继续传播"},{id:"prevent",name:"阻止事件默认行为"},{id:"capture",name:"使用捕获模式"},{id:"self",name:"只当事件发生在当前元素时"},{id:"once",name:"只触发一次"},{id:"passive",name:"提升移动端滚动性能"}],Ea=[{id:"enter"},{id:"tab"},{id:"delete"},{id:"esc"},{id:"space"},{id:"up"},{id:"down"},{id:"left"},{id:"right"}],Va=[{id:"ctrl"},{id:"alt"},{id:"shift"},{id:"meta"},{id:"exact"}],Ba=[{id:"left"},{id:"right"},{id:"middle"}];function Pa(){return Na}function Ia(e){var t=e.map((function(e){return e.id}));return Na.map((function(e){return{name:e.name,events:e.events.map((function(e){return Object.assign({},e,{id:e.id,label:e.id})})).filter((function(e){return!t.includes(e.id)}))}}))}var _a=/^@|^v-on:/,Ta=/\.[^.\]]+(?=[^\]]*$)/g;function Aa(e){var t={id:"",code:"",modifiers:[],sysModifiers:[],keyModifier:void 0,mouseModifier:void 0},n=e.match(Ta);if(n&&(e=e.replace(Ta,"")),_a.test(e)&&(e=e.replace(_a,"")),n){var r=Na.flatMap((function(e){return e.events})).find((function(t){return t.id==e}));n.forEach((function(e){e=e.substring(1),Ma(Sa,e)&&t.modifiers.push(e),r.keyModifier?Ma(Ea,e)&&(t.keyModifier=e):Ma(Ba,e)&&(t.mouseModifier=e),Ma(Va,e)&&t.sysModifiers.push(e)}))}return t.id=e,t}function Da(e){return _a.test(e)}function Ma(e,t){return e.find((function(e){return e.id==t}))}function Fa(e){var t=[];for(var n in e)if(Da(n)){var r=e[n],o=Aa(n);o.code=r,o.key=n,t.push(o)}return t}function $a(e){return Object.assign({id:"",code:"",modifiers:[],sysModifiers:[],keyModifier:void 0,mouseModifier:void 0},e)}function Ra(e){var t=[e.id,e.keyModifier,e.mouseModifier].concat(e.modifiers).concat(e.sysModifiers);return"@"+t.filter((function(e){return e})).join(".")}var La={style:{color:"#aaa","margin-left":"12px"}},Ua={style:{color:"#aaa","margin-left":"12px"}},za={key:0,style:{color:"#aaa","margin-left":"12px"}},Ka=Object(ie["createTextVNode"])("内联脚本");function qa(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("SelectOption"),c=Object(ie["resolveComponent"])("SelectOptGroup"),l=Object(ie["resolveComponent"])("Select"),u=Object(ie["resolveComponent"])("FormItem"),s=Object(ie["resolveComponent"])("code-editor"),d=Object(ie["resolveComponent"])("Form");return Object(ie["openBlock"])(),Object(ie["createBlock"])(d,{"label-col":{span:4},"wrapper-col":{span:20},model:n.event,rules:o.ruleValidate,ref:"form"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u,{label:"事件类型",name:"id"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.event.id,"onUpdate:value":t[0]||(t[0]=function(e){return n.event.id=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.eventGroups,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{label:e.name,key:e.name},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(e.events,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{value:e.id,label:e.label||e.id,key:e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",null,Object(ie["toDisplayString"])(e.label||e.id),1),Object(ie["createElementVNode"])("span",La,Object(ie["toDisplayString"])(e.name),1)]})),_:2},1032,["value","label"])})),128))]})),_:2},1032,["label"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(ie["createVNode"])(u,{label:"事件修饰符"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.event.modifiers,"onUpdate:value":t[1]||(t[1]=function(e){return n.event.modifiers=e}),mode:"multiple"},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.modifiers,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{value:e.id,label:e.id,key:e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",null,Object(ie["toDisplayString"])(e.id),1),Object(ie["createElementVNode"])("span",Ua,Object(ie["toDisplayString"])(e.desc),1)]})),_:2},1032,["value","label"])})),128))]})),_:1},8,["value"])]})),_:1}),i.showKeyModifier?(Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{key:0,label:"按键修饰符"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.event.keyModifier,"onUpdate:value":t[2]||(t[2]=function(e){return n.event.keyModifier=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.keyModifiers,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{value:e.id,label:e.id,key:e.id},null,8,["value","label"])})),128))]})),_:1},8,["value"])]})),_:1})):Object(ie["createCommentVNode"])("",!0),i.showMouseModifier?(Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{key:1,label:"鼠标修饰符"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.event.mouseModifier,"onUpdate:value":t[3]||(t[3]=function(e){return n.event.mouseModifier=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.mouseModifiers,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{value:e.id,label:e.id,key:e.id},null,8,["value","label"])})),128))]})),_:1},8,["value"])]})),_:1})):Object(ie["createCommentVNode"])("",!0),i.showSysModifier?(Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{key:2,label:"系统修饰"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:n.event.sysModifiers,"onUpdate:value":t[4]||(t[4]=function(e){return n.event.sysModifiers=e}),mode:"multiple"},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.sysModifiers,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{value:e.id,label:e.id,key:e.id},null,8,["value","label"])})),128))]})),_:1},8,["value"])]})),_:1})):Object(ie["createCommentVNode"])("",!0),Object(ie["createVNode"])(u,{label:"代码",name:"code"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,{value:o.type,"onUpdate:value":t[5]||(t[5]=function(e){return o.type=e})},{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(n.methods,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{key:e.id,value:e.id,label:e.name||e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",null,Object(ie["toDisplayString"])(e.id),1),e.name?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",za,Object(ie["toDisplayString"])(e.name),1)):Object(ie["createCommentVNode"])("",!0)]})),_:2},1032,["value","label"])})),128)),Object(ie["createVNode"])(a,{value:o.customCode,label:"内联脚本"},{default:Object(ie["withCtx"])((function(){return[Ka]})),_:1},8,["value"])]})),_:1},8,["value"]),o.type===o.customCode?(Object(ie["openBlock"])(),Object(ie["createBlock"])(s,{key:0,value:n.event.code,"onUpdate:value":t[6]||(t[6]=function(e){return n.event.code=e}),style:{"margin-top":"10px"}},null,8,["value"])):Object(ie["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["model","rules"])}var Ha={components:{CodeEditor:Ct["b"],Form:ft["Form"],FormItem:ft["FormItem"],Input:ft["Input"],Select:ft["Select"],SelectOption:ft["SelectOption"],SelectOptGroup:ft["SelectOptGroup"]},props:{methods:{type:Array,default:function(){return[]}},event:Object,eventTypes:Array,isHTML:Boolean},data:function(){return{ruleValidate:{id:[{required:!0,message:"事件类型必选"}],code:[{required:!0,message:"代码必填",trigger:"blur"}]},modifiers:Sa,sysModifiers:Va,keyModifiers:Ea,mouseModifiers:Ba,type:"",customCode:"custom code"}},computed:{eventGroups:function(){return this.isHTML||null==this.eventTypes?Pa():[{name:"组件事件",events:this.eventTypes}].concat(Ia(this.eventTypes))},eventConfig:function(){return this.findEvent(this.event.id)},showKeyModifier:function(){return this.eventConfig&&this.eventConfig.keyModifier},showMouseModifier:function(){return this.eventConfig&&this.eventConfig.mouseModifier},showSysModifier:function(){return this.showKeyModifier||this.showMouseModifier}},watch:{type:function(e){e!==this.customCode&&(this.event.code=e)},event:{handler:function(){var e=this;this.methods.find((function(t){return t.id===e.event.code}))?this.type=this.event.code:this.type=this.customCode},immediate:!0}},methods:{validate:function(){return this.$refs.form.validate()},findEvent:function(e){return this.eventGroups.flatMap((function(e){return e.events})).find((function(t){return t.id===e}))}}};Ha.render=qa;var Wa=Ha,Ya={components:{EventEditor:Wa,PlusOutlined:Ca.a,DeleteOutlined:wa.a,CodeList:Ct["c"],Modal:ft["Modal"]},mixins:[fr,si],data:function(){return{curEvent:{},editState:!1,columns:[{dataIndex:"id",title:"事件名称",editor:!0,width:80},{dataIndex:"code",title:"事件内容"}]}},computed:{VucMethods:function(){return this.vucAst?this.vucAst.methods:[]},isHTML:function(){return this.vucNode&&this.vucNode.isHTML()},curVucNodeEvents:function(){var e=this.vucNode;return e?Fa(e.getAttrMap()):[]},eventTypes:function(){var e;return this.vucNode&&(e=this.vucNode.getConfig("eventTypes")),e||[]}},methods:{addEvent:function(){this.editorEvent()},editorEvent:function(e){this.vucNode&&(this.curEvent=$a(e),this.editState=!0)},saveEvent:function(){var e=this,t=this.vucNode;this.$refs.editor.validate().then((function(n){if(n){var r=Ra(e.curEvent);t.setAttrValue(r,e.curEvent.code),e.editState=!1}}))},delEvent:function(e){var t=this.vucNode,n=Ra(e);t.delAttr(n)}}};Ya.render=ga;var Ga=Ya;function Xa(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("quick-event-item");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.evnetConfigs,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{key:(e.vucNode||n.vucNode)._astId+e.id,id:e.id,name:e.name,vucNode:e.vucNode||n.vucNode},null,8,["id","name","vucNode"])})),128))])}var Ja=Object(ie["createTextVNode"])(" 新增方法 "),Za=Object(ie["createTextVNode"])("内联脚本");function Qa(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("v-nodes"),c=Object(ie["resolveComponent"])("Divider"),l=Object(ie["resolveComponent"])("plus-outlined"),u=Object(ie["resolveComponent"])("SelectOption"),s=Object(ie["resolveComponent"])("Select"),d=Object(ie["resolveComponent"])("CodeEditor"),f=Object(ie["resolveComponent"])("Modal"),p=Object(ie["resolveComponent"])("MethodEditorModal"),h=Object(ie["resolveComponent"])("Item");return Object(ie["openBlock"])(),Object(ie["createBlock"])(h,{title:n.name},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(s,{value:o.type,"onUpdate:value":t[1]||(t[1]=function(e){return o.type=e}),class:"vuc-quick-select",placeholder:"请选择方法",style:{width:"calc(100% -  40px)"},allowClear:""},{dropdownRender:Object(ie["withCtx"])((function(e){var n=e.menuNode;return[Object(ie["createVNode"])(a,{vnodes:n},null,8,["vnodes"]),Object(ie["createVNode"])(c,{style:{margin:"4px 0"}}),Object(ie["createElementVNode"])("div",{style:{padding:"5px 12px",cursor:"pointer"},onClick:t[0]||(t[0]=function(){return i.addMethod&&i.addMethod.apply(i,arguments)})},[Ja,Object(ie["createVNode"])(l,{class:"vuc-quick-select-icon"})])]})),default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.methods,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{value:e.id,key:e.id},{default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",null,Object(ie["toDisplayString"])(e.id),1)]})),_:2},1032,["value"])})),128)),Object(ie["createVNode"])(u,{value:o.customCode,label:"内联脚本"},{default:Object(ie["withCtx"])((function(){return[Za]})),_:1},8,["value"])]})),_:1},8,["value"]),Object(ie["createElementVNode"])("a",{style:{"margin-left":"6px"},onClick:t[2]||(t[2]=function(){return i.editEvent&&i.editEvent.apply(i,arguments)})},"编辑"),o.type==o.customCode?(Object(ie["openBlock"])(),Object(ie["createBlock"])(f,{key:0,visible:o.editState,"onUpdate:visible":t[4]||(t[4]=function(e){return o.editState=e}),title:"脚本编辑",width:"700px","mask-closable":!1,onOk:i.saveEvent},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(d,{value:o.editCode,"onUpdate:value":t[3]||(t[3]=function(e){return o.editCode=e})},null,8,["value"])]})),_:1},8,["visible","onOk"])):Object(ie["createCommentVNode"])("",!0),Object(ie["createVNode"])(p,{ref:"methodEditorModal"},null,512)]})),_:1},8,["title"])}var ec=n("d64c"),tc=n.n(ec),nc={inject:["$designer"],components:{Item:Ct["e"],CodeEditor:Ct["b"],vNodes:function(e,t){var n=t.attrs;return n.vnodes},MethodEditorModal:jo,EditOutlined:tc.a,PlusOutlined:Ca.a,Select:ft["Select"],SelectOption:ft["SelectOption"],Modal:ft["Modal"],Divider:ft["Divider"]},props:{id:String,name:String,vucNode:Object},data:function(){return{type:"",customCode:"custom code",editCode:"",editState:!1}},computed:{methods:function(){return this.getMethods()},eventInfo:function(){return this.getEventInfo()}},watch:{type:function(e){this.setEventCode(e!=this.customCode?e:this.editCode)},eventInfo:{handler:function(e){e.code&&(this.methods.find((function(t){return t.id===e.code}))?this.type=e.code:(this.editCode=e.code,this.type=this.customCode))},immediate:!0}},methods:{addMethod:function(){this.$refs.methodEditorModal.doEdit()},setEventCode:function(e){if(e!==this.eventInfo.code){this.eventInfo.code=e;var t=Ra(this.eventInfo);this.eventInfo.code?this.vucNode.setAttrValue(t,this.eventInfo.code):this.vucNode.delAttr(t)}},getMethods:function(){var e=this.$designer.editor.vucAst;return e&&e.vucInstance?e.methods:[]},getEventInfo:function(){if(!this.vucNode)return[];var e=Fa(this.vucNode.getAttrMap()),t=this.id;return e.find((function(e){return e.id==t}))||$a({id:t})},editEvent:function(){var e=this;if(this.type==this.customCode)this.editState=!0,this.editCode=this.eventInfo.code;else{var t=this.methods.find((function(t){return t.id===e.eventInfo.code}));t&&this.$refs.methodEditorModal.doEdit(t)}},saveEvent:function(){this.editState=!1,this.setEventCode(this.editCode)}}};n("67a7");nc.render=Qa;var rc=nc,oc={props:{items:Array,vucNode:Object},components:{QuickEventItem:rc},data:function(){return{evnetConfigs:this.items}},watch:{vucNode:{immediate:!0,handler:"updateEventConfigs"},items:function(){this.evnetConfigs=this.items}},methods:{updateEventConfigs:function(e){if(e){var t=e.getConfig("eventTypes");this.evnetConfigs=t?t.filter((function(e){return e.quick})):[]}}}};oc.render=Xa;var ic=oc,ac={key:0,class:"vuc-mode-view"},cc={class:"vuc-style-inline"};function lc(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("style-item");return e.vucNode?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",ac,[Object(ie["createElementVNode"])("div",cc,[Object(ie["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(e){return i.addItem()})},"内联样式 {"),(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.styles,(function(e,t){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{item:e,editType:i.getEditType(e),onEditover:i.editover,onEnterValue:i.editNext,onClick:function(e){return i.addItem(t)},key:e.id},null,8,["item","editType","onEditover","onEnterValue","onClick"])})),128)),Object(ie["createElementVNode"])("div",{onClick:t[1]||(t[1]=function(e){return i.addItem()})},"}")])])):Object(ie["createCommentVNode"])("",!0)}function uc(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("StyleCode");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",{class:Object(ie["normalizeClass"])(["vuc-style-item",n.item.comment?"vuc-style-nocomment":"vuc-style-comment"])},[Object(ie["withDirectives"])(Object(ie["createElementVNode"])("input",{type:"checkbox",class:"vuc-style-checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.item.comment=e}),onChange:t[1]||(t[1]=function(t){return e.$emit("editover",n.item)}),onClick:t[2]||(t[2]=Object(ie["withModifiers"])((function(){}),["stop"]))},null,544),[[ie["vModelCheckbox"],n.item.comment]]),Object(ie["createVNode"])(a,{modelValue:n.item.k,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.item.k=e}),onClick:t[4]||(t[4]=Object(ie["withModifiers"])((function(){}),["stop"])),editstate:"key"==o.eType,onEnter:i.onEnterKey,onEditover:i.changeKey},null,8,["modelValue","editstate","onEnter","onEditover"]),Object(ie["createElementVNode"])("span",{class:"vuc-style-colon",onClick:t[5]||(t[5]=Object(ie["withModifiers"])((function(){}),["stop"]))},":"),Object(ie["createVNode"])(a,{modelValue:n.item.v,"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.item.v=e}),onClick:t[7]||(t[7]=Object(ie["withModifiers"])((function(){}),["stop"])),editstate:"value"==o.eType,onEnter:i.onEnterValue,onEditover:i.changeValue},null,8,["modelValue","editstate","onEnter","onEditover"]),Object(ie["createElementVNode"])("span",{class:"vuc-style-colon",onClick:t[8]||(t[8]=Object(ie["withModifiers"])((function(){}),["stop"]))},";")],2)}var sc=["innerHTML","contenteditable"];function dc(e,t,n,r,o,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("span",{class:"vuc-style-code",innerHTML:o.innerText,contenteditable:o.editable,spellcheck:"false",onKeydown:t[0]||(t[0]=Object(ie["withKeys"])(Object(ie["withModifiers"])((function(){return i.onEnter&&i.onEnter.apply(i,arguments)}),["prevent"]),["enter"])),onFocus:t[1]||(t[1]=function(e){return o.isLocked=!0}),onBlur:t[2]||(t[2]=function(){return i.editover&&i.editover.apply(i,arguments)}),onClick:t[3]||(t[3]=function(){return i.onClick&&i.onClick.apply(i,arguments)}),onInput:t[4]||(t[4]=function(){return i.changeText&&i.changeText.apply(i,arguments)})},null,40,sc)}var fc={emits:["update:modelValue","editover","enter"],props:{modelValue:{type:String,default:""},editstate:Boolean},data:function(){return{innerText:this.modelValue,editable:this.editstate,isLocked:!1}},mounted:function(){this.editable&&this.setFocus()},watch:{editstate:function(e){this.editable=e},value:function(){this.isLocked&&this.innerText||(this.innerText=this.value)},editable:{handler:function(e){var t=this;this.$nextTick((function(){e?t.setFocus():window.getSelection().removeAllRanges()}))}}},methods:{setFocus:function(){this.$el.focus(),window.getSelection().selectAllChildren(this.$el)},changeText:function(){this.$emit("update:modelValue",this.$el.innerHTML||" ")},onClick:function(){this.editable=!0},editover:function(){this.isLocked=!1,this.editable=!1,this.$emit("editover")},onEnter:function(){var e=this;this.editover(),this.$nextTick((function(){e.$emit("enter")}))}}};n("0c2b");fc.render=dc;var pc=fc,hc={emits:["editover"],props:{item:Object,editType:{type:String,default:""}},components:{StyleCode:pc},data:function(){return{eType:this.editType}},watch:{editType:function(e){this.eType=e}},methods:{changeKey:function(){this.$emit("editover",this.item,"key")},changeValue:function(){this.$emit("editover",this.item,"value")},onEnterKey:function(){this.eType="value"},onEnterValue:function(){this.eType=void 0,this.$emit("enter-value",this.item)}}};n("3c9b");hc.render=uc;var vc=hc,mc=1;function bc(e){var t=[];if(e){var n={},r=0,o=e.replace(/\/\*+(.*)?\*+\//g,(function(e,t){var o="$"+r++;return n[o]=t,o}));function i(e,r){e.split(";").forEach((function(e){if(e=e.trim(),e)return r&&n[e]?i(n[e],!1):void t.push({id:++mc,k:e.split(":")[0],v:e.split(":")[1],comment:r})}))}i(o,!0)}return t}function yc(e){return e.map((function(e){var t=e.k+":"+e.v+";";return e.comment?t:"/* ".concat(t," */")})).join("")}function Oc(){return{id:++mc,k:" ",v:" ",comment:!0}}var jc={components:{StyleItem:vc},mixins:[si],data:function(){return{curEvent:{},editState:!1,styles:[],currentItem:void 0,styleStr:""}},computed:{styleRawStr:function(){if(this.vucNode){var e=this.vucNode.getStaticBind("style");return e&&e.attrValue}}},watch:{styleRawStr:{handler:function(e){this.styleStr!=e&&(this.styleStr=e,this.styles=bc(e))},immediate:!0}},methods:{editover:function(e,t){if(this.vucNode){var n=0===e.k.trim().length,r=0===e.v.trim().length;if(n||"value"==t&&r){var o=this.styles.indexOf(e);o>-1&&this.styles.splice(o,1)}var i=yc(this.styles);this.styleStr!=i&&(this.styleStr=i,this.vucNode.setStyle(i))}this.currentItem=void 0},editNext:function(e){var t=this;this.$nextTick((function(){e===t.styles[t.styles.length-1]?t.addItem():t.currentItem=t.styles[t.styles.indexOf(e)+1]}))},addItem:function(e){this.vucNode&&(this.currentItem=Oc(),void 0===e?this.styles.push(this.currentItem):this.styles.splice(e+1,0,this.currentItem))},getEditType:function(e){var t;return(null===(t=this.currentItem)||void 0===t?void 0:t.id)===e.id?"key":void 0}}};jc.render=lc;var gc=jc;function kc(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("quick-style-item");return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",null,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(o.styleConfigs,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(a,{key:e.id,id:e.id,name:e.name,vucNode:e.vucNode||n.vucNode},null,8,["id","name","vucNode"])})),128))])}function Cc(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("Input"),c=Object(ie["resolveComponent"])("Item");return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{class:"vuc-qstyle-item",title:n.name},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a,{value:o.value,"onUpdate:value":t[0]||(t[0]=function(e){return o.value=e}),onBlur:i.saveVaule,onKeydown:Object(ie["withKeys"])(i.blur,["enter"]),allowClear:""},null,8,["value","onBlur","onKeydown"])]})),_:1},8,["title"])}var xc={components:{Item:Ct["e"],Input:ft["Input"]},props:{id:String,name:String,vucNode:Object},data:function(){return{value:""}},computed:{styles:function(){var e=this.vucNode.getStaticBind("style");return bc(e&&e.attrValue)},style:function(){var e=this;return this.styles.find((function(t){return t.k==e.id&&t.comment}))}},watch:{style:function(e){e&&(this.value=e.v)}},methods:{saveVaule:function(){if(this.value)this.style?this.style.v=this.value:this.styles.push({k:this.id,v:this.value,comment:!0});else if(this.style){var e=this.styles.indexOf(this.style);this.styles.splice(e,1)}var t=yc(this.styles);this.vucNode.setStyle(t)},blur:function(){this.$el.querySelector("input").blur()}}};xc.render=Cc;var wc=xc,Nc={components:{QuickStyleItem:wc},props:{items:Array,vucNode:Object},data:function(){return{styleConfigs:this.items}},watch:{vucNode:{immediate:!0,handler:"updateStyleConfigs"},items:function(){this.styleConfigs=this.items}},methods:{updateStyleConfigs:function(e){e&&(this.styleConfigs=e.getConfig("quickStyles")||[])}}};Nc.render=kc;var Sc=Nc,Ec=n("a7ed");function Vc(e){var t,n=[],r=null;return Object(Ec["parseHTML"])(e,{start:function(e,o,i){var a={};o.forEach((function(e){var t=e.value;"false"===e.value?t=!1:"true"!==e.value&&""!==e.value||(t=!0),a[e.name]=t})),Object.assign(a,{tag:e,selector:e.startsWith("type.")?e.substr(5):e,num:void 0===a.num?1:a.num,allowChildren:!1!==a.allowChildren}),r||(r=a),t=n[n.length-1],i||n.push(a),t&&(t.children=t.children||[],t.children.push(a))},end:function(){n.length-=1}}),r}function Bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ic(e,t,n){return t&&Pc(e.prototype,t),n&&Pc(e,n),e}var _c=function(){function e(t,n,r,o){Bc(this,e),this.comboType=t,this.rootNode=n,this.nodeMap=r,this.nodeConfigMap=o}return Ic(e,[{key:"includeNode",value:function(e){return Object.values(this.nodeMap).includes(e)}},{key:"eachNodes",value:function(e){var t=this;Object.values(this.nodeMap).forEach((function(n){return e(n,n===t.rootNode)}))}},{key:"getName",value:function(){return this.comboType.name}},{key:"getOptionConfigs",value:function(){return Object(u["isFunction"])(this.comboType.configs)?this.comboType.configs.call(this,this):this.comboType.configs}},{key:"getNode",value:function(e){return this.nodeMap[e]}},{key:"getNodeConfig",value:function(e){return this.nodeConfigMap[e._astId]}},{key:"onDragdrop",value:function(e,t,n){if(this.comboType.onDragdrop)return this.comboType.onDragdrop(e,t,n)}}]),e}(),Tc=_c;function Ac(e){return Ac="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(e)}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $c(e,t,n){return t&&Fc(e.prototype,t),n&&Fc(e,n),e}var Rc=function(){function e(t){Mc(this,e),Object.assign(this,t),this.rootNode=Vc(t.template)}return $c(e,[{key:"createCombo",value:function(e){var t,n,r=a([this.rootNode],[e]);if(r&&(t=Dc({},this.rootNode.key,e),n=Dc({},e._astId,this.rootNode),i(this.rootNode,e)))return new Tc(this,e,t,n);function o(e){return null==e||0==e.length}function i(e,r){if(o(e.children))return o(r.children)||e.allowChildren;var c=a(e.children,r.children);if(c){for(var l=function(o){if(!c[o+1])return"continue";var a=Lc(c[o+1]),l=e.children[o],u=r.children.find((function(e){return e._astId==a}));return n[u._astId]=l,l.key&&(t[l.key]=u),i(l,u)?void 0:{v:!1}},u=0;u<e.children.length;u++){var s=l(u);if("continue"!==s&&"object"===Ac(s))return s.v}return!0}return!1}function a(e,t){var n=Uc(e||[]),r=Kc(t||[]);return r.match(n)}}}]),e}();function Lc(e){var t=e.match(/id="(.*?)"/);return t?t[1]:void 0}function Uc(e){return new RegExp("^"+e.map(zc).join("")+"$")}function zc(e){var t="";t=e.tag.startsWith("type.")?'(<.[^<>]*class="'.concat(e.selector,'".*[^<>]*>)'):"any"==e.tag?"(<.[^<>]*>)":"(<".concat(Object(u["formatComponentName"])(e.selector),".*[^<>]*>)");var n=parseInt(e.num);return isNaN(n)?t+=e.num:1!==e.num&&(t+="{".concat(n,"}")),t}function Kc(e){return e.map(qc).join("")}function qc(e){if(e.isText())return"<text>";var t=e.getConfig(),n=e.tag;if(!t)return"<".concat(n,' id="').concat(e._astId,'">');var r="";return t.type&&(r=t.type.map((function(e){return' class="'.concat(e,'"')})).join("")),"<".concat(n,' id="').concat(e._astId,'"').concat(r,">")}var Hc=Rc,Wc=Object.create(null);function Yc(e){Wc[e.mode]=e}function Gc(e){return Wc[e]}function Xc(e,t,n){if(!e.items)return{};var r=e.items.filter((function(e){var n=t.getNode(e.nodeKey);return!!n&&((!e.excludeTags||!Object(u["castArray"])(e.excludeTags).some((function(e){return n.eqTag(e)})))&&!(!1===e.show||Object(u["isFunction"])(e.show)&&!1===e.show(n)))})).map((function(e){var r=t.getNode(e.nodeKey),o={};return n.forEach((function(t){o[t]=e[t]})),o.vucNode=r,o}));return{items:r}}Yc({mode:"prop",Component:$i,parseComponentProps:function(e,t){return Xc(e,t,["name","label"])}}),Yc({mode:"event",Component:ic,parseComponentProps:function(e,t){return Xc(e,t,["name","id"])}}),Yc({mode:"style",Component:Sc,parseComponentProps:function(e,t){return Xc(e,t,["name","id"])}});var Jc=Object.create(null);function Zc(e){Jc[e.id]=new Hc(e)}function Qc(e){for(var t in Jc){var n=Jc[t],r=n.createCombo(e);if(r)return r}}function el(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=tl(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function tl(e,t){if(e){if("string"===typeof e)return nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nl(e,t):void 0}}function nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}oe.registerConfig({registerComboType:Zc,registerComboMode:Yc}),oe.registerAstProcess((function(e){function t(n){var r=Qc(n);r?e.combos.push(r):n.children&&n.children.forEach(t)}e.combos=[],e.maybeCombo=function(t){return e.combos.find((function(e){return e.rootNode===t}))};var n=Object(ie["computed"])((function(){return e.rootNode}));Object(ie["watch"])(n,(function(){e.combos=[],e.rootNode&&t(e.rootNode)}),{deep:!0,immediate:!0})})),oe.setVucEditorHooks({onBeforeSelectNode:function(e){var t,n=!0,r=el(e.vucAst.combos);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.includeNode(e)){if(e===o.rootNode)return!0;n=!1}}}catch(i){r.e(i)}finally{r.f()}return n},onDragdrop:function(e,t,n){var r,o=el(t.vucAst.combos);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.includeNode(t)){if(t===i.rootNode&&"inner"!=n)return!0;if("inner"===n){var a=i.getNodeConfig(t);if(a&&a.dragover)return}if(i.onDragdrop(e,t,n))return;return!1}}}catch(c){o.e(c)}finally{o.f()}}}),oe.setVucProxyHooks({onBeforeRender:function(e){e.vucAst.combos.forEach((function(t){t.eachNodes((function(n,r){if(!r){var o=t.getNodeConfig(n);if(o.dragover)return;e.cancelOutline&&e.cancelOutline(n)}}))}))}});var rl={key:0,class:"vuc-mode-view"};function ol(e,t,n,r,o,i){return i.comboModes?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",rl,[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.comboModes,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(Object(ie["resolveDynamicComponent"])(e.Component),Object(ie["normalizeProps"])(Object(ie["mergeProps"])({key:e.title},e.componentProps)),null,16)})),128))])):Object(ie["createCommentVNode"])("",!0)}var il={emits:["combo-change"],mixins:[fr,si],data:function(){return{combo:null}},computed:{comboModes:function(){var e,t=this,n=null===(e=this.combo)||void 0===e?void 0:e.getOptionConfigs();return null===n||void 0===n?void 0:n.map((function(e){var n=Gc(e.mode);return{title:e.title,Component:n.Component,componentProps:n.parseComponentProps(e,t.combo)}}))}},watch:{vucNode:{handler:function(e){this.combo=e?this.vucAst.maybeCombo(e):null},immediate:!0},combo:function(e){this.$emit("combo-change",e)}},methods:{}};il.render=ol;var al=il,cl=Object(ie["createTextVNode"])("更多选项 ");function ll(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("DownOutlined"),c=Object(ie["resolveComponent"])("MenuItem"),l=Object(ie["resolveComponent"])("Menu"),u=Object(ie["resolveComponent"])("Dropdown");return Object(ie["openBlock"])(),Object(ie["createBlock"])(u,{trigger:"click"},{overlay:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l,null,{default:Object(ie["withCtx"])((function(){return[(Object(ie["openBlock"])(!0),Object(ie["createElementBlock"])(ie["Fragment"],null,Object(ie["renderList"])(i.nodeList,(function(e){return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{class:Object(ie["normalizeClass"])({"item-selected":n.value==e.node}),onClick:function(t){return i.selectNode(e.node)},key:e.key},{default:Object(ie["withCtx"])((function(){return[Object(ie["createTextVNode"])(Object(ie["toDisplayString"])(e.name||e.key),1)]})),_:2},1032,["class","onClick"])})),128))]})),_:1})]})),default:Object(ie["withCtx"])((function(){return[Object(ie["createElementVNode"])("span",Object(ie["mergeProps"])({class:"vuc-combo-drowdown"},e.$attrs),[cl,Object(ie["createVNode"])(a)],16)]})),_:1})}var ul={inheritAttrs:!1,name:"ComboDrowdown",emits:["update:value"],props:{combo:Object,value:Object},components:{DownOutlined:Nr.a,Dropdown:ft["Dropdown"],Menu:ft["Menu"],MenuItem:ft["MenuItem"]},computed:{nodeList:function(){var e=[{key:"_combo",node:null,name:"组合选项"}];for(var t in this.combo.nodeMap){var n=this.combo.nodeMap[t];e.push({key:t,node:n,name:n.getConfig("name")})}return e}},methods:{selectNode:function(e){this.$emit("update:value",e)}}};ul.render=ll;var sl=ul,dl={class:"vuc-codeeditor"};function fl(e,t,n,r,o,i){return Object(ie["openBlock"])(),Object(ie["createElementBlock"])("div",dl)}n("e5cc"),n("9d05"),n("63c4");var pl=n("bf73"),hl=n.n(pl),vl=(n("3342"),n("9bd9"),n("2b65"),n("08dc"),n("3a6d"),n("d31d"),n("cb65"),n("8590"),n("42a3"),n("fcfb"),n("34a2"),n("d436"),{emits:["update:value","change"],props:{value:String,width:[String,Number],height:{type:[String,Number],default:300}},data:function(){return{code:this.value}},watch:{value:{handler:function(){var e=this;this.value!=this.code&&(this.code=this.value,this.$nextTick((function(){e._setValue=!0,e.codeMirror.setValue(e.code||""),e.codeMirror.display.lastWrapHeight=0})))},immediate:!0},code:function(){this.code!=this.value&&this.$emit("update:value",this.code)}},mounted:function(){var e=this,t={gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],foldGutter:!0,foldOptions:{widget:"..."}};this.codeMirror=hl()(this.$el,Object.assign({value:this.value||"",lineNumbers:!0,mode:"vue",indentWithTabs:!1,autoCloseBrackets:!0,autoRefresh:!0,extraKeys:{"Alt-/":function(t){t.showHint({editor:e})},Tab:function(e){if(e.somethingSelected())e.indentSelection("add");else{var t=Array(e.getOption("indentUnit")+1).join(" ");e.replaceSelection(t)}},F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))}}},t)),this.codeMirror.setSize(this.width,this.height),this.codeMirror.on("change",ce()((function(){e._setValue?e._setValue=!1:e.code=e.codeMirror.getValue()}),300));var n="";this.codeMirror.on("focus",(function(){n=e.code})),this.codeMirror.on("blur",(function(){n!==e.code&&e.$emit("change",e.code)}))},methods:{}});vl.render=fl;var ml=vl,bl=ml;function yl(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("combo-drowdown"),c=Object(ie["resolveComponent"])("combo-panel"),l=Object(ie["resolveComponent"])("SampleCard"),u=Object(ie["resolveComponent"])("text-panel"),s=Object(ie["resolveComponent"])("props-panel"),d=Object(ie["resolveComponent"])("quick-event-panel"),f=Object(ie["resolveComponent"])("quick-style-panel"),p=Object(ie["resolveComponent"])("event-panel"),h=Object(ie["resolveComponent"])("style-panel"),v=Object(ie["resolveComponent"])("directive-panel"),m=Object(ie["resolveComponent"])("panel-view");return Object(ie["openBlock"])(),Object(ie["createBlock"])(m,{title:"组件选项"},{default:Object(ie["withCtx"])((function(){return[o.combo?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:0},[Object(ie["createVNode"])(a,{class:"vuc-sample-designer-combo-drowdown",combo:o.combo,value:o.configNode,"onUpdate:value":t[0]||(t[0]=function(e){return o.configNode=e})},null,8,["combo","value"]),o.configNode?Object(ie["createCommentVNode"])("",!0):(Object(ie["openBlock"])(),Object(ie["createBlock"])(l,{key:0,title:"组合选项"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{vucNode:n.selectNode},null,8,["vucNode"])]})),_:1}))],64)):Object(ie["createCommentVNode"])("",!0),o.configNode?(Object(ie["openBlock"])(),Object(ie["createElementBlock"])(ie["Fragment"],{key:1},[Object(ie["createVNode"])(l,{title:"选项"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u,{vucNode:o.configNode},null,8,["vucNode"]),Object(ie["createVNode"])(s,{vucNode:o.configNode},null,8,["vucNode"]),Object(ie["createVNode"])(d,{vucNode:o.configNode},null,8,["vucNode"]),Object(ie["createVNode"])(f,{vucNode:o.configNode},null,8,["vucNode"])]})),_:1}),Object(ie["createVNode"])(l,{title:"事件"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(p,{vucNode:o.configNode},null,8,["vucNode"])]})),_:1}),Object(ie["createVNode"])(l,{title:"样式"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(h,{vucNode:o.configNode},null,8,["vucNode"])]})),_:1}),Object(ie["createVNode"])(l,{title:"指令"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(v,{vucNode:o.configNode},null,8,["vucNode"])]})),_:1})],64)):Object(ie["createCommentVNode"])("",!0)]})),_:1})}function Ol(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("MenuUnfoldOutlined"),c=Object(ie["resolveComponent"])("Card");return Object(ie["openBlock"])(),Object(ie["createBlock"])(c,{hoverable:!1,size:"small"},{title:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a),Object(ie["createTextVNode"])(" "+Object(ie["toDisplayString"])(n.title),1)]})),extra:Object(ie["withCtx"])((function(){return[Object(ie["renderSlot"])(e.$slots,"extra")]})),default:Object(ie["withCtx"])((function(){return[Object(ie["renderSlot"])(e.$slots,"default")]})),_:3})}var jl=n("a3c8"),gl=n.n(jl),kl={name:"VucCard",components:{MenuUnfoldOutlined:gl.a,Card:ft["Card"]},props:{title:String}};kl.render=Ol;var Cl=kl,xl={name:"SampleNodePanel",components:{SampleCard:Cl,PanelView:yi,PropsPanel:Li,StylePanel:gc,EventPanel:Ga,DirectivePanel:Oa,TextPanel:pi,ComboPanel:al,ComboDrowdown:sl,QuickEventPanel:ic,QuickStylePanel:Sc},props:{vucAst:Object,selectNode:Object},data:function(){return{configNode:null,combo:null}},watch:{selectNode:{immediate:!0,handler:function(e){this.combo=this.vucAst.maybeCombo(e),this.configNode=this.combo?null:e}}}};xl.render=yl;var wl=xl;function Nl(e,t,n,r,o,i){var a=Object(ie["resolveComponent"])("data-panel"),c=Object(ie["resolveComponent"])("SampleCard"),l=Object(ie["resolveComponent"])("computed-panel"),u=Object(ie["resolveComponent"])("method-panel"),s=Object(ie["resolveComponent"])("watch-panel"),d=Object(ie["resolveComponent"])("panel-view");return Object(ie["openBlock"])(),Object(ie["createBlock"])(d,{title:n.title},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(c,{title:"data"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(a)]})),_:1}),Object(ie["createVNode"])(c,{title:"computed"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(l)]})),_:1}),Object(ie["createVNode"])(c,{title:"methods"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(u)]})),_:1}),Object(ie["createVNode"])(c,{title:"watch"},{default:Object(ie["withCtx"])((function(){return[Object(ie["createVNode"])(s)]})),_:1})]})),_:1},8,["title"])}var Sl={name:"SampleOptionPanel",props:{title:String},components:{SampleCard:Cl,DataPanel:Wr,ComputedPanel:so,MethodPanel:So,WatchPanel:Qo,PanelView:yi}};Sl.render=Nl;var El=Sl;function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(n),!0).forEach((function(t){Pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Il(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(ie["isVNode"])(e)}var _l={components:{Designer:Gn,Editor:Hn,ExplorerView:vr,SfcEditor:bl,SampleNodePanel:wl,SampleOptionPanel:El},props:{editorOptions:Object,vueContent:String,explorerComponents:Array},data:function(){return{vucAst:null,selectNode:null,configNode:null,showSfcEditor:!1,sfcCode:null}},watch:{vueContent:{handler:function(e){this.vucAst=ct(e)},immediate:!0}},methods:{changeCurrentNode:function(e){this.selectNode=e},editSfcCode:function(){var e=this.vucAst.getContent();this.showSfcEditor=!0,this.sfcCode=e},saveSfcCode:function(){this.vucAst=ct(this.sfcCode),this.showSfcEditor=!1},importVue:function(){var e=document.createElement("input");e.type="file",e.onchange=function(){var e=this,t=new FileReader;t.onload=function(){e.vucAst=ct(t.result),ft["message"].success("导入成功")},t.readAsText(this.files[0])},e.click()},repeatNode:function(){ft["message"].success("导入成功");var e=this.$refs.editor;e.currentNode&&e.repeatNode(e.currentNode)},delSelect:function(){var e=this.$refs.editor;e.currentNode&&e.removeNode(e.currentNode)},moveToBefore:function(){var e=this.$refs.editor;e.currentNode&&e.moveToBefore(e.currentNode)},moveToAfter:function(){var e=this.$refs.editor;e.currentNode&&e.moveToAfter(e.currentNode)},selectParent:function(){var e,t=this.$refs.editor,n=null===(e=t.currentNode)||void 0===e?void 0:e.getParentNode();n&&t.selectVucNode(n)},forceUpdateVuc:function(){this.$refs.editor.forceUpdateVuc()},reloadVuc:function(){this.$refs.editor.reloadVuc()}},render:function(){var e=this,t={left:function(){return e.$slots.left?e.$slots.left({vucAst:e.vucAst,selectNode:e.selectNode}):Object(ie["createVNode"])(vr,{title:"组件",components:e.explorerComponents},null)},right:function(){return e.$slots.right?e.$slots.right({vucAst:e.vucAst,selectNode:e.selectNode}):[Object(ie["createVNode"])(wl,{title:"组件选项",vucAst:e.vucAst,selectNode:e.selectNode},null),Object(ie["createVNode"])(El,{title:"页面选项"},null)]}},n=[{text:"导入",handler:this.importVue},{text:"前移",handler:this.moveToBefore},{text:"后移",handler:this.moveToAfter},{text:"重复",handler:this.repeatNode},{text:"删除",handler:this.delSelect},{text:"选中父组件",handler:this.selectParent},{text:"编辑源码",handler:this.editSfcCode},{text:"刷新",handler:this.forceUpdateVuc}],r=n.map((function(e){return Object(ie["createVNode"])(ft["Button"],{type:"text",onClick:e.handler},{default:function(){return[e.text]}})}));return this.$slots.toolbar&&(r=this.$slots.toolbar({vucAst:this.vucAst,selectNode:this.selectNode})),Object(ie["createVNode"])("div",{class:"vuc-sample-designer"},[Object(ie["createVNode"])("div",{class:"vuc-sample-designer-toolbar"},[Object(ie["createVNode"])(ft["Space"],null,Il(r)?r:{default:function(){return[r]}})]),Object(ie["createVNode"])(Gn,{ref:"designer",style:"height: calc(100% - 37px)"},Bl({default:function(){return[Object(ie["createVNode"])(Hn,{ref:"editor",onSelectNode:e.changeCurrentNode,vucAst:e.vucAst,options:e.editorOptions},null)]}},t)),Object(ie["createVNode"])(ft["Modal"],{visible:e.showSfcEditor,"onUpdate:visible":function(t){return e.showSfcEditor=t},title:"源代码",width:"100%",onOk:this.saveSfcCode},{default:function(){return[Object(ie["createVNode"])(bl,{value:e.sfcCode,"onUpdate:value":function(t){return e.sfcCode=t},height:"600px"},null)]}})])}},Tl=(n("c0a8"),_l)},fbf2:function(e,t,n){"use strict";n("9842")},fcfb:function(e,t){e.exports=n("e1de")},ff42:function(e,t,n){"use strict";n("51cc")}})}))}).call(this,n("62e4")(e))},f3e3:function(e,t,n){"use strict";n.r(t);var r=n("ddfa");t["default"]={id:"a-input-group",name:"输入框组",type:["input-group"],props:{compact:{label:"紧凑模式",editors:"boolean"},size:{label:"尺寸",editors:Object(r["a"])()}}}},fdb9:function(e,t,n){"use strict";n.r(t),t["default"]={id:"a-slider",name:"滑动输入条",eventTypes:[{id:"afterChange",name:"鼠标松开"},{id:"change",name:"值改变"}],type:["input","slider"],props:{max:{label:"最大值",editors:"number"},min:{label:"最小值",editors:"number"},range:{label:"双滑块模式",editors:"boolean"},disabled:{label:"禁用",editors:"boolean"},included:{label:"刻度关系",editors:"boolean?trueText=包含&falseText=并列"},marks:{label:"刻度"},dots:{label:"强制刻度",editors:"boolean"},reverse:{label:"坐标轴反转",editors:"boolean"},step:{label:"步长",editors:"string"},tipFormatter:{label:"提示格式化"},tooltipVisible:{label:"始终显示提示",editors:"boolean"},vertical:{label:"垂直模式",editors:"boolean"},value:{label:"值",editors:"number"}},vModel:["checked"],vucProxyOption:{textProxy:!1}}}});
//# sourceMappingURL=app.8db273e8.js.map